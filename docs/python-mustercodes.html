<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 11 Python Mustercodes | Data Science from Scratch Code</title>
  <meta name="description" content="Chapter 11 Python Mustercodes | Data Science from Scratch Code" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 11 Python Mustercodes | Data Science from Scratch Code" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 11 Python Mustercodes | Data Science from Scratch Code" />
  
  
  

<meta name="author" content="Joffrey Anthony" />


<meta name="date" content="2022-05-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="mengenlehre.html"/>
<link rel="next" href="openai.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">DS from Scratch Codes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Computer Set-Up</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#mac-tricks"><i class="fa fa-check"></i><b>1.1</b> Mac Tricks</a><ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#öffne-die-developer-tools-von-google-chrome"><i class="fa fa-check"></i><b>1.1.1</b> Öffne die Developer-Tools von Google-Chrome</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#speichern"><i class="fa fa-check"></i><b>1.1.2</b> Speichern</a></li>
<li class="chapter" data-level="1.1.3" data-path="index.html"><a href="index.html#speichern-unter"><i class="fa fa-check"></i><b>1.1.3</b> Speichern Unter</a></li>
<li class="chapter" data-level="1.1.4" data-path="index.html"><a href="index.html#finder"><i class="fa fa-check"></i><b>1.1.4</b> Finder</a></li>
<li class="chapter" data-level="1.1.5" data-path="index.html"><a href="index.html#programm-schliessen"><i class="fa fa-check"></i><b>1.1.5</b> Programm schliessen</a></li>
<li class="chapter" data-level="1.1.6" data-path="index.html"><a href="index.html#neuer-ordner"><i class="fa fa-check"></i><b>1.1.6</b> Neuer Ordner</a></li>
<li class="chapter" data-level="1.1.7" data-path="index.html"><a href="index.html#tilde-zeichen"><i class="fa fa-check"></i><b>1.1.7</b> Tilde Zeichen</a></li>
<li class="chapter" data-level="1.1.8" data-path="index.html"><a href="index.html#backslash"><i class="fa fa-check"></i><b>1.1.8</b> Backslash</a></li>
<li class="chapter" data-level="1.1.9" data-path="index.html"><a href="index.html#screenshot-vom-bildschirm"><i class="fa fa-check"></i><b>1.1.9</b> Screenshot vom Bildschirm</a></li>
<li class="chapter" data-level="1.1.10" data-path="index.html"><a href="index.html#teil-des-bildschirms-screen-schoten"><i class="fa fa-check"></i><b>1.1.10</b> Teil des Bildschirms Screen-Schoten</a></li>
<li class="chapter" data-level="1.1.11" data-path="index.html"><a href="index.html#verlauf-löschen-in-chrome-browser"><i class="fa fa-check"></i><b>1.1.11</b> Verlauf löschen in Chrome Browser</a></li>
<li class="chapter" data-level="1.1.12" data-path="index.html"><a href="index.html#verlauf-löschen-safari"><i class="fa fa-check"></i><b>1.1.12</b> Verlauf löschen Safari</a></li>
<li class="chapter" data-level="1.1.13" data-path="index.html"><a href="index.html#bildschirm-aufnahme"><i class="fa fa-check"></i><b>1.1.13</b> Bildschirm Aufnahme</a></li>
<li class="chapter" data-level="1.1.14" data-path="index.html"><a href="index.html#lesezeichen-in-google-chrome"><i class="fa fa-check"></i><b>1.1.14</b> Lesezeichen in Google Chrome</a></li>
<li class="chapter" data-level="1.1.15" data-path="index.html"><a href="index.html#search-console-pop-up"><i class="fa fa-check"></i><b>1.1.15</b> Search Console Pop Up</a></li>
<li class="chapter" data-level="1.1.16" data-path="index.html"><a href="index.html#format-kopieren-einer-zelle-in-numbers"><i class="fa fa-check"></i><b>1.1.16</b> Format Kopieren einer Zelle (in Numbers)</a></li>
<li class="chapter" data-level="1.1.17" data-path="index.html"><a href="index.html#format-übertragen-einer-zelle-in-numbers"><i class="fa fa-check"></i><b>1.1.17</b> Format übertragen einer Zelle (in Numbers)</a></li>
<li class="chapter" data-level="1.1.18" data-path="index.html"><a href="index.html#switch-between-applications-on-your-computer"><i class="fa fa-check"></i><b>1.1.18</b> Switch between Applications on your computer</a></li>
<li class="chapter" data-level="1.1.19" data-path="index.html"><a href="index.html#move-forward-through-tabs"><i class="fa fa-check"></i><b>1.1.19</b> Move Forward through Tabs</a></li>
<li class="chapter" data-level="1.1.20" data-path="index.html"><a href="index.html#zahl-als-exponent"><i class="fa fa-check"></i><b>1.1.20</b> Zahl als Exponent</a></li>
<li class="chapter" data-level="1.1.21" data-path="index.html"><a href="index.html#source-code-einer-webseite-aufschalten"><i class="fa fa-check"></i><b>1.1.21</b> Source-Code einer Webseite aufschalten</a></li>
<li class="chapter" data-level="1.1.22" data-path="index.html"><a href="index.html#interaktive-code-ansicht-für-das-abchecken-von-webseiten"><i class="fa fa-check"></i><b>1.1.22</b> Interaktive Code-Ansicht für das Abchecken von Webseiten</a></li>
<li class="chapter" data-level="1.1.23" data-path="index.html"><a href="index.html#approximate-symbol"><i class="fa fa-check"></i><b>1.1.23</b> Approximate Symbol <code>≈</code></a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#virtual-environment"><i class="fa fa-check"></i><b>1.2</b> Virtual Environment</a><ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#create-a-venv"><i class="fa fa-check"></i><b>1.2.1</b> Create a <code>venv</code></a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#activate-your-newly-created-venv"><i class="fa fa-check"></i><b>1.2.2</b> Activate your newly created <code>venv</code></a></li>
<li class="chapter" data-level="1.2.3" data-path="index.html"><a href="index.html#install-packages"><i class="fa fa-check"></i><b>1.2.3</b> Install packages</a></li>
<li class="chapter" data-level="1.2.4" data-path="index.html"><a href="index.html#overview-of-packages"><i class="fa fa-check"></i><b>1.2.4</b> Overview of packages</a></li>
<li class="chapter" data-level="1.2.5" data-path="index.html"><a href="index.html#overview-of-every-venv"><i class="fa fa-check"></i><b>1.2.5</b> Overview of every <code>venv</code></a></li>
<li class="chapter" data-level="1.2.6" data-path="index.html"><a href="index.html#execute-any-python-skript"><i class="fa fa-check"></i><b>1.2.6</b> Execute any python skript</a></li>
<li class="chapter" data-level="1.2.7" data-path="index.html"><a href="index.html#deactivate-the-venv"><i class="fa fa-check"></i><b>1.2.7</b> Deactivate the <code>venv</code></a></li>
<li class="chapter" data-level="1.2.8" data-path="index.html"><a href="index.html#delete-a-venv"><i class="fa fa-check"></i><b>1.2.8</b> Delete a <code>venv</code></a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#how-to-efficiently-manage-a-project"><i class="fa fa-check"></i><b>1.3</b> How to efficiently manage a Project?</a><ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#create-a-website-on-github-for-free"><i class="fa fa-check"></i><b>1.3.1</b> Create a Website on Github (for free)</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#r-markdown-syntax"><i class="fa fa-check"></i><b>1.3.2</b> R Markdown Syntax</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#terminal-commands"><i class="fa fa-check"></i><b>1.4</b> Terminal-Commands:</a><ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#aktuelle-position-directory"><i class="fa fa-check"></i><b>1.4.1</b> Aktuelle Position // Directory?</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#showing-the-child-directories-inside-the-directory-you-are-currently-in"><i class="fa fa-check"></i><b>1.4.2</b> Showing the child-directories inside the directory you are currently in?</a></li>
<li class="chapter" data-level="1.4.3" data-path="index.html"><a href="index.html#delete-everything-you-wrote-in-your-terminal-up-until-now"><i class="fa fa-check"></i><b>1.4.3</b> Delete everything you wrote in your <code>Terminal</code> up until now?</a></li>
<li class="chapter" data-level="1.4.4" data-path="index.html"><a href="index.html#change-directory"><i class="fa fa-check"></i><b>1.4.4</b> Change directory?</a></li>
<li class="chapter" data-level="1.4.5" data-path="index.html"><a href="index.html#creating-a-new-directory"><i class="fa fa-check"></i><b>1.4.5</b> Creating a new directory?</a></li>
<li class="chapter" data-level="1.4.6" data-path="index.html"><a href="index.html#create-a-new-file"><i class="fa fa-check"></i><b>1.4.6</b> Create a new file?</a></li>
<li class="chapter" data-level="1.4.7" data-path="index.html"><a href="index.html#remove-files"><i class="fa fa-check"></i><b>1.4.7</b> Remove files?</a></li>
<li class="chapter" data-level="1.4.8" data-path="index.html"><a href="index.html#open-the-current-directory-you-are-in"><i class="fa fa-check"></i><b>1.4.8</b> Open the current directory you are in?</a></li>
<li class="chapter" data-level="1.4.9" data-path="index.html"><a href="index.html#terminal-magic-commands-for-being-faster"><i class="fa fa-check"></i><b>1.4.9</b> Terminal Magic-Commands for being faster?</a></li>
<li class="chapter" data-level="1.4.10" data-path="index.html"><a href="index.html#syntax-im-terminal"><i class="fa fa-check"></i><b>1.4.10</b> Syntax im Terminal</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#how-to-activate-use-python"><i class="fa fa-check"></i><b>1.5</b> How to activate &amp; use Python?</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#git-github"><i class="fa fa-check"></i><b>1.6</b> Git &amp; Github:</a><ul>
<li class="chapter" data-level="1.6.1" data-path="index.html"><a href="index.html#first-time-using-git-github"><i class="fa fa-check"></i><b>1.6.1</b> First time using Git &amp; Github</a></li>
<li class="chapter" data-level="1.6.2" data-path="index.html"><a href="index.html#key-concepts-in-git"><i class="fa fa-check"></i><b>1.6.2</b> 2 Key concepts in Git</a></li>
<li class="chapter" data-level="1.6.3" data-path="index.html"><a href="index.html#working-with-branches"><i class="fa fa-check"></i><b>1.6.3</b> Working with Branches</a></li>
<li class="chapter" data-level="1.6.4" data-path="index.html"><a href="index.html#set-up-an-ssh-key-for-github"><i class="fa fa-check"></i><b>1.6.4</b> Set-Up an SSH-Key for Github</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#latex"><i class="fa fa-check"></i><b>1.7</b> LaTeX</a><ul>
<li class="chapter" data-level="1.7.1" data-path="index.html"><a href="index.html#what-is-the-latex-code-for-haty"><i class="fa fa-check"></i><b>1.7.1</b> What is the LaTeX-Code for <span class="math inline">\(\hat{y}\)</span>?</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="index.html"><a href="index.html#wörterbuch"><i class="fa fa-check"></i><b>1.8</b> Wörterbuch</a><ul>
<li class="chapter" data-level="1.8.1" data-path="index.html"><a href="index.html#allgemein"><i class="fa fa-check"></i><b>1.8.1</b> Allgemein</a></li>
<li class="chapter" data-level="1.8.2" data-path="index.html"><a href="index.html#synonyme"><i class="fa fa-check"></i><b>1.8.2</b> Synonyme</a></li>
<li class="chapter" data-level="1.8.3" data-path="index.html"><a href="index.html#data-science-vs.-mein-economics-studium"><i class="fa fa-check"></i><b>1.8.3</b> Data Science VS. mein Economics-Studium</a></li>
<li class="chapter" data-level="1.8.4" data-path="index.html"><a href="index.html#ide-explained"><i class="fa fa-check"></i><b>1.8.4</b> IDE explained</a></li>
<li class="chapter" data-level="1.8.5" data-path="index.html"><a href="index.html#restful-api"><i class="fa fa-check"></i><b>1.8.5</b> Restful API</a></li>
<li class="chapter" data-level="1.8.6" data-path="index.html"><a href="index.html#magic-commands-in-python"><i class="fa fa-check"></i><b>1.8.6</b> Magic Commands in Python</a></li>
<li class="chapter" data-level="1.8.7" data-path="index.html"><a href="index.html#pipe-operator-in-r"><i class="fa fa-check"></i><b>1.8.7</b> Pipe-Operator in R</a></li>
<li class="chapter" data-level="1.8.8" data-path="index.html"><a href="index.html#docker"><i class="fa fa-check"></i><b>1.8.8</b> Docker</a></li>
<li class="chapter" data-level="1.8.9" data-path="index.html"><a href="index.html#tensorflow-and-pytorch"><i class="fa fa-check"></i><b>1.8.9</b> Tensorflow and PyTorch</a></li>
<li class="chapter" data-level="1.8.10" data-path="index.html"><a href="index.html#data-pipeline"><i class="fa fa-check"></i><b>1.8.10</b> Data Pipeline</a></li>
<li class="chapter" data-level="1.8.11" data-path="index.html"><a href="index.html#fundamental-daten"><i class="fa fa-check"></i><b>1.8.11</b> Fundamental-Daten</a></li>
<li class="chapter" data-level="1.8.12" data-path="index.html"><a href="index.html#data-flow"><i class="fa fa-check"></i><b>1.8.12</b> Data-Flow</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="index.html"><a href="index.html#synonyme-1"><i class="fa fa-check"></i><b>1.9</b> Synonyme</a><ul>
<li class="chapter" data-level="1.9.1" data-path="index.html"><a href="index.html#data-science"><i class="fa fa-check"></i><b>1.9.1</b> Data Science</a></li>
<li class="chapter" data-level="1.9.2" data-path="index.html"><a href="index.html#python"><i class="fa fa-check"></i><b>1.9.2</b> Python</a></li>
<li class="chapter" data-level="1.9.3" data-path="index.html"><a href="index.html#it-software-development"><i class="fa fa-check"></i><b>1.9.3</b> IT &amp; Software-Development</a></li>
</ul></li>
<li class="chapter" data-level="1.10" data-path="index.html"><a href="index.html#projekt-management"><i class="fa fa-check"></i><b>1.10</b> Projekt-Management</a><ul>
<li class="chapter" data-level="1.10.1" data-path="index.html"><a href="index.html#meetings"><i class="fa fa-check"></i><b>1.10.1</b> Meetings</a></li>
</ul></li>
<li class="chapter" data-level="1.11" data-path="index.html"><a href="index.html#job-interviews"><i class="fa fa-check"></i><b>1.11</b> Job-Interviews</a></li>
<li class="chapter" data-level="1.12" data-path="index.html"><a href="index.html#ausblick"><i class="fa fa-check"></i><b>1.12</b> Ausblick</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="foundatios-of-programming.html"><a href="foundatios-of-programming.html"><i class="fa fa-check"></i><b>2</b> Foundatios of Programming</a><ul>
<li class="chapter" data-level="2.1" data-path="foundatios-of-programming.html"><a href="foundatios-of-programming.html#how-to-program"><i class="fa fa-check"></i><b>2.1</b> How to Program?</a></li>
<li class="chapter" data-level="2.2" data-path="foundatios-of-programming.html"><a href="foundatios-of-programming.html#tools-to-get-started"><i class="fa fa-check"></i><b>2.2</b> Tools to get started</a><ul>
<li class="chapter" data-level="2.2.1" data-path="foundatios-of-programming.html"><a href="foundatios-of-programming.html#definitionen"><i class="fa fa-check"></i><b>2.2.1</b> Definitionen</a></li>
<li class="chapter" data-level="2.2.2" data-path="foundatios-of-programming.html"><a href="foundatios-of-programming.html#synonyme-2"><i class="fa fa-check"></i><b>2.2.2</b> Synonyme</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html"><i class="fa fa-check"></i><b>3</b> Foundations of Data Science</a><ul>
<li class="chapter" data-level="3.1" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html#find-data"><i class="fa fa-check"></i><b>3.1</b> Find Data</a></li>
<li class="chapter" data-level="3.2" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html#questions-you-need-to-answer-when-starting-a-new-project"><i class="fa fa-check"></i><b>3.2</b> Questions you need to answer when starting a new Project</a></li>
<li class="chapter" data-level="3.3" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html#effective-research-how-to-find-answers-quickly"><i class="fa fa-check"></i><b>3.3</b> Effective Research: How to find answers quickly?</a></li>
<li class="chapter" data-level="3.4" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html#how-to-read-notebooks-from-other-people"><i class="fa fa-check"></i><b>3.4</b> How to read Notebooks from other People?</a></li>
<li class="chapter" data-level="3.5" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html#machine-learning-theory"><i class="fa fa-check"></i><b>3.5</b> Machine-Learning Theory</a><ul>
<li class="chapter" data-level="3.5.1" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html#difference-between-training--validation--test-dataset"><i class="fa fa-check"></i><b>3.5.1</b> Difference between Training-, Validation- &amp; Test-dataset</a></li>
<li class="chapter" data-level="3.5.2" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html#concept-of-stratification"><i class="fa fa-check"></i><b>3.5.2</b> Concept of Stratification</a></li>
<li class="chapter" data-level="3.5.3" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html#cross-validation"><i class="fa fa-check"></i><b>3.5.3</b> Cross-Validation</a></li>
<li class="chapter" data-level="3.5.4" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html#normalisierung-der-daten"><i class="fa fa-check"></i><b>3.5.4</b> Normalisierung der Daten</a></li>
<li class="chapter" data-level="3.5.5" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html#rnn"><i class="fa fa-check"></i><b>3.5.5</b> RNN</a></li>
<li class="chapter" data-level="3.5.6" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html#data-pipelines"><i class="fa fa-check"></i><b>3.5.6</b> Data-Pipelines</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html#programming-theory"><i class="fa fa-check"></i><b>3.6</b> Programming Theory</a><ul>
<li class="chapter" data-level="3.6.1" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html#data-types"><i class="fa fa-check"></i><b>3.6.1</b> Data-Types</a></li>
<li class="chapter" data-level="3.6.2" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html#global-variables-vs.-local-variables"><i class="fa fa-check"></i><b>3.6.2</b> Global Variables VS. Local Variables</a></li>
<li class="chapter" data-level="3.6.3" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html#array"><i class="fa fa-check"></i><b>3.6.3</b> Array</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html#statistics-theory"><i class="fa fa-check"></i><b>3.7</b> Statistics-Theory</a><ul>
<li class="chapter" data-level="3.7.1" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html#p-hacking"><i class="fa fa-check"></i><b>3.7.1</b> P-Hacking</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="foundations-of-data-science.html"><a href="foundations-of-data-science.html#appendix-for-the-future"><i class="fa fa-check"></i><b>3.8</b> Appendix for the Future</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="python-libraries.html"><a href="python-libraries.html"><i class="fa fa-check"></i><b>4</b> Python Libraries</a><ul>
<li class="chapter" data-level="4.1" data-path="python-libraries.html"><a href="python-libraries.html#list-of-useful-python-libraries"><i class="fa fa-check"></i><b>4.1</b> List of Useful Python-Libraries</a></li>
<li class="chapter" data-level="4.2" data-path="python-libraries.html"><a href="python-libraries.html#basic-python"><i class="fa fa-check"></i><b>4.2</b> Basic <code>Python</code></a><ul>
<li class="chapter" data-level="4.2.1" data-path="python-libraries.html"><a href="python-libraries.html#create-a-dataframe"><i class="fa fa-check"></i><b>4.2.1</b> Create a <code>DataFrame</code></a></li>
<li class="chapter" data-level="4.2.2" data-path="python-libraries.html"><a href="python-libraries.html#apply-a-function-on-a-column"><i class="fa fa-check"></i><b>4.2.2</b> Apply a <code>function</code> on a Column</a></li>
<li class="chapter" data-level="4.2.3" data-path="python-libraries.html"><a href="python-libraries.html#save-a-dataframe"><i class="fa fa-check"></i><b>4.2.3</b> Save a <code>DataFrame</code></a></li>
<li class="chapter" data-level="4.2.4" data-path="python-libraries.html"><a href="python-libraries.html#put-a-time-stamp-on-each-python-cell"><i class="fa fa-check"></i><b>4.2.4</b> Put a time-stamp on each Python-Cell</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="python-libraries.html"><a href="python-libraries.html#pandas"><i class="fa fa-check"></i><b>4.3</b> Pandas</a><ul>
<li class="chapter" data-level="4.3.1" data-path="python-libraries.html"><a href="python-libraries.html#how-to-display-all-the-columns"><i class="fa fa-check"></i><b>4.3.1</b> How to display all the columns?</a></li>
<li class="chapter" data-level="4.3.2" data-path="python-libraries.html"><a href="python-libraries.html#drop-missing-values"><i class="fa fa-check"></i><b>4.3.2</b> Drop Missing-values?</a></li>
<li class="chapter" data-level="4.3.3" data-path="python-libraries.html"><a href="python-libraries.html#loc--vs.-iloc-selection"><i class="fa fa-check"></i><b>4.3.3</b> <code>loc</code>- VS. <code>iloc</code>-Selection</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="python-libraries.html"><a href="python-libraries.html#statsmodels"><i class="fa fa-check"></i><b>4.4</b> Statsmodels</a><ul>
<li class="chapter" data-level="4.4.1" data-path="python-libraries.html"><a href="python-libraries.html#useful-nice-to-knows"><i class="fa fa-check"></i><b>4.4.1</b> Useful Nice-to-Knows</a></li>
<li class="chapter" data-level="4.4.2" data-path="python-libraries.html"><a href="python-libraries.html#define-the-y-variable-x-variables"><i class="fa fa-check"></i><b>4.4.2</b> Define the <code>y</code>-variable &amp; <code>X</code>-variable<u>s</u></a></li>
<li class="chapter" data-level="4.4.3" data-path="python-libraries.html"><a href="python-libraries.html#estimate-a-model"><i class="fa fa-check"></i><b>4.4.3</b> Estimate a Model</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="python-libraries.html"><a href="python-libraries.html#string-manipulation"><i class="fa fa-check"></i><b>4.5</b> String-Manipulation</a><ul>
<li class="chapter" data-level="4.5.1" data-path="python-libraries.html"><a href="python-libraries.html#split-a-string-at-a-specific-point"><i class="fa fa-check"></i><b>4.5.1</b> Split a String at a specific point</a></li>
<li class="chapter" data-level="4.5.2" data-path="python-libraries.html"><a href="python-libraries.html#cut-a-string-in-half"><i class="fa fa-check"></i><b>4.5.2</b> Cut a String in half</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="python-libraries.html"><a href="python-libraries.html#working-with-date-columns"><i class="fa fa-check"></i><b>4.6</b> Working with <code>Date</code>-Columns</a><ul>
<li class="chapter" data-level="4.6.1" data-path="python-libraries.html"><a href="python-libraries.html#define-a-range-of-dates"><i class="fa fa-check"></i><b>4.6.1</b> Define a Range of Dates</a></li>
<li class="chapter" data-level="4.6.2" data-path="python-libraries.html"><a href="python-libraries.html#convert-a-string-date-column-into-a-date-time-format"><i class="fa fa-check"></i><b>4.6.2</b> Convert a <code>string</code>-Date Column INTO a <code>date-time</code>-format</a></li>
<li class="chapter" data-level="4.6.3" data-path="python-libraries.html"><a href="python-libraries.html#umgekehrt-convert-a-date-time-column-into-a-str-format"><i class="fa fa-check"></i><b>4.6.3</b> <u>Umgekehrt</u>: Convert a <code>date-time</code>-Column, into a <code>str</code>-format</a></li>
<li class="chapter" data-level="4.6.4" data-path="python-libraries.html"><a href="python-libraries.html#for-utc-conversions-keep-a-copy-of-the-local-time"><i class="fa fa-check"></i><b>4.6.4</b> <u>For UTC-Conversions</u>: Keep a copy of the “Local”-Time</a></li>
<li class="chapter" data-level="4.6.5" data-path="python-libraries.html"><a href="python-libraries.html#create-a-unique-id-based-on-a-date-column"><i class="fa fa-check"></i><b>4.6.5</b> Create a <em>unique ID</em> based on a <code>Date</code>-Column</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="python-libraries.html"><a href="python-libraries.html#time-series-forecasting"><i class="fa fa-check"></i><b>4.7</b> Time-Series Forecasting</a><ul>
<li class="chapter" data-level="4.7.1" data-path="python-libraries.html"><a href="python-libraries.html#facebook-prophet"><i class="fa fa-check"></i><b>4.7.1</b> Facebook Prophet</a></li>
<li class="chapter" data-level="4.7.2" data-path="python-libraries.html"><a href="python-libraries.html#sklearn"><i class="fa fa-check"></i><b>4.7.2</b> SkLearn</a></li>
<li class="chapter" data-level="4.7.3" data-path="python-libraries.html"><a href="python-libraries.html#sktime"><i class="fa fa-check"></i><b>4.7.3</b> SkTime</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>5</b> Visualization</a><ul>
<li class="chapter" data-level="5.1" data-path="visualization.html"><a href="visualization.html#graphs-with-python"><i class="fa fa-check"></i><b>5.1</b> Graphs with Python</a><ul>
<li class="chapter" data-level="5.1.1" data-path="visualization.html"><a href="visualization.html#seaborn"><i class="fa fa-check"></i><b>5.1.1</b> Seaborn</a></li>
<li class="chapter" data-level="5.1.2" data-path="visualization.html"><a href="visualization.html#matplotlib"><i class="fa fa-check"></i><b>5.1.2</b> Matplotlib</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="improve-yourself-constantly.html"><a href="improve-yourself-constantly.html"><i class="fa fa-check"></i><b>6</b> Improve Yourself Constantly</a><ul>
<li class="chapter" data-level="6.1" data-path="improve-yourself-constantly.html"><a href="improve-yourself-constantly.html#to-share"><i class="fa fa-check"></i><b>6.1</b> To Share</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="git-versioncontrol.html"><a href="git-versioncontrol.html"><i class="fa fa-check"></i><b>7</b> Git Versioncontrol</a><ul>
<li class="chapter" data-level="7.1" data-path="git-versioncontrol.html"><a href="git-versioncontrol.html#useful-git-commands"><i class="fa fa-check"></i><b>7.1</b> Useful <code>Git</code>-Commands</a><ul>
<li class="chapter" data-level="7.1.1" data-path="git-versioncontrol.html"><a href="git-versioncontrol.html#activate-the-automatic-password-from-local-computer-to-github"><i class="fa fa-check"></i><b>7.1.1</b> Activate the automatic Password: from local Computer to Github</a></li>
<li class="chapter" data-level="7.1.2" data-path="git-versioncontrol.html"><a href="git-versioncontrol.html#create-a-.gitignore-file"><i class="fa fa-check"></i><b>7.1.2</b> Create a <code>.gitignore</code>-file</a></li>
<li class="chapter" data-level="7.1.3" data-path="git-versioncontrol.html"><a href="git-versioncontrol.html#speicherplatz-verwendet-durch-git-history"><i class="fa fa-check"></i><b>7.1.3</b> Speicherplatz verwendet durch <code>Git</code>-History</a></li>
<li class="chapter" data-level="7.1.4" data-path="git-versioncontrol.html"><a href="git-versioncontrol.html#unstage-everything"><i class="fa fa-check"></i><b>7.1.4</b> Unstage everything</a></li>
<li class="chapter" data-level="7.1.5" data-path="git-versioncontrol.html"><a href="git-versioncontrol.html#stage-only-a-certain-type-of-file---for-example---only-.html-files"><i class="fa fa-check"></i><b>7.1.5</b> Stage only a certain type of file - for example - only <code>.html</code>-files</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="econometrics.html"><a href="econometrics.html"><i class="fa fa-check"></i><b>8</b> Econometrics</a><ul>
<li class="chapter" data-level="8.1" data-path="econometrics.html"><a href="econometrics.html#synonyme-3"><i class="fa fa-check"></i><b>8.1</b> Synonyme:</a></li>
<li class="chapter" data-level="8.2" data-path="econometrics.html"><a href="econometrics.html#english-words-synonyme"><i class="fa fa-check"></i><b>8.2</b> English Words Synonyme</a></li>
<li class="chapter" data-level="8.3" data-path="econometrics.html"><a href="econometrics.html#allgemeines"><i class="fa fa-check"></i><b>8.3</b> Allgemeines</a></li>
<li class="chapter" data-level="8.4" data-path="econometrics.html"><a href="econometrics.html#statistics-formulas"><i class="fa fa-check"></i><b>8.4</b> Statistics Formulas</a></li>
<li class="chapter" data-level="8.5" data-path="econometrics.html"><a href="econometrics.html#definitionen-1"><i class="fa fa-check"></i><b>8.5</b> Definitionen</a></li>
<li class="chapter" data-level="8.6" data-path="econometrics.html"><a href="econometrics.html#different-tests-vorgehen-bei-den-tests"><i class="fa fa-check"></i><b>8.6</b> Different Tests // Vorgehen bei den Tests</a></li>
<li class="chapter" data-level="8.7" data-path="econometrics.html"><a href="econometrics.html#diverse-berechnungen"><i class="fa fa-check"></i><b>8.7</b> Diverse Berechnungen</a></li>
<li class="chapter" data-level="8.8" data-path="econometrics.html"><a href="econometrics.html#accept-reject-null-hypothesis"><i class="fa fa-check"></i><b>8.8</b> Accept // Reject Null-Hypothesis</a></li>
<li class="chapter" data-level="8.9" data-path="econometrics.html"><a href="econometrics.html#formulierungen"><i class="fa fa-check"></i><b>8.9</b> Formulierungen</a></li>
<li class="chapter" data-level="8.10" data-path="econometrics.html"><a href="econometrics.html#coefficient-interpretation"><i class="fa fa-check"></i><b>8.10</b> Coefficient Interpretation</a></li>
<li class="chapter" data-level="8.11" data-path="econometrics.html"><a href="econometrics.html#nice-to-know"><i class="fa fa-check"></i><b>8.11</b> Nice to Know</a></li>
<li class="chapter" data-level="8.12" data-path="econometrics.html"><a href="econometrics.html#allgemeine-regeln"><i class="fa fa-check"></i><b>8.12</b> Allgemeine Regeln</a></li>
<li class="chapter" data-level="8.13" data-path="econometrics.html"><a href="econometrics.html#ommitted-variable-bias-ovb"><i class="fa fa-check"></i><b>8.13</b> Ommitted Variable Bias = OVB</a></li>
<li class="chapter" data-level="8.14" data-path="econometrics.html"><a href="econometrics.html#randomization"><i class="fa fa-check"></i><b>8.14</b> Randomization</a></li>
<li class="chapter" data-level="8.15" data-path="econometrics.html"><a href="econometrics.html#dummy-variables"><i class="fa fa-check"></i><b>8.15</b> Dummy Variables</a></li>
<li class="chapter" data-level="8.16" data-path="econometrics.html"><a href="econometrics.html#implication-of-statistically-significant-coefficients"><i class="fa fa-check"></i><b>8.16</b> Implication of statistically significant coefficients</a></li>
<li class="chapter" data-level="8.17" data-path="econometrics.html"><a href="econometrics.html#linear-probability-model-vs.-probit-model-comparison"><i class="fa fa-check"></i><b>8.17</b> Linear probability model VS. Probit model: comparison</a></li>
<li class="chapter" data-level="8.18" data-path="econometrics.html"><a href="econometrics.html#heterogeneous-treatment-effects-interaction-terms"><i class="fa fa-check"></i><b>8.18</b> Heterogeneous treatment effects // interaction terms</a></li>
<li class="chapter" data-level="8.19" data-path="econometrics.html"><a href="econometrics.html#definitions-of-bad-controls"><i class="fa fa-check"></i><b>8.19</b> Definitions of “bad controls”</a></li>
<li class="chapter" data-level="8.20" data-path="econometrics.html"><a href="econometrics.html#fixed-effects-fe"><i class="fa fa-check"></i><b>8.20</b> Fixed effects // FE</a></li>
<li class="chapter" data-level="8.21" data-path="econometrics.html"><a href="econometrics.html#cross-sectional-data"><i class="fa fa-check"></i><b>8.21</b> Cross-sectional Data</a></li>
<li class="chapter" data-level="8.22" data-path="econometrics.html"><a href="econometrics.html#panel-data"><i class="fa fa-check"></i><b>8.22</b> Panel Data</a></li>
<li class="chapter" data-level="8.23" data-path="econometrics.html"><a href="econometrics.html#difference-in-differences"><i class="fa fa-check"></i><b>8.23</b> Difference-in-Differences</a></li>
<li class="chapter" data-level="8.24" data-path="econometrics.html"><a href="econometrics.html#instrumental-variables-iv"><i class="fa fa-check"></i><b>8.24</b> Instrumental variables // IV</a></li>
<li class="chapter" data-level="8.25" data-path="econometrics.html"><a href="econometrics.html#regression-discontinuity-design-rdd"><i class="fa fa-check"></i><b>8.25</b> Regression discontinuity design // RDD</a></li>
<li class="chapter" data-level="8.26" data-path="econometrics.html"><a href="econometrics.html#coded-algorithms-r-functions"><i class="fa fa-check"></i><b>8.26</b> Coded Algorithms &amp; R-Functions</a></li>
<li class="chapter" data-level="8.27" data-path="econometrics.html"><a href="econometrics.html#nützliche-funktionen-r"><i class="fa fa-check"></i><b>8.27</b> Nützliche Funktionen R:</a></li>
<li class="chapter" data-level="8.28" data-path="econometrics.html"><a href="econometrics.html#useful-econometrics-documents"><i class="fa fa-check"></i><b>8.28</b> Useful Econometrics documents:</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="machine-learning.html"><a href="machine-learning.html"><i class="fa fa-check"></i><b>9</b> Machine Learning</a><ul>
<li class="chapter" data-level="9.1" data-path="machine-learning.html"><a href="machine-learning.html#typen-von-machine-learning"><i class="fa fa-check"></i><b>9.1</b> Typen von Machine Learning</a></li>
<li class="chapter" data-level="9.2" data-path="machine-learning.html"><a href="machine-learning.html#supervised-learning"><i class="fa fa-check"></i><b>9.2</b> Supervised Learning</a></li>
<li class="chapter" data-level="9.3" data-path="machine-learning.html"><a href="machine-learning.html#methods"><i class="fa fa-check"></i><b>9.3</b> Methods</a></li>
<li class="chapter" data-level="9.4" data-path="machine-learning.html"><a href="machine-learning.html#wichtige-funktionen"><i class="fa fa-check"></i><b>9.4</b> Wichtige Funktionen</a></li>
<li class="chapter" data-level="9.5" data-path="machine-learning.html"><a href="machine-learning.html#uni-kurs-neural-networks-deep-learning"><i class="fa fa-check"></i><b>9.5</b> Uni-Kurs <code>Neural Networks &amp; Deep Learning</code></a><ul>
<li class="chapter" data-level="9.5.1" data-path="machine-learning.html"><a href="machine-learning.html#notation-neural-networks"><i class="fa fa-check"></i><b>9.5.1</b> Notation Neural Networks</a></li>
<li class="chapter" data-level="9.5.2" data-path="machine-learning.html"><a href="machine-learning.html#more-ml-jargon"><i class="fa fa-check"></i><b>9.5.2</b> More ML-Jargon</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="machine-learning.html"><a href="machine-learning.html#quellen"><i class="fa fa-check"></i><b>9.6</b> Quellen</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="mengenlehre.html"><a href="mengenlehre.html"><i class="fa fa-check"></i><b>10</b> Mengenlehre</a><ul>
<li class="chapter" data-level="10.1" data-path="mengenlehre.html"><a href="mengenlehre.html#wörterbuch-1"><i class="fa fa-check"></i><b>10.1</b> Wörterbuch</a></li>
<li class="chapter" data-level="10.2" data-path="mengenlehre.html"><a href="mengenlehre.html#mathematische-schrift-lesen"><i class="fa fa-check"></i><b>10.2</b> Mathematische “Schrift” lesen</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="python-mustercodes.html"><a href="python-mustercodes.html"><i class="fa fa-check"></i><b>11</b> <a id="top" style="color:black; text-decoration: none;">Python Mustercodes</a></a><ul>
<li class="chapter" data-level="11.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#inhaltsverzeichnis"><i class="fa fa-check"></i><b>11.1</b> Inhaltsverzeichnis</a><ul>
<li class="chapter" data-level="11.1.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#list-comprehensions"><i class="fa fa-check"></i><b>11.1.1</b> <u><a id="list-compr" style="color:black; text-decoration: none;">List Comprehensions</a></u>:</a></li>
<li class="chapter" data-level="11.1.2" data-path="python-mustercodes.html"><a href="python-mustercodes.html#list-comprehension-where-we-apply-a-function-x2"><i class="fa fa-check"></i><b>11.1.2</b> <u>List comprehension where we apply a <code>function</code></u>: x<sup>2</sup></a></li>
<li class="chapter" data-level="11.1.3" data-path="python-mustercodes.html"><a href="python-mustercodes.html#list-comprehension-with-an-if-condition"><i class="fa fa-check"></i><b>11.1.3</b> <u>List comprehension with an <code>if</code> condition</u>:</a></li>
<li class="chapter" data-level="11.1.4" data-path="python-mustercodes.html"><a href="python-mustercodes.html#string-manipulation-1"><i class="fa fa-check"></i><b>11.1.4</b> <u><a id="str-manip" style="color:black; text-decoration: none;">String Manipulation</a></u>:</a></li>
<li class="chapter" data-level="11.1.5" data-path="python-mustercodes.html"><a href="python-mustercodes.html#transform-a-list-that-contains-strings-into-a-whole-string-only-separated-by-commas"><i class="fa fa-check"></i><b>11.1.5</b> <u>Transform a <code>list</code> that contains strings into a WHOLE string, only separated by commas</u>:</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="python-mustercodes.html"><a href="python-mustercodes.html#installation-of-packages"><i class="fa fa-check"></i><b>11.2</b> ## <a id="package-install" style="color:black; text-decoration: none;">Installation of Packages</a></a><ul>
<li class="chapter" data-level="11.2.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#installing-with-package-manager-conda"><i class="fa fa-check"></i><b>11.2.1</b> <u>Installing with package-manager <code>conda</code></u>:</a></li>
<li class="chapter" data-level="11.2.2" data-path="python-mustercodes.html"><a href="python-mustercodes.html#installing-packages-with-pip"><i class="fa fa-check"></i><b>11.2.2</b> <u>Installing packages with <code>pip</code></u>:</a></li>
<li class="chapter" data-level="11.2.3" data-path="python-mustercodes.html"><a href="python-mustercodes.html#install-some-packages-modules-or-sub-modules"><i class="fa fa-check"></i><b>11.2.3</b> <u>Install some Packages // Modules, or Sub-Modules</u>:</a></li>
<li class="chapter" data-level="11.2.4" data-path="python-mustercodes.html"><a href="python-mustercodes.html#deinstall-packages-mit-pip"><i class="fa fa-check"></i><b>11.2.4</b> <u><a id="deinstall-pip" style="color:black; text-decoration: none;">Deinstall Packages mit <code>Pip</code></a></u>:</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="python-mustercodes.html"><a href="python-mustercodes.html#need-help-documentation"><i class="fa fa-check"></i><b>11.3</b> ## <a id="help" style="color:black; text-decoration: none;">Need help &amp; documentation</a></a></li>
<li class="chapter" data-level="11.4" data-path="python-mustercodes.html"><a href="python-mustercodes.html#path-handling"><i class="fa fa-check"></i><b>11.4</b> ## <a id="path" style="color:black; text-decoration: none;">Path Handling</a></a><ul>
<li class="chapter" data-level="11.4.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#set-the-path-where-your-computer-should-save-data-models"><i class="fa fa-check"></i><b>11.4.1</b> <u>Set the Path, where your Computer should Save Data / Models</u></a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="python-mustercodes.html"><a href="python-mustercodes.html#save-data"><i class="fa fa-check"></i><b>11.5</b> ## <a id="saving" style="color:black; text-decoration: none;">Save data</a></a><ul>
<li class="chapter" data-level="11.5.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#save-as-csv-file"><i class="fa fa-check"></i><b>11.5.1</b> <u><a id="save-csv" style="color:black; text-decoration: none;">Save as CSV-File</u></a>:</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="python-mustercodes.html"><a href="python-mustercodes.html#read-data-load-data"><i class="fa fa-check"></i><b>11.6</b> ## <a id="read-data" style="color:black; text-decoration: none;">Read data // Load data</a></a><ul>
<li class="chapter" data-level="11.6.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#load-data-from-excel-sheets"><i class="fa fa-check"></i><b>11.6.1</b> <a id="load-excel" style="color:black; text-decoration: none;"><u>Load data from Excel-Sheets</u></a>:</a></li>
<li class="chapter" data-level="11.6.2" data-path="python-mustercodes.html"><a href="python-mustercodes.html#load-dataset-via-a-csv-file"><i class="fa fa-check"></i><b>11.6.2</b> <a id="load-csv" style="color:black; text-decoration: none;"><u>Load Dataset via a CSV-File</u></a>:</a></li>
<li class="chapter" data-level="11.6.3" data-path="python-mustercodes.html"><a href="python-mustercodes.html#load-dataset-via-a-url-from-a-website"><i class="fa fa-check"></i><b>11.6.3</b> <a id="load-url" style="color:black; text-decoration: none;"><u>Load Dataset via a URL from a Website</u></a>:</a></li>
<li class="chapter" data-level="11.6.4" data-path="python-mustercodes.html"><a href="python-mustercodes.html#load-pickle-files"><i class="fa fa-check"></i><b>11.6.4</b> <a id="load-pickle" style="color:black; text-decoration: none;"><u>Load Pickle-Files</u></a>:</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="python-mustercodes.html"><a href="python-mustercodes.html#vanilla-exploration-of-your-dataset"><i class="fa fa-check"></i><b>11.7</b> ## <a id="vanilla-exploration" style="color:black; text-decoration: none;">Vanilla Exploration of your Dataset</a></a><ul>
<li class="chapter" data-level="11.7.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#find-out-the-number-of-observations-rows-in-your-dataset"><i class="fa fa-check"></i><b>11.7.1</b> <a id="number-of-rows" style="color:black; text-decoration: none;"><u>Find out the number of <code>observations</code> // rows in your dataset</u></a>:</a></li>
<li class="chapter" data-level="11.7.2" data-path="python-mustercodes.html"><a href="python-mustercodes.html#find-out-the-number-of-rows-columns-within-your-dataset"><i class="fa fa-check"></i><b>11.7.2</b> <u>Find out the number of <code>rows</code> &amp; <code>columns</code> within your dataset</u>:</a></li>
<li class="chapter" data-level="11.7.3" data-path="python-mustercodes.html"><a href="python-mustercodes.html#view-the-whole-dataset"><i class="fa fa-check"></i><b>11.7.3</b> <a id="view-all-ddset" style="color:black; text-decoration: none;"><u><code>View</code> the <mark>whole</mark> Dataset</u></a>:</a></li>
<li class="chapter" data-level="11.7.4" data-path="python-mustercodes.html"><a href="python-mustercodes.html#view-the-first-5-rows-of-your-dataset"><i class="fa fa-check"></i><b>11.7.4</b> <a id="view-first-five" style="color:black; text-decoration: none;"><u><code>View</code> the first 5-rows of your dataset</u></a>:</a></li>
<li class="chapter" data-level="11.7.5" data-path="python-mustercodes.html"><a href="python-mustercodes.html#find-out-the-data-type-of-each-column-within-your-dataset-number-of-non-missing-values"><i class="fa fa-check"></i><b>11.7.5</b> <a id="missings-per-column" style="color:black; text-decoration: none;"><u>Find out the <code>Data Type</code> of each column within your dataset &amp; number of <code>non-missing values</code></u></a>:</a></li>
<li class="chapter" data-level="11.7.6" data-path="python-mustercodes.html"><a href="python-mustercodes.html#drop-specific-columns"><i class="fa fa-check"></i><b>11.7.6</b> <a id="drop-columns" style="color:black; text-decoration: none;"><u>Drop specific Columns</u></a>:</a></li>
<li class="chapter" data-level="11.7.7" data-path="python-mustercodes.html"><a href="python-mustercodes.html#re-name-the-columns-of-a-dataframe"><i class="fa fa-check"></i><b>11.7.7</b> <a id="rename-columns" style="color:black; text-decoration: none;"><u>Re-Name the Columns of a DataFrame</u></a>:</a></li>
<li class="chapter" data-level="11.7.8" data-path="python-mustercodes.html"><a href="python-mustercodes.html#set-reset-the-index-row-label"><i class="fa fa-check"></i><b>11.7.8</b> <a id="reset-and-set-idx" style="color:black; text-decoration: none;"><u>Set &amp; Reset the Index / Row-Label</u></a>:</a></li>
<li class="chapter" data-level="11.7.9" data-path="python-mustercodes.html"><a href="python-mustercodes.html#make-a-summary-out-of-all-the-variables-in-your-dataset"><i class="fa fa-check"></i><b>11.7.9</b> <a id="summary-ddset" style="color:black; text-decoration: none;"><u>Make a <code>Summary</code> out of all the variables in your dataset</u></a>:</a></li>
<li class="chapter" data-level="11.7.10" data-path="python-mustercodes.html"><a href="python-mustercodes.html#find-the-unique-values-from-a-column"><i class="fa fa-check"></i><b>11.7.10</b> <a id="unique-values" style="color:black; text-decoration: none;"><u>Find the unique values from a column</u></a>:</a></li>
<li class="chapter" data-level="11.7.11" data-path="python-mustercodes.html"><a href="python-mustercodes.html#calculating-the-mean-or-median-from-a-particular-column"><i class="fa fa-check"></i><b>11.7.11</b> <a id="median-and-mean" style="color:black; text-decoration: none;"><u>Calculating the <code>mean</code> or <code>median</code> from a particular column</u></a>:</a></li>
<li class="chapter" data-level="11.7.12" data-path="python-mustercodes.html"><a href="python-mustercodes.html#transform-a-column-based-on-conditions-with-numpy"><i class="fa fa-check"></i><b>11.7.12</b> <a id="apply-a-function-based-on-cond" style="color:black; text-decoration: none;"><u>Transform a column based on conditions with <code>numpy</code></u></a>:</a></li>
<li class="chapter" data-level="11.7.13" data-path="python-mustercodes.html"><a href="python-mustercodes.html#transform-a-pandas-series-into-a-dataframe"><i class="fa fa-check"></i><b>11.7.13</b> <a id="trans-series-to-frame" style="color:black; text-decoration: none;"><u>Transform a Pandas Series into a DataFrame</u></a>:</a></li>
<li class="chapter" data-level="11.7.14" data-path="python-mustercodes.html"><a href="python-mustercodes.html#assign-a-unique-id"><i class="fa fa-check"></i><b>11.7.14</b> <a id="unique-id" style="color:black; text-decoration: none;"><u>Assign a unique ID</u></a>:</a></li>
</ul></li>
<li class="chapter" data-level="11.8" data-path="python-mustercodes.html"><a href="python-mustercodes.html#selection-filtering-rows-and-columns"><i class="fa fa-check"></i><b>11.8</b> ## <a id="sel-and-filt" style="color:black; text-decoration: none;">Selection &amp; Filtering Rows and Columns</a></a><ul>
<li class="chapter" data-level="11.8.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#select-only-1-single-column-of-your-dataframe"><i class="fa fa-check"></i><b>11.8.1</b> <a id="select-1-col-ddset" style="color:black; text-decoration: none;"><u>Select only 1 single column of your Dataframe</u></a>:</a></li>
<li class="chapter" data-level="11.8.2" data-path="python-mustercodes.html"><a href="python-mustercodes.html#select-multiple-columns-from-your-dataframe"><i class="fa fa-check"></i><b>11.8.2</b> <a id="select-multi-col-ddset" style="color:black; text-decoration: none;"><u>Select <em>multiple</em> Columns from your Dataframe</u></a>:</a></li>
<li class="chapter" data-level="11.8.3" data-path="python-mustercodes.html"><a href="python-mustercodes.html#select-and-filter-for-a-particular-row-with-one-condition"><i class="fa fa-check"></i><b>11.8.3</b> <a id="filter-1-row-ddset" style="color:black; text-decoration: none;"><u>Select AND filter for a particular row, with <em>one condition</em></u></a>:</a></li>
<li class="chapter" data-level="11.8.4" data-path="python-mustercodes.html"><a href="python-mustercodes.html#select-and-filter-for-rows-with-more-than-one-condition"><i class="fa fa-check"></i><b>11.8.4</b> <a id="filter-multi-cond-ddset" style="color:black; text-decoration: none;"><u>Select AND filter for rows with <em>more than one condition</em></u></a>:</a></li>
<li class="chapter" data-level="11.8.5" data-path="python-mustercodes.html"><a href="python-mustercodes.html#select-only-rows-with-missing-values"><i class="fa fa-check"></i><b>11.8.5</b> <a id="select-only-missings" style="color:black; text-decoration: none;">Select only rows with Missing-Values</a></a></li>
</ul></li>
<li class="chapter" data-level="11.9" data-path="python-mustercodes.html"><a href="python-mustercodes.html#selection-with-accessor-operators-iloc-loc"><i class="fa fa-check"></i><b>11.9</b> ## <a id="sel-loc-iloc" style="color:black; text-decoration: none;">Selection with “accessor operators” <code>iloc</code> &amp; <code>loc</code></a></a><ul>
<li class="chapter" data-level="11.9.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#selection-of-the-entry-situated-in-the-1st-row-and-5th-column-only-with-iloc"><i class="fa fa-check"></i><b>11.9.1</b> <a id="example-iloc-sel" style="color:black; text-decoration: none;"><u>Selection of the <code>entry</code> situated in the 1st row and 5th column only with <code>iloc</code></u></a></a></li>
<li class="chapter" data-level="11.9.2" data-path="python-mustercodes.html"><a href="python-mustercodes.html#selection-of-the-entry-situated-in-the-1st-row-and-5th-column-only-with-loc"><i class="fa fa-check"></i><b>11.9.2</b> <a id="example-loc-sel" style="color:black; text-decoration: none;"><u>Selection of the <code>entry</code> situated in the 1st row and 5th column only with <code>loc</code></u></a></a></li>
<li class="chapter" data-level="11.9.3" data-path="python-mustercodes.html"><a href="python-mustercodes.html#apply-a-threshold-filter-using-loc-on-each-row"><i class="fa fa-check"></i><b>11.9.3</b> <a id="example-sel-with-threshold-loc" style="color:black; text-decoration: none;"><u>Apply a Threshold-Filter using <code>loc</code> on each row</u></a>:</a></li>
<li class="chapter" data-level="11.9.4" data-path="python-mustercodes.html"><a href="python-mustercodes.html#selection-of-an-entire-row-record-observation-from-a-ddset-with-iloc"><i class="fa fa-check"></i><b>11.9.4</b> <a id="example-sel-entire-row-with-iloc" style="color:black; text-decoration: none;"><u>Selection of an ENTIRE row // record // observation from a ddset with <code>iloc</code></u></a>:</a></li>
<li class="chapter" data-level="11.9.5" data-path="python-mustercodes.html"><a href="python-mustercodes.html#selection-of-an-entire-row-record-observation-from-a-ddset-with-loc"><i class="fa fa-check"></i><b>11.9.5</b> <a id="example-sel-entire-row-with-loc" style="color:black; text-decoration: none;"><u>Selection of an ENTIRE row // record // observation from a ddset with <code>loc</code></u></a>:</a></li>
<li class="chapter" data-level="11.9.6" data-path="python-mustercodes.html"><a href="python-mustercodes.html#replace-values-within-a-column-with-some-new-values"><i class="fa fa-check"></i><b>11.9.6</b> <a id="replace-values-within-rows" style="color:black; text-decoration: none;"><u>Replace values within a Column with some new Values</u></a>:</a></li>
<li class="chapter" data-level="11.9.7" data-path="python-mustercodes.html"><a href="python-mustercodes.html#different-slicing-when-using-iloc-vs.-loc"><i class="fa fa-check"></i><b>11.9.7</b> <a id="different-slicing-loc-and-iloc" style="color:black; text-decoration: none;"><u>Different Slicing when using <code>iloc</code> VS. <code>loc</code></u></a>:</a></li>
</ul></li>
<li class="chapter" data-level="11.10" data-path="python-mustercodes.html"><a href="python-mustercodes.html#sorting-filtering"><i class="fa fa-check"></i><b>11.10</b> ## <a id="sort-and-filt" style="color:black; text-decoration: none;">Sorting &amp; Filtering</a></a><ul>
<li class="chapter" data-level="11.10.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#how-to-sort-a-data-frame-column-hier-pearson-correlation-matrix-from-most-important-to-least-important"><i class="fa fa-check"></i><b>11.10.1</b> <u><a id="sort-pearson-corr-from-most-imp-to-least-imp" style="color:black; text-decoration: none;">How to sort a Data-Frame Column (hier: Pearson-Correlation Matrix) from ‘<em>most important</em>’ to ‘<em>least important</em>’?</a></u>:</a></li>
<li class="chapter" data-level="11.10.2" data-path="python-mustercodes.html"><a href="python-mustercodes.html#filter-the-whole-dataframe-after-a-condition-hier-correlations-0.75-select-only-all-observations-that-fullfill-the-condition-stack-them-and-sort-them-left-in-your-data-frame"><i class="fa fa-check"></i><b>11.10.2</b> <a id="example-of-sort-corr" style="color:black; text-decoration: none;"><u>Filter the WHOLE Dataframe after a condition (hier: Correlations &gt; 0.75), select ONLY all observations that fullfill the condition (= ‘stack them’) and sort them left in your Data Frame</u></a>:</a></li>
</ul></li>
<li class="chapter" data-level="11.11" data-path="python-mustercodes.html"><a href="python-mustercodes.html#data-cleaning-missings"><i class="fa fa-check"></i><b>11.11</b> ## <a id="dealing-with-missings" style="color:black; text-decoration: none;">Data-Cleaning: Missings</a></a><ul>
<li class="chapter" data-level="11.11.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#number-of-missing-values-across-the-whole-data-frame"><i class="fa fa-check"></i><b>11.11.1</b> <a id="count-total-missings-ddset" style="color:black; text-decoration: none;"><u>Number of Missing Values across the WHOLE Data-Frame</u></a>:</a></li>
<li class="chapter" data-level="11.11.2" data-path="python-mustercodes.html"><a href="python-mustercodes.html#count-the-total-number-of-missings-in-each-column"><i class="fa fa-check"></i><b>11.11.2</b> <a id="count-missings-per-columns" style="color:black; text-decoration: none;"><u>Count the TOTAL number of Missings in each column</u></a>:</a></li>
<li class="chapter" data-level="11.11.3" data-path="python-mustercodes.html"><a href="python-mustercodes.html#count-the-non-missings-and-non-zero-values-in-each-column"><i class="fa fa-check"></i><b>11.11.3</b> <a id="count-non-missings-only-if-no-0" style="color:black; text-decoration: none;"><u>Count the non-missings (and non-zero values) in each column</u></a>:</a></li>
<li class="chapter" data-level="11.11.4" data-path="python-mustercodes.html"><a href="python-mustercodes.html#display-each-row-with-a-missing-value"><i class="fa fa-check"></i><b>11.11.4</b> <a id="show-only-rows-with-missings" style="color:black; text-decoration: none;"><u>Display each row with a Missing-Value</u></a>:</a></li>
<li class="chapter" data-level="11.11.5" data-path="python-mustercodes.html"><a href="python-mustercodes.html#replace-all-missings-in-a-column-with-0s"><i class="fa fa-check"></i><b>11.11.5</b> <a id="replace-missings-with-0" style="color:black; text-decoration: none;"><u>Replace all Missings in a Column with 0s</u></a>:</a></li>
<li class="chapter" data-level="11.11.6" data-path="python-mustercodes.html"><a href="python-mustercodes.html#replace-all-values-in-a-column-with-missings"><i class="fa fa-check"></i><b>11.11.6</b> <u>Replace all Values in a Column with <code>Missings</code></u>:</a></li>
</ul></li>
<li class="chapter" data-level="11.12" data-path="python-mustercodes.html"><a href="python-mustercodes.html#missing-imputation"><i class="fa fa-check"></i><b>11.12</b> ## <a id="missing-imputations" style="color:black; text-decoration: none;">Missing Imputation</a></a><ul>
<li class="chapter" data-level="11.12.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#missing-interpolation"><i class="fa fa-check"></i><b>11.12.1</b> <u>Missing Interpolation</u>:</a></li>
</ul></li>
<li class="chapter" data-level="11.13" data-path="python-mustercodes.html"><a href="python-mustercodes.html#data-cleaning-duplicates"><i class="fa fa-check"></i><b>11.13</b> ## <a id="data-duplicates" style="color:black; text-decoration: none;">Data-Cleaning: Duplicates</a></a><ul>
<li class="chapter" data-level="11.13.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#number-of-duplicates-across-the-whole-data-frame"><i class="fa fa-check"></i><b>11.13.1</b> <a id="count-all-duplicates" style="color:black; text-decoration: none;"><u>Number of Duplicates across the WHOLE Data-Frame</u></a>:</a></li>
<li class="chapter" data-level="11.13.2" data-path="python-mustercodes.html"><a href="python-mustercodes.html#drop-duplicate-values"><i class="fa fa-check"></i><b>11.13.2</b> <a id="drop-duplicates" style="color:black; text-decoration: none;"><u>Drop Duplicate values</u></a>:</a></li>
</ul></li>
<li class="chapter" data-level="11.14" data-path="python-mustercodes.html"><a href="python-mustercodes.html#data-cleaning-outliers"><i class="fa fa-check"></i><b>11.14</b> ## <a id="outliers" style="color:black; text-decoration: none;">Data-Cleaning: Outliers</a></a><ul>
<li class="chapter" data-level="11.14.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#draw-a-boxplot-for-a-specific-column"><i class="fa fa-check"></i><b>11.14.1</b> <a id="draw-boxplot" style="color:black; text-decoration: none;"><u>Draw a Boxplot for a specific column</u></a>:</a></li>
</ul></li>
<li class="chapter" data-level="11.15" data-path="python-mustercodes.html"><a href="python-mustercodes.html#merging-splitting"><i class="fa fa-check"></i><b>11.15</b> ## <a id="merging-and-splitting" style="color:black; text-decoration: none;">Merging &amp; Splitting</a></a><ul>
<li class="chapter" data-level="11.15.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#splitting-a-dataset-into-smaller-parts-by-using-categories-to-split-it-up"><i class="fa fa-check"></i><b>11.15.1</b> <a id="split-big-ddset-by-categories" style="color:black; text-decoration: none;"><u>Splitting a Dataset into smaller parts, by using categories to split it up</u></a>:</a></li>
<li class="chapter" data-level="11.15.2" data-path="python-mustercodes.html"><a href="python-mustercodes.html#merge-2-separate-data-sets-together-via-their-row-index-row-label"><i class="fa fa-check"></i><b>11.15.2</b> <a id="merging-by-idx" style="color:black; text-decoration: none;"><u>Merge 2 separate Data Sets together via their row-index (= row-label)</u></a>:</a></li>
<li class="chapter" data-level="11.15.3" data-path="python-mustercodes.html"><a href="python-mustercodes.html#merge-different-datasets-simultaneously-together"><i class="fa fa-check"></i><b>11.15.3</b> <a id="merge-multiple-ddset" style="color:black; text-decoration: none;"><u>Merge different datasets simultaneously together</u></a>:</a></li>
</ul></li>
<li class="chapter" data-level="11.16" data-path="python-mustercodes.html"><a href="python-mustercodes.html#advanced-exploration-of-your-data"><i class="fa fa-check"></i><b>11.16</b> ## <a id="advanced-exploration" style="color:black; text-decoration: none;">Advanced Exploration of your data</a></a><ul>
<li class="chapter" data-level="11.16.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#how-to-create-plot-a-pearson-correlation-matrix-out-of-a-dataframe"><i class="fa fa-check"></i><b>11.16.1</b> <a id="create-correlation-matrix" style="color:black; text-decoration: none;"><u>How to create &amp; plot a <code>Pearson Correlation Matrix</code> out of a Dataframe?</u></a>:</a></li>
</ul></li>
<li class="chapter" data-level="11.17" data-path="python-mustercodes.html"><a href="python-mustercodes.html#time-series-exploration-visualizations"><i class="fa fa-check"></i><b>11.17</b> ## <a id="time-series-exploration" style="color:black; text-decoration: none;">Time-Series: Exploration &amp; Visualizations</a></a><ul>
<li class="chapter" data-level="11.17.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#plotting-a-time-series"><i class="fa fa-check"></i><b>11.17.1</b> <a id="plot-time-series" style="color:black; text-decoration: none;"><u>Plotting a Time Series</u></a>:</a></li>
<li class="chapter" data-level="11.17.2" data-path="python-mustercodes.html"><a href="python-mustercodes.html#plot-auto-correlation-partial-auto-correlation-functions"><i class="fa fa-check"></i><b>11.17.2</b> <a id="auto-and-partial-auto-corr" style="color:black; text-decoration: none;"><u>Plot Auto-Correlation &amp; Partial-Auto-Correlation Functions</u></a>:</a></li>
<li class="chapter" data-level="11.17.3" data-path="python-mustercodes.html"><a href="python-mustercodes.html#plot-the-cross-correlationyt-xt---k"><i class="fa fa-check"></i><b>11.17.3</b> <a id="cross-corr" style="color:black; text-decoration: none;"><u>Plot the Cross-Correlation(Y<sub>t</sub>, X<sub>t - k</sub>)</u></a>:</a></li>
</ul></li>
<li class="chapter" data-level="11.18" data-path="python-mustercodes.html"><a href="python-mustercodes.html#feature-engineering-for-time-series"><i class="fa fa-check"></i><b>11.18</b> ## <a id="feature-engineering-time-series" style="color:black; text-decoration: none;">Feature Engineering for Time-Series</a></a><ul>
<li class="chapter" data-level="11.18.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#creating-an-index-for-time-series"><i class="fa fa-check"></i><b>11.18.1</b> <a id="time-stamps-as-index" style="color:black; text-decoration: none;"><u>Creating an index for Time-Series</u></a>:</a></li>
<li class="chapter" data-level="11.18.2" data-path="python-mustercodes.html"><a href="python-mustercodes.html#make-a-copy-of-the-index-as-a-column-of-a-dataframe"><i class="fa fa-check"></i><b>11.18.2</b> <a id="copy-index-as-columns" style="color:black; text-decoration: none;"><u>Make a copy of the index as a Column of a DataFrame</u></a>:</a></li>
<li class="chapter" data-level="11.18.3" data-path="python-mustercodes.html"><a href="python-mustercodes.html#converting-a-time-column-into-a-datetime-column-and-set-it-as-an-index-row-label"><i class="fa fa-check"></i><b>11.18.3</b> <a id="make-datetime-and-set-index" style="color:black; text-decoration: none;"><u>Converting a Time-Column into a Datetime-Column and set it as an Index (= row label)</u></a>:</a></li>
<li class="chapter" data-level="11.18.4" data-path="python-mustercodes.html"><a href="python-mustercodes.html#creating-a-range-of-dates-in-python"><i class="fa fa-check"></i><b>11.18.4</b> <a id="create-range-of-dates" style="color:black; text-decoration: none;"><u>Creating a range of dates in Python</u></a>:</a></li>
</ul></li>
<li class="chapter" data-level="11.19" data-path="python-mustercodes.html"><a href="python-mustercodes.html#rechnen-mit-date-time-objects-addition-und-subtraktion-von-zeiten"><i class="fa fa-check"></i><b>11.19</b> ## <a id="rechnen-mit-date-time-objects" style="color:black; text-decoration: none;">Rechnen mit Date-Time Objects: Addition und Subtraktion von Zeiten</a></a><ul>
<li class="chapter" data-level="11.19.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#finde-den-genauen-zeitpunkt-jetzt-heute-heraus"><i class="fa fa-check"></i><b>11.19.1</b> <a id="today" style="color:black; text-decoration: none;"><u>Finde den genauen Zeitpunkt “jetzt” // “heute” heraus</u></a>:</a></li>
<li class="chapter" data-level="11.19.2" data-path="python-mustercodes.html"><a href="python-mustercodes.html#zukunftszeitpunkt-mit-dem-jetzt-als-referenzpunkt-startpunkt"><i class="fa fa-check"></i><b>11.19.2</b> <a id="zukunft-relativ-zu-jetzt" style="color:black; text-decoration: none;"><u>Zukunftszeitpunkt mit dem “jetzt” als Referenzpunkt // Startpunkt</u></a>:</a></li>
<li class="chapter" data-level="11.19.3" data-path="python-mustercodes.html"><a href="python-mustercodes.html#rechnen-mit-datum-subtraktion-mit-fixed-time-point-als-referenzpunkt-startpunkt"><i class="fa fa-check"></i><b>11.19.3</b> <a id="subtraktion-von-zeitpunkt" style="color:black; text-decoration: none;"><u>Rechnen mit Datum: Subtraktion mit <code>fixed time-point</code> als Referenzpunkt // Startpunkt</u></a>:</a></li>
<li class="chapter" data-level="11.19.4" data-path="python-mustercodes.html"><a href="python-mustercodes.html#day-of-the-week-given-a-date"><i class="fa fa-check"></i><b>11.19.4</b> <a id="wochentag-herausfinden" style="color:black; text-decoration: none;"><u>Day of the Week given a Date</u></a>:</a></li>
</ul></li>
<li class="chapter" data-level="11.20" data-path="python-mustercodes.html"><a href="python-mustercodes.html#dummy-variables-1"><i class="fa fa-check"></i><b>11.20</b> ## Dummy-Variables</a><ul>
<li class="chapter" data-level="11.20.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#create-a-normal-dummy"><i class="fa fa-check"></i><b>11.20.1</b> <a id="create-normal-dummies" style="color:black; text-decoration: none;"><u>Create a “normal” Dummy</u></a>:</a></li>
<li class="chapter" data-level="11.20.2" data-path="python-mustercodes.html"><a href="python-mustercodes.html#create-a-dummy-by-merging-flagging"><i class="fa fa-check"></i><b>11.20.2</b> <a id="flagg-dummy-by-merging" style="color:black; text-decoration: none;"><u>Create a Dummy by <code>merging</code> &amp; <code>flagging</code></u></a>:</a></li>
</ul></li>
<li class="chapter" data-level="11.21" data-path="python-mustercodes.html"><a href="python-mustercodes.html#dummy-variables-create-columns-for-specific-hours-seasons-of-the-year-etc"><i class="fa fa-check"></i><b>11.21</b> ## <a id="dummy-variables-for-time-variables" style="color:black; text-decoration: none;">Dummy-Variables: Create Columns for specific hours, seasons of the year etc…</a></a><ul>
<li class="chapter" data-level="11.21.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#extract-hours-and-put-it-into-a-separate-column"><i class="fa fa-check"></i><b>11.21.1</b> <a id="dummy-for-hours" style="color:black; text-decoration: none;"><u>Extract <code>hours</code> and put it into a separate column</u></a>:</a></li>
<li class="chapter" data-level="11.21.2" data-path="python-mustercodes.html"><a href="python-mustercodes.html#extract-seasons-qarters-and-put-it-into-a-separate-column"><i class="fa fa-check"></i><b>11.21.2</b> <a id="dummy-for-quarters" style="color:black; text-decoration: none;"><u>Extract <code>Seasons</code> (= “qarters”) and put it into a separate column</u></a>:</a></li>
<li class="chapter" data-level="11.21.3" data-path="python-mustercodes.html"><a href="python-mustercodes.html#extract-days-and-put-it-into-a-separate-column"><i class="fa fa-check"></i><b>11.21.3</b> <a id="dummy-for-days" style="color:black; text-decoration: none;"><u>Extract <code>Days</code> and put it into a separate column</u></a>:</a></li>
</ul></li>
<li class="chapter" data-level="11.22" data-path="python-mustercodes.html"><a href="python-mustercodes.html#scaling-variables"><i class="fa fa-check"></i><b>11.22</b> ## <a id="scaling-variables" style="color:black; text-decoration: none;">Scaling Variables</a></a><ul>
<li class="chapter" data-level="11.22.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#normalization"><i class="fa fa-check"></i><b>11.22.1</b> <a id="normalization-scaling" style="color:black; text-decoration: none;"><u>Normalization</u></a>:</a></li>
</ul></li>
<li class="chapter" data-level="11.23" data-path="python-mustercodes.html"><a href="python-mustercodes.html#umwandlungen"><i class="fa fa-check"></i><b>11.23</b> ## <a id="umwandlungen" style="color:black; text-decoration: none;">Umwandlungen</a></a><ul>
<li class="chapter" data-level="11.23.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#convert-a-series-into-an-array"><i class="fa fa-check"></i><b>11.23.1</b> <a id="series-to-array" style="color:black; text-decoration: none;"><u>Convert a Series into an array</u></a>:</a></li>
</ul></li>
<li class="chapter" data-level="11.24" data-path="python-mustercodes.html"><a href="python-mustercodes.html#apply-if-conditions-on-a-dataframe"><i class="fa fa-check"></i><b>11.24</b> ## Apply If-Conditions on a DataFrame</a></li>
<li class="chapter" data-level="11.25" data-path="python-mustercodes.html"><a href="python-mustercodes.html#visualization-of-the-data"><i class="fa fa-check"></i><b>11.25</b> ## <a id="data-viz" style="color:black; text-decoration: none;">Visualization of the Data</a></a><ul>
<li class="chapter" data-level="11.25.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#plot-save-an-image"><i class="fa fa-check"></i><b>11.25.1</b> <a id="plot-and-save-image" style="color:black; text-decoration: none;"><u>Plot &amp; Save an Image</u></a>:</a></li>
<li class="chapter" data-level="11.25.2" data-path="python-mustercodes.html"><a href="python-mustercodes.html#for-loops-to-iterate-over-lots-of-variables-and-save-them"><i class="fa fa-check"></i><b>11.25.2</b> <a id="multi-plots-for-loop" style="color:black; text-decoration: none;"><u>For-Loops to iterate over lots of variables and save them</u></a>:</a></li>
</ul></li>
<li class="chapter" data-level="11.26" data-path="python-mustercodes.html"><a href="python-mustercodes.html#python-magic-commands"><i class="fa fa-check"></i><b>11.26</b> ## <a id="magic-commands" style="color:black; text-decoration: none;">Python Magic Commands</a></a></li>
<li class="chapter" data-level="11.27" data-path="python-mustercodes.html"><a href="python-mustercodes.html#show-all-columns-of-a-dataframes"><i class="fa fa-check"></i><b>11.27</b> <u><a id="view-all-columns" style="color:black; text-decoration: none;">Show ALL Columns of a DataFrames</a></u></a></li>
<li class="chapter" data-level="11.28" data-path="python-mustercodes.html"><a href="python-mustercodes.html#working-with-html-within-jupyter-notebooks"><i class="fa fa-check"></i><b>11.28</b> <a id="html-with-jupyter-notebooks" style="color:black; text-decoration: none;"><u>Working with HTML within Jupyter-Notebooks</u></a></a><ul>
<li class="chapter" data-level="11.28.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#how-to-use-anchor-tags-to-make-references-within-your-jupyter-notebook"><i class="fa fa-check"></i><b>11.28.1</b> <u>How to use anchor-tags to make references within your Jupyter-Notebook</u>?</a></li>
</ul></li>
<li class="chapter" data-level="11.29" data-path="python-mustercodes.html"><a href="python-mustercodes.html#share-variables-between-notebooks"><i class="fa fa-check"></i><b>11.29</b> <a id="share-variables-between-notebooks" style="color:black; text-decoration: none;"><u>Share Variables between Notebooks</u></a></a></li>
<li class="chapter" data-level="11.30" data-path="python-mustercodes.html"><a href="python-mustercodes.html#useful-tricks-i-stumbled-upon"><i class="fa fa-check"></i><b>11.30</b> ## <a id="useful-tricks" style="color:black; text-decoration: none;">Useful “Tricks” I stumbled upon</a></a><ul>
<li class="chapter" data-level="11.30.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#reshape-1-1"><i class="fa fa-check"></i><b>11.30.1</b> <a id="reshape-1-1" style="color:black; text-decoration: none;"><u>Reshape(-1, 1)</u></a>:</a></li>
</ul></li>
<li class="chapter" data-level="11.31" data-path="python-mustercodes.html"><a href="python-mustercodes.html#math-tricks-for-hacks"><i class="fa fa-check"></i><b>11.31</b> ## <a id="math-tricks" style="color:black; text-decoration: none;">Math Tricks for Hacks</a></a><ul>
<li class="chapter" data-level="11.31.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#how-to-always-round-downwards"><i class="fa fa-check"></i><b>11.31.1</b> <a id="round-downwards" style="color:black; text-decoration: none;"><u>How to <em>always</em> round downwards</u></a>?:</a></li>
<li class="chapter" data-level="11.31.2" data-path="python-mustercodes.html"><a href="python-mustercodes.html#calculate-the-median"><i class="fa fa-check"></i><b>11.31.2</b> <a id="calc-median" style="color:black; text-decoration: none;"><u>Calculate the Median?</u></a></a></li>
</ul></li>
<li class="chapter" data-level="11.32" data-path="python-mustercodes.html"><a href="python-mustercodes.html#fun"><i class="fa fa-check"></i><b>11.32</b> ## Fun</a><ul>
<li class="chapter" data-level="11.32.1" data-path="python-mustercodes.html"><a href="python-mustercodes.html#arbeitszeit-left-to-work-berechnung"><i class="fa fa-check"></i><b>11.32.1</b> <u>Arbeitszeit (left to work…) Berechnung</u>:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="openai.html"><a href="openai.html"><i class="fa fa-check"></i><b>12</b> OpenAI</a><ul>
<li class="chapter" data-level="12.1" data-path="openai.html"><a href="openai.html#what-can-openai-do-the-output"><i class="fa fa-check"></i><b>12.1</b> What can <code>OpenAI</code> do? | The Output</a></li>
<li class="chapter" data-level="12.2" data-path="openai.html"><a href="openai.html#how-does-the-model-work-the-blueprint"><i class="fa fa-check"></i><b>12.2</b> How does the Model work? | The Blueprint</a></li>
<li class="chapter" data-level="12.3" data-path="openai.html"><a href="openai.html#terminology-of-openai-api-wörterbuch"><i class="fa fa-check"></i><b>12.3</b> Terminology of <code>OpenAI</code>-API | Wörterbuch</a></li>
<li class="chapter" data-level="12.4" data-path="openai.html"><a href="openai.html#technology-behind-it-quellen"><i class="fa fa-check"></i><b>12.4</b> Technology behind it | Quellen</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science from Scratch Code</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="python-mustercodes" class="section level1">
<h1><span class="header-section-number">Chapter 11</span> <a id="top" style="color:black; text-decoration: none;">Python Mustercodes</a></h1>
<p>In diesem Dokument habe ich eine <strong>Liste von diversen Python-Codes</strong>, welche mir in meiner Arbeit als Data Scientist behilflich sein könnten. I hope you find what you are looking for =)</p>
<div id="inhaltsverzeichnis" class="section level2">
<h2><span class="header-section-number">11.1</span> Inhaltsverzeichnis</h2>
<pre><code>&lt;a id=&quot;gebe-hier-passenden-id-namen&quot; style=&quot;color:black; text-decoration: none;&quot;&gt;&lt;/a&gt;</code></pre>
<ul>
<li><a href="python-mustercodes.html#list-compr">List Comprehensions</a></li>
<li><a href="python-mustercodes.html#str-manip">String Manipulation</a></li>
<li><a href="python-mustercodes.html#package-install">Package Installation</a>
<ul>
<li><a href="python-mustercodes.html#deinstall-pip">De-Install Packages with <code>pip</code></a></li>
</ul></li>
<li><a href="python-mustercodes.html#help">Help</a></li>
<li><a href="python-mustercodes.html#path">Path handling</a></li>
<li><a href="python-mustercodes.html#saving">Save Data</a>
<ul>
<li><a href="python-mustercodes.html#save-csv">… as <code>.CSV</code></a></li>
</ul></li>
<li><a href="python-mustercodes.html#read-data">Read Data</a>
<ul>
<li><a href="python-mustercodes.html#load-excel">Load <code>Excel</code></a></li>
<li><a href="python-mustercodes.html#load-csv">Load <code>.CSV</code></a></li>
<li><a href="python-mustercodes.html#load-url">… via a Website’s URL</a></li>
<li><a href="python-mustercodes.html#load-pickle">Load Pickle</a></li>
</ul></li>
<li><a href="python-mustercodes.html#vanilla-exploration">Vanilla Data Exploration</a>
<ul>
<li><a href="python-mustercodes.html#number-of-rows">Number of Rows</a></li>
<li><a href="python-mustercodes.html#view-all-ddset">View whole Dataset</a></li>
<li><a href="python-mustercodes.html#view-first-five">View 5 first observations in the Dataset</a></li>
<li><a href="python-mustercodes.html#view-last-five">View 5 last observations in the Dataset</a></li>
<li><a href="python-mustercodes.html#missings-per-column">Number of Missings per Column within a dataset</a></li>
<li><a href="python-mustercodes.html#find-data-type">Find the <code>Data Type</code> of a Variable</a></li>
<li><a href="python-mustercodes.html#drop-columns">Drop 1 OR multiple Columns</a></li>
<li><a href="python-mustercodes.html#rename-columns">Re-Name 1 OR multiple Columns</a></li>
<li><a href="python-mustercodes.html#reset-and-set-idx"><code>.reset_index()</code> and <code>.set_index()</code></a></li>
<li><a href="python-mustercodes.html#summary-ddset">Summary of a Dataset</a></li>
<li><a href="python-mustercodes.html#unique-values">Show only <code>unique()</code> Columns</a></li>
<li><a href="python-mustercodes.html#median-and-mean">Median &amp; Mean for a particular Column</a></li>
<li><a href="python-mustercodes.html#apply-a-function-based-on-cond">Apply a Fustom-Function <code>f(x)</code>, but only on certain rows within a Dataframe via <code>numpy</code></a></li>
<li><a href="python-mustercodes.html#trans-series-to-frame">Transform a Series to a Dataframe</a></li>
<li><a href="python-mustercodes.html#unique-id">Assign a <code>unique ID</code></a></li>
</ul></li>
<li><a href="python-mustercodes.html#sel-and-filt">Selection &amp; Filtering of Rows &amp; Columns</a>
<ul>
<li><a href="python-mustercodes.html#select-1-col-ddset">Select 1 Column in a Dataframe</a>
<ul>
<li><a href="python-mustercodes.html#dot-not">Example with “dot-notation”, e.g. <code>df.a_Column</code></a></li>
</ul></li>
<li><a href="python-mustercodes.html#select-multi-col-ddset">Select multiple Columns in a Dataframe</a></li>
<li><a href="python-mustercodes.html#filter-1-row-ddset">Select AND Filter for Rows with <em>1 Condition</em> within Dataframe</a></li>
<li><a href="python-mustercodes.html#filter-multi-cond-ddset">Select AND Filter for Rows with <em>multiple Conditions</em> within a Dataframe</a></li>
<li><a href="python-mustercodes.html#select-only-missings">Select only Rows with Missing-Values</a></li>
<li><a href="python-mustercodes.html#sel-loc-iloc">Selection with “Accessor Operators” <code>loc</code> &amp; <code>iloc</code></a>
<ul>
<li><a href="python-mustercodes.html#example-iloc-sel">Example: Select 1st Row and 5th Column with <code>iloc</code></a></li>
<li><a href="python-mustercodes.html#example-loc-sel">Example: Select 1st Row and 5th Column with <code>loc</code></a></li>
<li><a href="python-mustercodes.html#example-sel-with-threshold-loc">Example: Select with a <em>Threshold-Value</em> via <code>loc</code></a></li>
<li><a href="python-mustercodes.html#example-sel-entire-row-with-iloc">Example: Select <em>entire Rows</em> via <code>iloc</code></a></li>
<li><a href="python-mustercodes.html#example-sel-entire-row-with-loc">Example: Select <em>entire Rows</em> via <code>loc</code></a></li>
</ul></li>
<li><a href="python-mustercodes.html#replace-values-within-rows">Replace Values within Rows</a></li>
<li><a href="python-mustercodes.html#different-slicing-loc-and-iloc">Slicing is different when using <code>loc</code> or <code>iloc</code></a></li>
</ul></li>
<li><a href="python-mustercodes.html#sort-and-filt">Sorting &amp; Filtering</a>
<ul>
<li><a href="python-mustercodes.html#sort-pearson-corr-from-most-imp-to-least-imp">Sorting (Pearson) Correlation _from most-important to least-important</a>
<ul>
<li><a href="python-mustercodes.html#example-of-sort-corr">Example: Select only highest Correlations, then Sort them and <code>print()</code> them</a></li>
</ul></li>
</ul></li>
<li><a href="python-mustercodes.html#dealing-with-missings">Dealing with Missings</a>
<ul>
<li><a href="python-mustercodes.html#count-total-missings-ddset">Count total Number of Missings within a Dataframe</a></li>
<li><a href="python-mustercodes.html#count-missings-per-columns">Count Missings per Columns</a></li>
<li><a href="python-mustercodes.html#count-non-missings-only-if-no-0">Count <em>Non</em>-Missings, but <em>ONLY IF</em> you don’t have the value <code>0</code> in it</a></li>
<li><a href="python-mustercodes.html#show-only-rows-with-missings">Show only Rows with missings</a></li>
<li><a href="python-mustercodes.html#replace-missings-with-0">Replace all Missings with 0’s</a></li>
<li><a href="python-mustercodes.html#missing-imputations">Missing-Imputations</a>
<ul>
<li><a href="python-mustercodes.html#interpolation-for-time-series">Missing-Interpolation for Time-Series</a></li>
</ul></li>
</ul></li>
<li><a href="python-mustercodes.html#data-duplicates">Duplicate Data</a>
<ul>
<li><a href="python-mustercodes.html#count-all-duplicates">Count <em>all</em> Duplicates in the Dataframe</a></li>
<li><a href="python-mustercodes.html#drop-duplicates">Drop Duplicates</a></li>
</ul></li>
<li><a href="python-mustercodes.html#outliers">Outliers</a>
<ul>
<li><a href="python-mustercodes.html#draw-boxplot">Draw a Boxplot</a></li>
</ul></li>
<li><a href="python-mustercodes.html#merging-and-splitting">Merging &amp; Splitting</a>
<ul>
<li><a href="python-mustercodes.html#split-big-ddset-by-categories">Split bigger Dataset by Categories into Subsets</a></li>
<li><a href="python-mustercodes.html#merging-by-idx">Merging 2 Dataframes by their (row) index</a></li>
<li><a href="python-mustercodes.html#merge-multiple-ddset">Merging <em>multiple</em> Datasets _simultaneously</a></li>
</ul></li>
<li><a href="python-mustercodes.html#advanced-exploration">Advanced Data Exploration</a>
<ul>
<li><a href="python-mustercodes.html#create-correlation-matrix">Create a Correlation-Matrix from a Dataframe</a></li>
</ul></li>
<li><a href="python-mustercodes.html#time-series-exploration">Time Series Exploration</a>
<ul>
<li><a href="python-mustercodes.html#plot-time-series">Plot Time-Series</a></li>
<li><a href="python-mustercodes.html#auto-and-partial-auto-corr">Autocorrelation &amp; Partial-Autocorrelation</a></li>
<li><a href="python-mustercodes.html#cross-corr">Cross-Correlation</a></li>
<li><a href="python-mustercodes.html#feature-engineering-time-series">Feature Engineering</a>
<ul>
<li><a href="python-mustercodes.html#time-stamps-as-index">Creating a Time-Index</a></li>
<li><a href="python-mustercodes.html#copy-index-as-columns">Copy Index as a Column</a></li>
<li><a href="python-mustercodes.html#make-datetime-and-set-index">Transform a “Pseudo”-Time-Column into a <code>Date-Time</code>-Column and set it as the index</a></li>
<li><a href="python-mustercodes.html#create-range-of-dates">Create a <code>range()</code> of Dates</a></li>
<li><a href="python-mustercodes.html#rechnen-mit-date-time-objects">Rechnen (Addition &amp; Substraktion) mit <code>Date-Time</code></a>
<ul>
<li><a href="python-mustercodes.html#today">Genauer Zeitpunkt “jetzt” (Heute // <code>Today</code>) herausfinden</a></li>
<li><a href="python-mustercodes.html#zukunft-relativ-zu-jetzt">Zukunft relativ zu “jetzt”</a></li>
<li><a href="python-mustercodes.html#subtraktion-von-zeitpunkt">Subtraktion, um vergangenen Zeitpunkt zu berechnen</a></li>
<li><a href="python-mustercodes.html#wochentag-herausfinden">Herausfinden, welcher Wochentag (Mo / Di / Mi etc…) ein bestimmtes Datum war</a></li>
</ul></li>
<li><a href="python-mustercodes.html#dummy-variables-for-time-variables">Create Dummy-Variables for Time-Variables</a>
<ul>
<li><a href="python-mustercodes.html#create-normal-dummies">Create “normal” Dummies</a></li>
<li><a href="python-mustercodes.html#flagg-dummy-by-merging">“Flagg”-Dummy by Merging</a></li>
<li><a href="python-mustercodes.html#dummy-for-hours">Dummy for Hours</a></li>
<li><a href="python-mustercodes.html#dummy-for-quarters">Dummy for Quarters</a></li>
<li><a href="python-mustercodes.html#dummy-for-days">Dummy for Days</a></li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="python-mustercodes.html#scaling-variables">Scaling Variables</a>
<ul>
<li><a href="python-mustercodes.html#normalization-scaling">Normalization</a></li>
<li><a href="python-mustercodes.html#series-to-array">Series to Array</a></li>
</ul></li>
<li><a href="python-mustercodes.html#data-viz">Data Visualization</a>
<ul>
<li><a href="python-mustercodes.html#plot-and-save-image">Plot and Save Image</a></li>
<li><a href="python-mustercodes.html#multi-plots-for-loop"><em>Multiple</em> Plots with For-Loops</a></li>
</ul></li>
<li><a href="python-mustercodes.html#umwandlungen">Umwandlungen von <code>Data Types</code> in einen anderen <code>Data Type</code></a>
<ul>
<li><a href="python-mustercodes.html#series-to-array">Convert Series to Array</a></li>
</ul></li>
<li><a href="python-mustercodes.html#useful-tricks">Useful “tricks” I stumbled upon</a>
<ul>
<li><a href="python-mustercodes.html#reshape-1-1"><code>Reshape(-1,1)</code> to create a list <em>within</em> a list</a></li>
</ul></li>
<li><a href="python-mustercodes.html#math-tricks">Math-Tricks for “Hacks”</a>
<ul>
<li><a href="python-mustercodes.html#round-downwards">Round Downwards</a></li>
<li><a href="python-mustercodes.html#calc-median">Calculate the Median</a></li>
</ul></li>
<li><a href="python-mustercodes.html#magic-commands">Python Magic Commands</a>
<ul>
<li><a href="python-mustercodes.html#view-all-columns">View all Columns</a></li>
<li><a href="python-mustercodes.html#html-with-jupyter-notebooks">Working with HTML within Juypter-Notebooks</a></li>
<li><a href="python-mustercodes.html#share-variables-between-notebooks">Share Variables between Notebooks</a></li>
</ul></li>
</ul>
<div id="list-comprehensions" class="section level3">
<h3><span class="header-section-number">11.1.1</span> <u><a id="list-compr" style="color:black; text-decoration: none;">List Comprehensions</a></u>:</h3>
<p>List Comprehensions are a concept that is on of <code>Python</code>’s most beloved and unique features. It’s basically a loop where you apply a function to each of the elements during the loop. Its Output is a <code>list</code>.</p>
<ul>
<li><u><strong>Examples</strong></u>:</li>
</ul>
</div>
<div id="list-comprehension-where-we-apply-a-function-x2" class="section level3">
<h3><span class="header-section-number">11.1.2</span> <u>List comprehension where we apply a <code>function</code></u>: x<sup>2</sup></h3>
<p>List comprehensions are really nice if you want to iterate over a column and apply a function on a particular column of your dataset.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb68-1"><a href="python-mustercodes.html#cb68-1"></a>squares <span class="op">=</span> [n<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> n <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>)] <span class="co"># apply f(x) = x^2 on a list = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span>
<span id="cb68-2"><a href="python-mustercodes.html#cb68-2"></a>squares</span></code></pre></div>
<pre><code>[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb70-1"><a href="python-mustercodes.html#cb70-1"></a><span class="bu">print</span>(<span class="bu">type</span>(squares)) <span class="co"># Check output: should be a &#39;list&#39;</span></span></code></pre></div>
<pre><code>&lt;class &#39;list&#39;&gt;</code></pre>
</div>
<div id="list-comprehension-with-an-if-condition" class="section level3">
<h3><span class="header-section-number">11.1.3</span> <u>List comprehension with an <code>if</code> condition</u>:</h3>
<div class="sourceCode" id="cb72"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb72-1"><a href="python-mustercodes.html#cb72-1"></a>planets <span class="op">=</span> [<span class="st">&#39;Mercury&#39;</span>, <span class="st">&#39;Venus&#39;</span>, <span class="st">&#39;Earth&#39;</span>, <span class="st">&#39;Mars&#39;</span>, <span class="st">&#39;Jupiter&#39;</span>, <span class="st">&#39;Saturn&#39;</span>, <span class="st">&#39;Uranus&#39;</span>, <span class="st">&#39;Neptune&#39;</span>] <span class="co"># this is the list we will loop through</span></span>
<span id="cb72-2"><a href="python-mustercodes.html#cb72-2"></a></span>
<span id="cb72-3"><a href="python-mustercodes.html#cb72-3"></a>short_planets <span class="op">=</span> [planet <span class="cf">for</span> planet <span class="kw">in</span> planets <span class="cf">if</span> <span class="bu">len</span>(planet) <span class="op">&lt;</span> <span class="dv">6</span>]</span>
<span id="cb72-4"><a href="python-mustercodes.html#cb72-4"></a>short_planets</span></code></pre></div>
<pre><code>[&#39;Venus&#39;, &#39;Earth&#39;, &#39;Mars&#39;]</code></pre>
</div>
<div id="string-manipulation-1" class="section level3">
<h3><span class="header-section-number">11.1.4</span> <u><a id="str-manip" style="color:black; text-decoration: none;">String Manipulation</a></u>:</h3>
</div>
<div id="transform-a-list-that-contains-strings-into-a-whole-string-only-separated-by-commas" class="section level3">
<h3><span class="header-section-number">11.1.5</span> <u>Transform a <code>list</code> that contains strings into a WHOLE string, only separated by commas</u>:</h3>
<div class="sourceCode" id="cb74"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb74-1"><a href="python-mustercodes.html#cb74-1"></a><span class="co"># step 0: create a list with many strings in it</span></span>
<span id="cb74-2"><a href="python-mustercodes.html#cb74-2"></a>planets <span class="op">=</span> [<span class="st">&#39;Mercury&#39;</span>, <span class="st">&#39;Venus&#39;</span>, <span class="st">&#39;Earth&#39;</span>, <span class="st">&#39;Mars&#39;</span>, <span class="st">&#39;Jupiter&#39;</span>, <span class="st">&#39;Saturn&#39;</span>, <span class="st">&#39;Uranus&#39;</span>, <span class="st">&#39;Neptune&#39;</span>]</span>
<span id="cb74-3"><a href="python-mustercodes.html#cb74-3"></a></span>
<span id="cb74-4"><a href="python-mustercodes.html#cb74-4"></a><span class="co"># Step 1: Transform the whole list into a single &quot;string&quot;</span></span>
<span id="cb74-5"><a href="python-mustercodes.html#cb74-5"></a><span class="bu">str</span>(planets) <span class="co"># should output: &quot;[&#39;Mercury&#39;, &#39;Venus&#39;, &#39;Earth&#39;, &#39;Mars&#39;, &#39;Jupiter&#39;, &#39;Saturn&#39;, &#39;Uranus&#39;, &#39;Neptune&#39;]&quot;</span></span>
<span id="cb74-6"><a href="python-mustercodes.html#cb74-6"></a></span>
<span id="cb74-7"><a href="python-mustercodes.html#cb74-7"></a><span class="co"># Step 2: Now, we replace all characters that are unnecessary - such as &#39; [ and ] -such that we return a whole string,</span></span>
<span id="cb74-8"><a href="python-mustercodes.html#cb74-8"></a>        <span class="co"># only separated by commas, with no whitespace in between them:</span></span>
<span id="cb74-9"><a href="python-mustercodes.html#cb74-9"></a>n <span class="op">=</span> <span class="bu">str</span>(planets).replace(<span class="st">&quot;&#39;&quot;</span>, <span class="st">&quot;&quot;</span>).replace(<span class="st">&#39;[&#39;</span>, <span class="st">&#39;&#39;</span>).replace(<span class="st">&#39;]&#39;</span>, <span class="st">&#39;&#39;</span>).replace(<span class="st">&#39; &#39;</span>, <span class="st">&#39;&#39;</span>) <span class="co"># replace everthing by empty-strings</span></span>
<span id="cb74-10"><a href="python-mustercodes.html#cb74-10"></a><span class="bu">print</span>(n) <span class="co"># Final output </span></span></code></pre></div>
<pre><code>Mercury,Venus,Earth,Mars,Jupiter,Saturn,Uranus,Neptune</code></pre>
</div>
</div>
<div id="installation-of-packages" class="section level2">
<h2><span class="header-section-number">11.2</span> ## <a id="package-install" style="color:black; text-decoration: none;">Installation of Packages</a></h2>
<div id="installing-with-package-manager-conda" class="section level3">
<h3><span class="header-section-number">11.2.1</span> <u>Installing with package-manager <code>conda</code></u>:</h3>
<p><code>Conda</code> is a package manager, which will - before starting to install a package that you want - check which dependencies are needed for the package to be able to be used.</p>
<ul>
<li><u>Example</u>: If you use <code>sktime</code>, then <code>conda</code> can detect that there ma be a conflict with the <em>current version</em> of - for example - the <code>package Tornado</code>. *Hence, <code>conda</code> will not only download <code>sktime</code>, but will also bring the package <code>Tornado</code> onto a newer version, such tht it will become compatible with <code>sktime</code>.</li>
<li><u>Note</u>: The installation via <code>conda</code> can take a while, since many dependencies will be checked!</li>
<li><u>Improtant</u>: Use <code>the terminal</code> for the following code.</li>
</ul>
<div id="to-install-a-specific-package---for-example---sktime-into-an-existing-virtual-environment-called-myenv-type-the-following-into-the-terminal" class="section level4">
<h4><span class="header-section-number">11.2.1.1</span> To install a specific package - for example - <code>sktime</code> into an existing virtual-environment called <code>"myenv"</code>, type the following into the terminal:</h4>
<div class="sourceCode" id="cb76"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb76-1"><a href="python-mustercodes.html#cb76-1"></a>conda install <span class="op">--</span>name myenv sktime</span></code></pre></div>
</div>
<div id="install-the-package-sktime-into-the-current-global-environment-dh-normally-type-the-following-into-the-terminal" class="section level4">
<h4><span class="header-section-number">11.2.1.2</span> Install the package <code>sktime</code> into the current (global) environment (= dh “normally”), type the following into the terminal:</h4>
<div class="sourceCode" id="cb77"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb77-1"><a href="python-mustercodes.html#cb77-1"></a>conda install sktime</span></code></pre></div>
</div>
</div>
<div id="installing-packages-with-pip" class="section level3">
<h3><span class="header-section-number">11.2.2</span> <u>Installing packages with <code>pip</code></u>:</h3>
<p>Der <strong>Nachteil</strong> von <code>pip install [some package-name here]</code> VS. <code>conda install [some package-name here]</code> liegt darin, dass <code>pip</code> <u>keine</u> Checks macht, ob die Versionen von verschiedenen Packages, die man verwendet, überhaupt kompatibel sind.</p>
<div id="alternative-installation-by-using-pip-within-the-terminal" class="section level4">
<h4><span class="header-section-number">11.2.2.1</span> Alternative Installation, by using <code>pip</code> within the terminal:</h4>
<div class="sourceCode" id="cb78"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb78-1"><a href="python-mustercodes.html#cb78-1"></a>pip install sktime</span></code></pre></div>
</div>
</div>
<div id="install-some-packages-modules-or-sub-modules" class="section level3">
<h3><span class="header-section-number">11.2.3</span> <u>Install some Packages // Modules, or Sub-Modules</u>:</h3>
<div class="sourceCode" id="cb79"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb79-1"><a href="python-mustercodes.html#cb79-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb79-2"><a href="python-mustercodes.html#cb79-2"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb79-3"><a href="python-mustercodes.html#cb79-3"></a><span class="im">from</span> matplotlib.dates <span class="im">import</span> date2num</span>
<span id="cb79-4"><a href="python-mustercodes.html#cb79-4"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb79-5"><a href="python-mustercodes.html#cb79-5"></a><span class="im">from</span> scipy <span class="im">import</span> stats</span>
<span id="cb79-6"><a href="python-mustercodes.html#cb79-6"></a><span class="im">from</span> datetime <span class="im">import</span> datetime</span></code></pre></div>
</div>
<div id="deinstall-packages-mit-pip" class="section level3">
<h3><span class="header-section-number">11.2.4</span> <u><a id="deinstall-pip" style="color:black; text-decoration: none;">Deinstall Packages mit <code>Pip</code></a></u>:</h3>
<div class="sourceCode" id="cb80"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb80-1"><a href="python-mustercodes.html#cb80-1"></a>pip uninstall fbprophet prophet cmdstanpy</span></code></pre></div>
</div>
</div>
<div id="need-help-documentation" class="section level2">
<h2><span class="header-section-number">11.3</span> ## <a id="help" style="color:black; text-decoration: none;">Need help &amp; documentation</a></h2>
<div class="sourceCode" id="cb81"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb81-1"><a href="python-mustercodes.html#cb81-1"></a><span class="bu">help</span>()</span></code></pre></div>
<pre><code>Welcome to Python 3.8&#39;s help utility!

If this is your first time using Python, you should definitely check out
the tutorial on the Internet at https://docs.python.org/3.8/tutorial/.

Enter the name of any module, keyword, or topic to get help on writing
Python programs and using Python modules.  To quit this help utility and
return to the interpreter, just type &quot;quit&quot;.

To get a list of available modules, keywords, symbols, or topics, type
&quot;modules&quot;, &quot;keywords&quot;, &quot;symbols&quot;, or &quot;topics&quot;.  Each module also comes
with a one-line summary of what it does; to list the modules whose name
or summary contain a given string such as &quot;spam&quot;, type &quot;modules spam&quot;.</code></pre>
</div>
<div id="path-handling" class="section level2">
<h2><span class="header-section-number">11.4</span> ## <a id="path" style="color:black; text-decoration: none;">Path Handling</a></h2>
<p><em>Sehr oft wirst du Modelle, die eventuell stundenlang gelernt haben oder Daten-Files etc… laden &amp; speichern müssen. Hierfür ist es von hoher Bedeutung, dass du gut mit Pfaden umgehen kannst, insbesondere mit der Library <code>os</code>!</em></p>
<p>Zwei Haupt-Formate, die du verwenden wirst für das Abspeichern &amp; Laden von Files, sind:</p>
<ul>
<li>Das <code>.csv</code>-Format.</li>
<li>Das <code>.pkl</code>-Format.</li>
<li>etc… Es gibt noch viele andere Formate, aber die obigen beiden sind die wichtigsten, denen ich bisher begegnet bin.</li>
</ul>
<div id="set-the-path-where-your-computer-should-save-data-models" class="section level3">
<h3><span class="header-section-number">11.4.1</span> <u>Set the Path, where your Computer should Save Data / Models</u></h3>
<div class="sourceCode" id="cb83"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb83-1"><a href="python-mustercodes.html#cb83-1"></a><span class="co"># Read data // Load data</span></span>
<span id="cb83-2"><a href="python-mustercodes.html#cb83-2"></a><span class="op">---</span><span class="im">import</span> os <span class="co"># this is the library that can handle paths</span></span>
<span id="cb83-3"><a href="python-mustercodes.html#cb83-3"></a></span>
<span id="cb83-4"><a href="python-mustercodes.html#cb83-4"></a>save_folder <span class="op">=</span> os.path.expanduser(os.path.join(<span class="st">&quot;~&quot;</span>, <span class="co"># our User&#39;s &quot;home&quot;-directory --&gt; for my Mac it is: &quot;/Users/jomaye&quot; </span></span>
<span id="cb83-5"><a href="python-mustercodes.html#cb83-5"></a>                                              <span class="st">&quot;Dokumente&quot;</span>, <span class="co"># Next, we jump 1 directory called &quot;Dokumente&quot; further below</span></span>
<span id="cb83-6"><a href="python-mustercodes.html#cb83-6"></a>                                              <span class="st">&quot;Programming&quot;</span>)) <span class="co"># Allgemeint: each string after a Komma is a new directory you can set. This can go on infinitively ;)</span></span>
<span id="cb83-7"><a href="python-mustercodes.html#cb83-7"></a></span>
<span id="cb83-8"><a href="python-mustercodes.html#cb83-8"></a></span>
<span id="cb83-9"><a href="python-mustercodes.html#cb83-9"></a>save_folder <span class="co"># check if it worked? --&gt; yes! Now you see your path =)</span></span></code></pre></div>
<pre><code>&#39;/Users/jomaye/Dokumente/Programming&#39;</code></pre>
</div>
</div>
<div id="save-data" class="section level2">
<h2><span class="header-section-number">11.5</span> ## <a id="saving" style="color:black; text-decoration: none;">Save data</a></h2>
<div id="save-as-csv-file" class="section level3">
<h3><span class="header-section-number">11.5.1</span> <u><a id="save-csv" style="color:black; text-decoration: none;">Save as CSV-File</u></a>:</h3>
<div class="sourceCode" id="cb85"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb85-1"><a href="python-mustercodes.html#cb85-1"></a>dynamic_name <span class="op">=</span> <span class="st">&quot;name_of_a_specific_characteristic_of_the_variable_that_you_want_to_save&quot;</span> <span class="co"># this is needed for &quot;dynamisches speichern&quot; via F-String  </span></span>
<span id="cb85-2"><a href="python-mustercodes.html#cb85-2"></a>YOUR_VAR_NAME.to_csv(<span class="ss">f&quot;Name-of-the-CSV-</span><span class="sc">{</span>dynamic_name<span class="sc">}</span><span class="ss">.csv&quot;</span>) <span class="co"># I use f-strings since it allows me to adapt the CSV-filenames to a specific characteristic, that I used for a model / method etc...</span></span></code></pre></div>
</div>
</div>
<div id="read-data-load-data" class="section level2">
<h2><span class="header-section-number">11.6</span> ## <a id="read-data" style="color:black; text-decoration: none;">Read data // Load data</a></h2>
<p>In order to load datasets, you will need the library <code>pandas</code>. For <em>some</em> cases, additional libraries may be needed.</p>
<div id="load-data-from-excel-sheets" class="section level3">
<h3><span class="header-section-number">11.6.1</span> <a id="load-excel" style="color:black; text-decoration: none;"><u>Load data from Excel-Sheets</u></a>:</h3>
<div class="sourceCode" id="cb86"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb86-1"><a href="python-mustercodes.html#cb86-1"></a>epex_df <span class="op">=</span> pd.read_excel(<span class="st">&quot;./Data_V2/Preis_aktuell_Spot_EEX_CH-19-ver-mac.xlsx&quot;</span>, <span class="co"># plug in the correct path</span></span>
<span id="cb86-2"><a href="python-mustercodes.html#cb86-2"></a>                        header<span class="op">=</span>[<span class="dv">1</span>], <span class="co"># The dataset Column-names beginnt ab 2. Zeile (--&gt; 1. Zeile ist der Titel des Excel-Files)</span></span>
<span id="cb86-3"><a href="python-mustercodes.html#cb86-3"></a>                        sheet_name<span class="op">=</span><span class="st">&#39;Prices&#39;</span>, <span class="co"># If you have more than 1 Excel-Sheet within the Excel-File, you need to specify</span></span>
<span id="cb86-4"><a href="python-mustercodes.html#cb86-4"></a>                        <span class="co"># which sheet you want to load</span></span>
<span id="cb86-5"><a href="python-mustercodes.html#cb86-5"></a>                        engine<span class="op">=</span><span class="st">&#39;openpyxl&#39;</span>) <span class="co"># This input will (sometimes) be needed if you load data from an Excel-File via </span></span>
<span id="cb86-6"><a href="python-mustercodes.html#cb86-6"></a>                                           <span class="co"># a Windows-Computer, otherwise it can print an error!</span></span>
<span id="cb86-7"><a href="python-mustercodes.html#cb86-7"></a>epex_df <span class="co"># output the ddset a</span></span></code></pre></div>
</div>
<div id="load-dataset-via-a-csv-file" class="section level3">
<h3><span class="header-section-number">11.6.2</span> <a id="load-csv" style="color:black; text-decoration: none;"><u>Load Dataset via a CSV-File</u></a>:</h3>
<div class="sourceCode" id="cb87"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb87-1"><a href="python-mustercodes.html#cb87-1"></a>test <span class="op">=</span> pd.read_csv(</span>
<span id="cb87-2"><a href="python-mustercodes.html#cb87-2"></a>    <span class="st">&quot;C:/Users/u235051/Downloads/ETS_Database_v38/ETS_Database_v38.csv&quot;</span>, </span>
<span id="cb87-3"><a href="python-mustercodes.html#cb87-3"></a>    sep<span class="op">=</span><span class="st">&#39;</span><span class="ch">\t</span><span class="st">&#39;</span> <span class="co"># Im CSV-File waren die Spalten via &quot;Tab&quot;-Taste separiert, deshalb diese option zwingend anzugeben ist (ansonsten Error!)</span></span>
<span id="cb87-4"><a href="python-mustercodes.html#cb87-4"></a>) </span></code></pre></div>
<div class="sourceCode" id="cb88"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb88-1"><a href="python-mustercodes.html#cb88-1"></a>test</span></code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th>
</th>
<th>
country
</th>
<th>
country_code
</th>
<th>
ETS information
</th>
<th>
main activity sector name
</th>
<th>
unit
</th>
<th>
value
</th>
<th>
year
</th>
</tr>
</thead>
<tbody>
<tr>
<th>
0
</th>
<td>
Belgium
</td>
<td>
BE
</td>
<td>
<ol start="2" style="list-style-type: decimal">
<li>Verified emissions
</td>
<td>
35 Production of pulp
</td>
<td>
tonne of CO2 equ.
</td>
<td>
102581.0
</td>
<td>
2009
</td>
</tr>
<tr>
<th>
1
</th>
<td>
Belgium
</td>
<td>
BE
</td>
<td>
<ol start="2" style="list-style-type: decimal">
<li>Verified emissions
</td>
<td>
35 Production of pulp
</td>
<td>
tonne of CO2 equ.
</td>
<td>
106671.0
</td>
<td>
2011
</td>
</tr>
<tr>
<th>
2
</th>
<td>
Belgium
</td>
<td>
BE
</td>
<td>
<ol start="2" style="list-style-type: decimal">
<li>Verified emissions
</td>
<td>
35 Production of pulp
</td>
<td>
tonne of CO2 equ.
</td>
<td>
126702.0
</td>
<td>
2012
</td>
</tr>
<tr>
<th>
3
</th>
<td>
Belgium
</td>
<td>
BE
</td>
<td>
<ol start="4" style="list-style-type: decimal">
<li>Total surrendered units
</td>
<td>
35 Production of pulp
</td>
<td>
tonne of CO2 equ.
</td>
<td>
98349.0
</td>
<td>
2007
</td>
</tr>
<tr>
<th>
4
</th>
<td>
Belgium
</td>
<td>
BE
</td>
<td>
<ol start="4" style="list-style-type: decimal">
<li>Total surrendered units
</td>
<td>
35 Production of pulp
</td>
<td>
tonne of CO2 equ.
</td>
<td>
96708.0
</td>
<td>
2008
</td>
</tr>
<tr>
<th>
…
</th>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
<td>
…
</td>
</tr>
<tr>
<th>
57389
</th>
<td>
Hungary
</td>
<td>
HU
</td>
<td>
<ol start="2" style="list-style-type: decimal">
<li>Verified emissions
</td>
<td>
10 Aviation
</td>
<td>
tonne of CO2 equ.
</td>
<td>
12599748.0
</td>
<td>
Total 3rd trading period (13-20)
</td>
</tr>
<tr>
<th>
57390
</th>
<td>
Hungary
</td>
<td>
HU
</td>
<td>
1.1.3 Free allocation for modernisation of ele…
</td>
<td>
23 Metal ore roasting or sintering
</td>
<td>
tonne of CO2 equ.
</td>
<td>
0.0
</td>
<td>
Total 3rd trading period (13-20)
</td>
</tr>
<tr>
<th>
57391
</th>
<td>
Hungary
</td>
<td>
HU
</td>
<td>
1.1.3 Free allocation for modernisation of ele…
</td>
<td>
30 Production of lime, or calcination of dolom…
</td>
<td>
tonne of CO2 equ.
</td>
<td>
0.0
</td>
<td>
Total 3rd trading period (13-20)
</td>
</tr>
<tr>
<th>
57392
</th>
<td>
Hungary
</td>
<td>
HU
</td>
<td>
<ol start="4" style="list-style-type: decimal">
<li>Total surrendered units
</td>
<td>
43 Production of hydrogen and synthesis gas
</td>
<td>
tonne of CO2 equ.
</td>
<td>
883972.0
</td>
<td>
Total 3rd trading period (13-20)
</td>
</tr>
<tr>
<th>
57393
</th>
<td>
Ireland
</td>
<td>
IE
</td>
<td>
1.1.3 Free allocation for modernisation of ele…
</td>
<td>
10 Aviation
</td>
<td>
tonne of CO2 equ.
</td>
<td>
0.0
</td>
<td>
Total 3rd trading period (13-20)
</td>
</tr>
</tbody>
</table>
<p>
57394 rows × 7 columns
</p>
</div></li>
</ol></li>
</ol></li>
</ol></li>
</ol></li>
</ol></li>
</ol></li>
</ol>
</div>
<div id="load-dataset-via-a-url-from-a-website" class="section level3">
<h3><span class="header-section-number">11.6.3</span> <a id="load-url" style="color:black; text-decoration: none;"><u>Load Dataset via a URL from a Website</u></a>:</h3>
<p>In order to be able to <strong>access a dataset stored as a csv-file on a website</strong>, we will need to use - <em>besides</em> <code>pandas</code> - an additional library called <code>requests</code>.</p>
<div id="step-1" class="section level4">
<h4><span class="header-section-number">11.6.3.1</span> <u>Step 1</u>:</h4>
<p>Make the file ready to be downloaded be sending a query to the remote-server // website that hosts the csv-file.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb89-1"><a href="python-mustercodes.html#cb89-1"></a><span class="im">import</span> requests <span class="co"># load the library needed</span></span>
<span id="cb89-2"><a href="python-mustercodes.html#cb89-2"></a></span>
<span id="cb89-3"><a href="python-mustercodes.html#cb89-3"></a>download_url <span class="op">=</span> <span class="st">&quot;https://raw.githubusercontent.com/fivethirtyeight/data/master/nba-elo/nbaallelo.csv&quot;</span> <span class="co"># absolute URL</span></span>
<span id="cb89-4"><a href="python-mustercodes.html#cb89-4"></a>target_csv_path <span class="op">=</span> <span class="st">&quot;nba_all_elo.csv&quot;</span> <span class="co"># name of the .csv-file that contains the data</span></span>
<span id="cb89-5"><a href="python-mustercodes.html#cb89-5"></a></span>
<span id="cb89-6"><a href="python-mustercodes.html#cb89-6"></a>response <span class="op">=</span> requests.get(download_url) <span class="co"># using an API that &quot;gets&quot; (= http-protocol language) the data from the server</span></span>
<span id="cb89-7"><a href="python-mustercodes.html#cb89-7"></a>response.raise_for_status()    <span class="co"># Check that the request was successful</span></span>
<span id="cb89-8"><a href="python-mustercodes.html#cb89-8"></a><span class="cf">with</span> <span class="bu">open</span>(target_csv_path, <span class="st">&quot;wb&quot;</span>) <span class="im">as</span> f:</span>
<span id="cb89-9"><a href="python-mustercodes.html#cb89-9"></a>    f.write(response.content)</span>
<span id="cb89-10"><a href="python-mustercodes.html#cb89-10"></a><span class="bu">print</span>(<span class="st">&quot;Download ready.&quot;</span>)</span></code></pre></div>
<pre><code>Download ready.</code></pre>
</div>
<div id="step-2" class="section level4">
<h4><span class="header-section-number">11.6.3.2</span> <u>Step 2</u>:</h4>
<p>Load the actual data.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb91-1"><a href="python-mustercodes.html#cb91-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd <span class="co"># load the library needed</span></span>
<span id="cb91-2"><a href="python-mustercodes.html#cb91-2"></a></span>
<span id="cb91-3"><a href="python-mustercodes.html#cb91-3"></a>nba <span class="op">=</span> pd.read_csv(<span class="st">&quot;nba_all_elo.csv&quot;</span>) <span class="co"># load the data --&gt; ddset is called &#39;nba&#39;</span></span>
<span id="cb91-4"><a href="python-mustercodes.html#cb91-4"></a></span>
<span id="cb91-5"><a href="python-mustercodes.html#cb91-5"></a><span class="bu">type</span>(nba) <span class="co"># check if it worked? --&gt; should output: &lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span></span></code></pre></div>
<pre><code>pandas.core.frame.DataFrame</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb93-1"><a href="python-mustercodes.html#cb93-1"></a>nba.head()</span></code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th>
</th>
<th>
gameorder
</th>
<th>
game_id
</th>
<th>
lg_id
</th>
<th>
_iscopy
</th>
<th>
year_id
</th>
<th>
date_game
</th>
<th>
seasongame
</th>
<th>
is_playoffs
</th>
<th>
team_id
</th>
<th>
fran_id
</th>
<th>
…
</th>
<th>
win_equiv
</th>
<th>
opp_id
</th>
<th>
opp_fran
</th>
<th>
opp_pts
</th>
<th>
opp_elo_i
</th>
<th>
opp_elo_n
</th>
<th>
game_location
</th>
<th>
game_result
</th>
<th>
forecast
</th>
<th>
notes
</th>
</tr>
</thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1
</td>
<td>
194611010TRH
</td>
<td>
NBA
</td>
<td>
0
</td>
<td>
1947
</td>
<td>
11/1/1946
</td>
<td>
1
</td>
<td>
0
</td>
<td>
TRH
</td>
<td>
Huskies
</td>
<td>
…
</td>
<td>
40.294830
</td>
<td>
NYK
</td>
<td>
Knicks
</td>
<td>
68
</td>
<td>
1300.0000
</td>
<td>
1306.7233
</td>
<td>
H
</td>
<td>
L
</td>
<td>
0.640065
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
1
</th>
<td>
1
</td>
<td>
194611010TRH
</td>
<td>
NBA
</td>
<td>
1
</td>
<td>
1947
</td>
<td>
11/1/1946
</td>
<td>
1
</td>
<td>
0
</td>
<td>
NYK
</td>
<td>
Knicks
</td>
<td>
…
</td>
<td>
41.705170
</td>
<td>
TRH
</td>
<td>
Huskies
</td>
<td>
66
</td>
<td>
1300.0000
</td>
<td>
1293.2767
</td>
<td>
A
</td>
<td>
W
</td>
<td>
0.359935
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
2
</th>
<td>
2
</td>
<td>
194611020CHS
</td>
<td>
NBA
</td>
<td>
0
</td>
<td>
1947
</td>
<td>
11/2/1946
</td>
<td>
1
</td>
<td>
0
</td>
<td>
CHS
</td>
<td>
Stags
</td>
<td>
…
</td>
<td>
42.012257
</td>
<td>
NYK
</td>
<td>
Knicks
</td>
<td>
47
</td>
<td>
1306.7233
</td>
<td>
1297.0712
</td>
<td>
H
</td>
<td>
W
</td>
<td>
0.631101
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
3
</th>
<td>
2
</td>
<td>
194611020CHS
</td>
<td>
NBA
</td>
<td>
1
</td>
<td>
1947
</td>
<td>
11/2/1946
</td>
<td>
2
</td>
<td>
0
</td>
<td>
NYK
</td>
<td>
Knicks
</td>
<td>
…
</td>
<td>
40.692783
</td>
<td>
CHS
</td>
<td>
Stags
</td>
<td>
63
</td>
<td>
1300.0000
</td>
<td>
1309.6521
</td>
<td>
A
</td>
<td>
L
</td>
<td>
0.368899
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
4
</th>
<td>
3
</td>
<td>
194611020DTF
</td>
<td>
NBA
</td>
<td>
0
</td>
<td>
1947
</td>
<td>
11/2/1946
</td>
<td>
1
</td>
<td>
0
</td>
<td>
DTF
</td>
<td>
Falcons
</td>
<td>
…
</td>
<td>
38.864048
</td>
<td>
WSC
</td>
<td>
Capitols
</td>
<td>
50
</td>
<td>
1300.0000
</td>
<td>
1320.3811
</td>
<td>
H
</td>
<td>
L
</td>
<td>
0.640065
</td>
<td>
NaN
</td>
</tr>
</tbody>
</table>
<p>
5 rows × 23 columns
</p>
</div>
</div>
</div>
<div id="load-pickle-files" class="section level3">
<h3><span class="header-section-number">11.6.4</span> <a id="load-pickle" style="color:black; text-decoration: none;"><u>Load Pickle-Files</u></a>:</h3>
<div class="sourceCode" id="cb94"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb94-1"><a href="python-mustercodes.html#cb94-1"></a>filename <span class="op">=</span> <span class="st">&quot;Put_Your_Pickle-File_Name_Here&quot;</span> <span class="co"># Alternativ: os.path.join(data_folder_variable_where_pkl_is_saved, filename)</span></span>
<span id="cb94-2"><a href="python-mustercodes.html#cb94-2"></a>test_loaded_pkl <span class="op">=</span>  pickle.load(<span class="bu">open</span>(filename, <span class="st">&#39;rb&#39;</span>))</span></code></pre></div>
</div>
</div>
<div id="vanilla-exploration-of-your-dataset" class="section level2">
<h2><span class="header-section-number">11.7</span> ## <a id="vanilla-exploration" style="color:black; text-decoration: none;">Vanilla Exploration of your Dataset</a></h2>
<p><u>After</u> having told Python to read in your dataset, the <strong>first thing</strong> you will want to do is to <mark>get (very) familiar with your dataset</mark>. This is <strong>key</strong>, otherwise you will <u>not</u> be able to perform a good data analysis!</p>
<div id="find-out-the-number-of-observations-rows-in-your-dataset" class="section level3">
<h3><span class="header-section-number">11.7.1</span> <a id="number-of-rows" style="color:black; text-decoration: none;"><u>Find out the number of <code>observations</code> // rows in your dataset</u></a>:</h3>
<div class="sourceCode" id="cb95"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb95-1"><a href="python-mustercodes.html#cb95-1"></a><span class="bu">len</span>(nba) <span class="co"># to get the number of observations // rows </span></span>
<span id="cb95-2"><a href="python-mustercodes.html#cb95-2"></a></span>
<span id="cb95-3"><a href="python-mustercodes.html#cb95-3"></a>    <span class="co"># note: &#39;nba&#39; is the name of the ddset</span></span></code></pre></div>
</div>
<div id="find-out-the-number-of-rows-columns-within-your-dataset" class="section level3">
<h3><span class="header-section-number">11.7.2</span> <u>Find out the number of <code>rows</code> &amp; <code>columns</code> within your dataset</u>:</h3>
<div class="sourceCode" id="cb96"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb96-1"><a href="python-mustercodes.html#cb96-1"></a>nba.shape <span class="co"># to get number of rows AND columns</span></span>
<span id="cb96-2"><a href="python-mustercodes.html#cb96-2"></a></span>
<span id="cb96-3"><a href="python-mustercodes.html#cb96-3"></a>    <span class="co"># note: &#39;nba&#39; is the name of the ddset</span></span></code></pre></div>
</div>
<div id="view-the-whole-dataset" class="section level3">
<h3><span class="header-section-number">11.7.3</span> <a id="view-all-ddset" style="color:black; text-decoration: none;"><u><code>View</code> the <mark>whole</mark> Dataset</u></a>:</h3>
<div class="sourceCode" id="cb97"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb97-1"><a href="python-mustercodes.html#cb97-1"></a>nba <span class="co"># just type in the name of the variable in which your dataframe is stored in --&gt; &#39;nba&#39; is the name of your dataframe here</span></span></code></pre></div>
</div>
<div id="view-the-first-5-rows-of-your-dataset" class="section level3">
<h3><span class="header-section-number">11.7.4</span> <a id="view-first-five" style="color:black; text-decoration: none;"><u><code>View</code> the first 5-rows of your dataset</u></a>:</h3>
<div class="sourceCode" id="cb98"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb98-1"><a href="python-mustercodes.html#cb98-1"></a>nba.head() <span class="co"># head() is often used to check whether your dataset really contains data you care about </span></span>
<span id="cb98-2"><a href="python-mustercodes.html#cb98-2"></a></span>
<span id="cb98-3"><a href="python-mustercodes.html#cb98-3"></a>    <span class="co"># here we check: does the ddset really contains data about the NBA?</span></span></code></pre></div>
<p><strong><u>Achtung</u></strong>: If you have alot of columns, Python will not display them all when you use <code>head()</code>. <u>However</u> you can change the settings via:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb99-1"><a href="python-mustercodes.html#cb99-1"></a>pd.set_option(<span class="st">&quot;display.max.columns&quot;</span>, <span class="va">None</span>) <span class="co"># this will tell Python: &quot;show me ALL the columns!&quot;</span></span>
<span id="cb99-2"><a href="python-mustercodes.html#cb99-2"></a></span>
<span id="cb99-3"><a href="python-mustercodes.html#cb99-3"></a>nba.head() <span class="co"># execute &#39;head()&#39; again to check if the setting changed correclty? --&gt; yes!</span></span></code></pre></div>
<div id="you-can-also-view-the-5-last-rows-of-your-dataset-by-using-tails" class="section level4">
<h4><span class="header-section-number">11.7.4.1</span> <a id="view-last-five" style="color:black; text-decoration: none;">You can also <code>View</code> the 5 last rows of your dataset by using <code>tails()</code></a>:</h4>
<div class="sourceCode" id="cb100"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb100-1"><a href="python-mustercodes.html#cb100-1"></a>nba.tail() <span class="co"># View last 5 rows</span></span>
<span id="cb100-2"><a href="python-mustercodes.html#cb100-2"></a></span>
<span id="cb100-3"><a href="python-mustercodes.html#cb100-3"></a><span class="co"># Viewing very specific rows is also possible: </span></span>
<span id="cb100-4"><a href="python-mustercodes.html#cb100-4"></a>nba.tail(<span class="dv">3</span>) <span class="co"># Here, we view the last 3 rows</span></span></code></pre></div>
</div>
</div>
<div id="find-out-the-data-type-of-each-column-within-your-dataset-number-of-non-missing-values" class="section level3">
<h3><span class="header-section-number">11.7.5</span> <a id="missings-per-column" style="color:black; text-decoration: none;"><u>Find out the <code>Data Type</code> of each column within your dataset &amp; number of <code>non-missing values</code></u></a>:</h3>
<p>With the following simple code, we can find out, whether the columns are from the type of an <code>integer</code>, a <code>string</code>, a <code>boolean</code> etc…</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb101-1"><a href="python-mustercodes.html#cb101-1"></a>nba.info() <span class="co"># this will output all the types of each column in your dataset &amp; how many NON-missings you have per column</span></span>
<span id="cb101-2"><a href="python-mustercodes.html#cb101-2"></a></span>
<span id="cb101-3"><a href="python-mustercodes.html#cb101-3"></a>    <span class="co"># note: Pay attention to any columns that are from the type &#39;object&#39;! --&gt; lese bemerkung unten...</span></span></code></pre></div>
<p><a href="https://www.w3schools.com/python/python_datatypes.asp">To get a beautiful overview over all types that exist in Python, I recommend you to visit the website of W3Schools.com</a></p>
<p><strong><u>Bemerkung hier</u></strong>: It can be, that columns are from the type <code>object</code>. In practice, it often means that <em>all</em> of the values in an <code>object</code>-column are <u>strings</u>. If you encounter any <code>object</code>-columns, it is strongly recommended that you convert them into a more apropriate <code>data-type</code>, otherwise some of the functions won’t work on these <code>object</code>-columns…</p>
<div id="find-the-type-of-any-object-in-python" class="section level4">
<h4><span class="header-section-number">11.7.5.1</span> <a id="find-data-type" style="color:black; text-decoration: none;">Find the <code>type</code> of <em>any</em> object in Python</a>:</h4>
<div class="sourceCode" id="cb102"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb102-1"><a href="python-mustercodes.html#cb102-1"></a>x <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb102-2"><a href="python-mustercodes.html#cb102-2"></a><span class="bu">print</span>(<span class="bu">type</span>(x))</span></code></pre></div>
</div>
</div>
<div id="drop-specific-columns" class="section level3">
<h3><span class="header-section-number">11.7.6</span> <a id="drop-columns" style="color:black; text-decoration: none;"><u>Drop specific Columns</u></a>:</h3>
<p>Note that <code>axis = 1</code> denotes the columns that will be droped, while <code>axis = 0</code> (default), will denote the rows that should be dropped.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb103-1"><a href="python-mustercodes.html#cb103-1"></a>df_energy <span class="op">=</span> df_energy.drop([<span class="st">&#39;tInfoDaySin&#39;</span>, <span class="st">&#39;tInfoDayCos&#39;</span>, <span class="st">&#39;tInfoYearSin&#39;</span>, <span class="st">&#39;tInfoYearCos&#39;</span>], axis<span class="op">=</span><span class="dv">1</span>)</span></code></pre></div>
</div>
<div id="re-name-the-columns-of-a-dataframe" class="section level3">
<h3><span class="header-section-number">11.7.7</span> <a id="rename-columns" style="color:black; text-decoration: none;"><u>Re-Name the Columns of a DataFrame</u></a>:</h3>
<div class="sourceCode" id="cb104"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb104-1"><a href="python-mustercodes.html#cb104-1"></a>df2 <span class="op">=</span> df.rename({<span class="st">&#39;oldName1&#39;</span>: <span class="st">&#39;newName1&#39;</span>, <span class="st">&#39;oldName2&#39;</span>: <span class="st">&#39;newName2&#39;</span>}, axis<span class="op">=</span><span class="st">&#39;columns&#39;</span>) <span class="co"># not all columns have to be renamed, only those with a new name</span></span></code></pre></div>
</div>
<div id="set-reset-the-index-row-label" class="section level3">
<h3><span class="header-section-number">11.7.8</span> <a id="reset-and-set-idx" style="color:black; text-decoration: none;"><u>Set &amp; Reset the Index / Row-Label</u></a>:</h3>
<div class="sourceCode" id="cb105"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb105-1"><a href="python-mustercodes.html#cb105-1"></a>df_energy <span class="op">=</span> df_energy.set_index(<span class="st">&#39;Date-Time&#39;</span>) <span class="co"># to set the index</span></span></code></pre></div>
<div class="sourceCode" id="cb106"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb106-1"><a href="python-mustercodes.html#cb106-1"></a>df_energy <span class="op">=</span> df_energy.reset_index() <span class="co"># to reset the index --&gt; df.reset_index(drop= True) will drop the index, which would </span></span>
<span id="cb106-2"><a href="python-mustercodes.html#cb106-2"></a>                                    <span class="co"># otherwise become a new column instead of just dropping it!</span></span></code></pre></div>
</div>
<div id="make-a-summary-out-of-all-the-variables-in-your-dataset" class="section level3">
<h3><span class="header-section-number">11.7.9</span> <a id="summary-ddset" style="color:black; text-decoration: none;"><u>Make a <code>Summary</code> out of all the variables in your dataset</u></a>:</h3>
<p>Note that, in order to be able to do some <strong>summary-statistics</strong>, you will need the additional library <code>numpy</code>.</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb107-1"><a href="python-mustercodes.html#cb107-1"></a><span class="im">import</span> numpy <span class="im">as</span> np <span class="co"># load numpy for summary-statistics</span></span>
<span id="cb107-2"><a href="python-mustercodes.html#cb107-2"></a></span>
<span id="cb107-3"><a href="python-mustercodes.html#cb107-3"></a>nba.describe().<span class="bu">round</span>(<span class="dv">2</span>) <span class="co"># results will be rounded onto 2 digits</span></span></code></pre></div>
<p><strong><u>Achtung</u></strong>: If you have columns from the type <code>object</code>, you will need a slightly different version of the <code>describe()</code> function to display some summary-statistics from such columns.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb108-1"><a href="python-mustercodes.html#cb108-1"></a>nba.describe(include<span class="op">=</span><span class="bu">object</span>) <span class="co"># if you have some weird columns being of the type &#39;object&#39;</span></span></code></pre></div>
</div>
<div id="find-the-unique-values-from-a-column" class="section level3">
<h3><span class="header-section-number">11.7.10</span> <a id="unique-values" style="color:black; text-decoration: none;"><u>Find the unique values from a column</u></a>:</h3>
<p>This can be useful, when you want to filter all unique <code>categories</code> within a column. You can then put all those categories wihtin a new variable in order to loop through them to apply some function to those.</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb109-1"><a href="python-mustercodes.html#cb109-1"></a>gapminder[<span class="st">&#39;continent&#39;</span>].unique()</span></code></pre></div>
</div>
<div id="calculating-the-mean-or-median-from-a-particular-column" class="section level3">
<h3><span class="header-section-number">11.7.11</span> <a id="median-and-mean" style="color:black; text-decoration: none;"><u>Calculating the <code>mean</code> or <code>median</code> from a particular column</u></a>:</h3>
<p>For the <u><strong>mean</strong></u>, you will need the following code.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb110-1"><a href="python-mustercodes.html#cb110-1"></a>mean_points <span class="op">=</span> reviews.points.mean() <span class="co"># calculate the mean of the column &#39;points&#39; within the ddset &#39;reviews&#39;</span></span></code></pre></div>
<p><u>For the <strong>median</strong></u>:</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb111-1"><a href="python-mustercodes.html#cb111-1"></a>median_points <span class="op">=</span> reviews.points.median() <span class="co"># calculate the median of the column &#39;points&#39; within the ddset &#39;reviews&#39;</span></span></code></pre></div>
</div>
<div id="transform-a-column-based-on-conditions-with-numpy" class="section level3">
<h3><span class="header-section-number">11.7.12</span> <a id="apply-a-function-based-on-cond" style="color:black; text-decoration: none;"><u>Transform a column based on conditions with <code>numpy</code></u></a>:</h3>
<div class="sourceCode" id="cb112"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb112-1"><a href="python-mustercodes.html#cb112-1"></a><span class="im">import</span> numpy <span class="im">as</span> np <span class="co"># In order to be able to perform a transformation, we will need the `numpy`-package</span></span>
<span id="cb112-2"><a href="python-mustercodes.html#cb112-2"></a></span>
<span id="cb112-3"><a href="python-mustercodes.html#cb112-3"></a><span class="co"># set-up:</span></span>
<span id="cb112-4"><a href="python-mustercodes.html#cb112-4"></a>x <span class="op">=</span> np.arange(<span class="dv">10</span>) <span class="co"># this is our column &#39;x&#39;</span></span>
<span id="cb112-5"><a href="python-mustercodes.html#cb112-5"></a>condlist <span class="op">=</span> [x<span class="op">&lt;</span><span class="dv">3</span>, x<span class="op">&gt;</span><span class="dv">5</span>] <span class="co"># set of conditions, that need to be fullfilled --&gt; which are the value-ranges, on which you will apply </span></span>
<span id="cb112-6"><a href="python-mustercodes.html#cb112-6"></a><span class="co"># a custom-function [which will be defined next]? --&gt; all numbers below 3 AND all numbers above 5</span></span>
<span id="cb112-7"><a href="python-mustercodes.html#cb112-7"></a>choicelist <span class="op">=</span> [x, x<span class="op">**</span><span class="dv">2</span>] <span class="co"># the custom-function you will apply here: x^2</span></span>
<span id="cb112-8"><a href="python-mustercodes.html#cb112-8"></a></span>
<span id="cb112-9"><a href="python-mustercodes.html#cb112-9"></a><span class="co"># output:</span></span>
<span id="cb112-10"><a href="python-mustercodes.html#cb112-10"></a>np.select(condlist, choicelist, default<span class="op">=</span>np.nan) <span class="co"># apply x^2 on: x &lt; 3 AND x &gt; 5</span></span></code></pre></div>
<p>array([ 0., 1., 2., nan, nan, nan, 36., 49., 64., 81.])</p>
</div>
<div id="transform-a-pandas-series-into-a-dataframe" class="section level3">
<h3><span class="header-section-number">11.7.13</span> <a id="trans-series-to-frame" style="color:black; text-decoration: none;"><u>Transform a Pandas Series into a DataFrame</u></a>:</h3>
<div class="sourceCode" id="cb113"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb113-1"><a href="python-mustercodes.html#cb113-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb113-2"><a href="python-mustercodes.html#cb113-2"></a></span>
<span id="cb113-3"><a href="python-mustercodes.html#cb113-3"></a>s <span class="op">=</span> pd.Series([<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>],</span>
<span id="cb113-4"><a href="python-mustercodes.html#cb113-4"></a>              name<span class="op">=</span><span class="st">&quot;vals&quot;</span>)</span>
<span id="cb113-5"><a href="python-mustercodes.html#cb113-5"></a>s.to_frame()</span></code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th>
</th>
<th>
vals
</th>
</tr>
</thead>
<tbody>
<tr>
<th>
0
</th>
<td>
a
</td>
</tr>
<tr>
<th>
1
</th>
<td>
b
</td>
</tr>
<tr>
<th>
2
</th>
<td>
c
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="assign-a-unique-id" class="section level3">
<h3><span class="header-section-number">11.7.14</span> <a id="unique-id" style="color:black; text-decoration: none;"><u>Assign a unique ID</u></a>:</h3>
<div class="sourceCode" id="cb114"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb114-1"><a href="python-mustercodes.html#cb114-1"></a>df[<span class="st">&#39;id&#39;</span>] <span class="op">=</span> df.groupby([<span class="st">&#39;LastName&#39;</span>,<span class="st">&#39;FirstName&#39;</span>]).ngroup() <span class="co"># here, we use the column &#39;LastName&#39; &amp; &#39;FirstName&#39; together, to create </span></span>
<span id="cb114-2"><a href="python-mustercodes.html#cb114-2"></a><span class="co"># a unique ID.</span></span>
<span id="cb114-3"><a href="python-mustercodes.html#cb114-3"></a></span>
<span id="cb114-4"><a href="python-mustercodes.html#cb114-4"></a><span class="co"># Quelle: https://stackoverflow.com/questions/45685254/q-pandas-how-to-efficiently-assign-unique-id-to-individuals-with-multiple-ent</span></span></code></pre></div>
<div class="sourceCode" id="cb115"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb115-1"><a href="python-mustercodes.html#cb115-1"></a>df[<span class="st">&#39;id&#39;</span>] <span class="op">=</span> df.groupby([<span class="st">&#39;date&#39;</span>]).ngroup() <span class="co"># if Course, you could also simply use 1 column fo the assignment of an unique ID. </span></span></code></pre></div>
</div>
</div>
<div id="selection-filtering-rows-and-columns" class="section level2">
<h2><span class="header-section-number">11.8</span> ## <a id="sel-and-filt" style="color:black; text-decoration: none;">Selection &amp; Filtering Rows and Columns</a></h2>
<p>When you will work wit dataframes in <code>pandas</code>, one of the most important things you will need to master is how to select some columns, as well as print out <code>subsets</code> // particular columns from the dataframe.</p>
<p>To get started and become acquainted with common techniques, I recommend you to watch this <a href="https://www.youtube.com/watch?v=htyWDxKVttE">beginner tutorial for filtering &amp; selecting columns</a>.</p>
<p><strong>Load the next cell to be able to run the examples that follow</strong>:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb116-1"><a href="python-mustercodes.html#cb116-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd <span class="co"># load package needed</span></span>
<span id="cb116-2"><a href="python-mustercodes.html#cb116-2"></a></span>
<span id="cb116-3"><a href="python-mustercodes.html#cb116-3"></a>file_path <span class="op">=</span> <span class="st">&#39;./data/filter-and-selection/sample_orders.csv&#39;</span> <span class="co"># type in the path-location of your data</span></span>
<span id="cb116-4"><a href="python-mustercodes.html#cb116-4"></a>dd <span class="op">=</span> pd.read_csv(file_path) <span class="co"># load the data</span></span>
<span id="cb116-5"><a href="python-mustercodes.html#cb116-5"></a></span>
<span id="cb116-6"><a href="python-mustercodes.html#cb116-6"></a>dd.head() <span class="co"># check if it worked? --&gt; yes! --&gt; should print the first 5 rows of your ddset</span></span></code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th>
</th>
<th>
order_id
</th>
<th>
order_date
</th>
<th>
customer_id
</th>
<th>
items_ordered
</th>
<th>
order_total
</th>
</tr>
</thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1000
</td>
<td>
12/1/17
</td>
<td>
1
</td>
<td>
3
</td>
<td>
65.00
</td>
</tr>
<tr>
<th>
1
</th>
<td>
1001
</td>
<td>
12/1/17
</td>
<td>
3
</td>
<td>
2
</td>
<td>
25.75
</td>
</tr>
<tr>
<th>
2
</th>
<td>
1002
</td>
<td>
12/1/17
</td>
<td>
6
</td>
<td>
1
</td>
<td>
20.75
</td>
</tr>
<tr>
<th>
3
</th>
<td>
1003
</td>
<td>
12/1/17
</td>
<td>
8
</td>
<td>
6
</td>
<td>
86.00
</td>
</tr>
<tr>
<th>
4
</th>
<td>
1004
</td>
<td>
12/1/17
</td>
<td>
8
</td>
<td>
1
</td>
<td>
30.00
</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb117"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb117-1"><a href="python-mustercodes.html#cb117-1"></a>dd.info() <span class="co"># check also all data-types</span></span></code></pre></div>
<p>&lt;class ‘pandas.core.frame.DataFrame’&gt;
RangeIndex: 16 entries, 0 to 15
Data columns (total 5 columns):
# Column Non-Null Count Dtype<br />
— —— ————– —–<br />
0 order_id 16 non-null int64<br />
1 order_date 16 non-null object
2 customer_id 16 non-null int64<br />
3 items_ordered 16 non-null int64<br />
4 order_total 16 non-null float64
dtypes: float64(1), int64(3), object(1)
memory usage: 768.0+ bytes</p>
<div id="select-only-1-single-column-of-your-dataframe" class="section level3">
<h3><span class="header-section-number">11.8.1</span> <a id="select-1-col-ddset" style="color:black; text-decoration: none;"><u>Select only 1 single column of your Dataframe</u></a>:</h3>
<p>In this example, I will select the column <code>order_id</code> from my ddset <code>dd</code>:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb118-1"><a href="python-mustercodes.html#cb118-1"></a><span class="bu">print</span>(</span>
<span id="cb118-2"><a href="python-mustercodes.html#cb118-2"></a>    dd[<span class="st">&#39;order_id&#39;</span>] <span class="co"># take the dataframe &#39;dd&#39; and print me only the column called &#39;order_id&#39; --&gt; this is a subset</span></span>
<span id="cb118-3"><a href="python-mustercodes.html#cb118-3"></a>)</span></code></pre></div>
<p>0 1000
1 1001
2 1002
3 1003
4 1004
5 1005
6 1006
7 1007
8 1008
9 1009
10 1010
11 1011
12 1012
13 1013
14 1014
15 1015
Name: order_id, dtype: int64</p>
<div id="möglichkeit-2-selection-of-columns-with-dot-notation" class="section level4">
<h4><span class="header-section-number">11.8.1.1</span> <a id="dot-not" style="color:black; text-decoration: none;"><u>Möglichkeit 2</u>: Selection of columns with <code>dot-notation</code></a></h4>
<p><em>Nachteil</em> dieser Methode ist, dass sie <u>nicht</u> funktioniert, wenn es in den Columns <code>Leerschläge</code> gibt!</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb119-1"><a href="python-mustercodes.html#cb119-1"></a>test <span class="op">=</span> dd.order_id <span class="co"># ACHTUNG: funktioniert nicht, wenn es Leerschläge gibt!!</span></span>
<span id="cb119-2"><a href="python-mustercodes.html#cb119-2"></a><span class="bu">print</span>(test)</span></code></pre></div>
<p>0 1000
1 1001
2 1002
3 1003
4 1004
5 1005
6 1006
7 1007
8 1008
9 1009
10 1010
11 1011
12 1012
13 1013
14 1014
15 1015
Name: order_id, dtype: int64</p>
</div>
</div>
<div id="select-multiple-columns-from-your-dataframe" class="section level3">
<h3><span class="header-section-number">11.8.2</span> <a id="select-multi-col-ddset" style="color:black; text-decoration: none;"><u>Select <em>multiple</em> Columns from your Dataframe</u></a>:</h3>
<p>Similarly to <code>R</code>, we need to pass a “set” into the selector of columns.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb120-1"><a href="python-mustercodes.html#cb120-1"></a><span class="bu">print</span>(</span>
<span id="cb120-2"><a href="python-mustercodes.html#cb120-2"></a>    dd[[<span class="st">&#39;order_id&#39;</span>, <span class="st">&#39;order_total&#39;</span>]] <span class="co"># take the dataframe &#39;dd&#39; and print me only the columns called &#39;order_id&#39; &amp;&amp; &#39;order_total&#39;</span></span>
<span id="cb120-3"><a href="python-mustercodes.html#cb120-3"></a>)</span></code></pre></div>
<p>order_id order_total
0 1000 65.00
1 1001 25.75
2 1002 20.75
3 1003 86.00
4 1004 30.00
5 1005 20.00
6 1006 21.00
7 1007 26.25
8 1008 20.75
9 1009 15.75
10 1010 45.00
11 1011 30.00
12 1012 15.00
13 1013 85.00
14 1014 25.00
15 1015 15.00</p>
</div>
<div id="select-and-filter-for-a-particular-row-with-one-condition" class="section level3">
<h3><span class="header-section-number">11.8.3</span> <a id="filter-1-row-ddset" style="color:black; text-decoration: none;"><u>Select AND filter for a particular row, with <em>one condition</em></u></a>:</h3>
<p>Let’s say, we want to select the row // observation with the <code>"order_id" == 1004</code>.</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb121-1"><a href="python-mustercodes.html#cb121-1"></a><span class="bu">print</span>(</span>
<span id="cb121-2"><a href="python-mustercodes.html#cb121-2"></a>    dd[</span>
<span id="cb121-3"><a href="python-mustercodes.html#cb121-3"></a>        dd[<span class="st">&#39;order_id&#39;</span>] <span class="op">==</span> <span class="dv">1004</span> <span class="co"># note that this INNER bracket will run a function that searches through and would only print </span></span>
<span id="cb121-4"><a href="python-mustercodes.html#cb121-4"></a>                               <span class="co"># a Boolean-List of &quot;True&quot; or &quot;False&quot; for all rows  --&gt; example-video: ab 2:36-3:34 --&gt; https://www.youtube.com/watch?v=htyWDxKVttE</span></span>
<span id="cb121-5"><a href="python-mustercodes.html#cb121-5"></a>    ]                          <span class="co"># This outer selector will tell Python: &quot;Select&quot; only the row where the column &#39;order_id&#39; == 1004</span></span>
<span id="cb121-6"><a href="python-mustercodes.html#cb121-6"></a>)</span>
<span id="cb121-7"><a href="python-mustercodes.html#cb121-7"></a></span>
<span id="cb121-8"><a href="python-mustercodes.html#cb121-8"></a><span class="co"># short-version:</span></span>
<span id="cb121-9"><a href="python-mustercodes.html#cb121-9"></a></span>
<span id="cb121-10"><a href="python-mustercodes.html#cb121-10"></a><span class="bu">print</span>(dd[dd[<span class="st">&#39;order_id&#39;</span>] <span class="op">==</span> <span class="dv">1004</span>])</span></code></pre></div>
<p>order_id order_date customer_id items_ordered order_total
4 1004 12/1/17 8 1 30.0
order_id order_date customer_id items_ordered order_total
4 1004 12/1/17 8 1 30.0</p>
<ul>
<li>Quelle: <a href="https://www.youtube.com/watch?v=htyWDxKVttE&amp;t=2m36s">Basics of selecting and filtering rows and columns in Python, ab 2:36-3:34</a></li>
</ul>
</div>
<div id="select-and-filter-for-rows-with-more-than-one-condition" class="section level3">
<h3><span class="header-section-number">11.8.4</span> <a id="filter-multi-cond-ddset" style="color:black; text-decoration: none;"><u>Select AND filter for rows with <em>more than one condition</em></u></a>:</h3>
<p>Now, we want to select the row<u>s</u> // observations, where <code>"order_total" &gt;= 50.00</code> <u>AND</u> <code>"order_date" == 12/1/17</code> are fulfilled // filtered. Basically, it is the same as with the selection &amp; filtering with <em>one condition</em>, you <strong>just need to wrap up the INNER brackets with an additional <code>(...)</code> brackets (for <u>each</u> condition!)</strong>.</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb122-1"><a href="python-mustercodes.html#cb122-1"></a><span class="bu">print</span>(</span>
<span id="cb122-2"><a href="python-mustercodes.html#cb122-2"></a>    dd[</span>
<span id="cb122-3"><a href="python-mustercodes.html#cb122-3"></a>        (dd[<span class="st">&#39;order_total&#39;</span>] <span class="op">&gt;=</span> <span class="dv">50</span>) <span class="op">&amp;</span> (dd[<span class="st">&#39;order_date&#39;</span>] <span class="op">==</span> <span class="st">&#39;12/1/17&#39;</span>) <span class="co"># in contrast to **one condition**, we just wrap up a (...) for each condition</span></span>
<span id="cb122-4"><a href="python-mustercodes.html#cb122-4"></a>    ]                          <span class="co"># This outer selector will tell Python: &quot;Select&quot; only the row where the column &#39;order_id&#39; == 1004</span></span>
<span id="cb122-5"><a href="python-mustercodes.html#cb122-5"></a>)</span></code></pre></div>
<p>order_id order_date customer_id items_ordered order_total
0 1000 12/1/17 1 3 65.0
3 1003 12/1/17 8 6 86.0</p>
<p><u><strong>Alternative mit “OR”</strong></u>: Statt <em>AND</em> kann man auch - zum Beispiel - die <em>OR</em>-Condition verwenden</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb123-1"><a href="python-mustercodes.html#cb123-1"></a><span class="bu">print</span>(dd[(dd[<span class="st">&#39;order_total&#39;</span>] <span class="op">&gt;=</span> <span class="dv">50</span>) <span class="op">|</span> (dd[<span class="st">&#39;order_date&#39;</span>] <span class="op">==</span> <span class="st">&#39;12/1/17&#39;</span>)])</span></code></pre></div>
<p>order_id order_date customer_id items_ordered order_total
0 1000 12/1/17 1 3 65.00
1 1001 12/1/17 3 2 25.75
2 1002 12/1/17 6 1 20.75
3 1003 12/1/17 8 6 86.00
4 1004 12/1/17 8 1 30.00
13 1013 12/3/17 7 5 85.00</p>
</div>
<div id="select-only-rows-with-missing-values" class="section level3">
<h3><span class="header-section-number">11.8.5</span> <a id="select-only-missings" style="color:black; text-decoration: none;">Select only rows with Missing-Values</a></h3>
<div class="sourceCode" id="cb124"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb124-1"><a href="python-mustercodes.html#cb124-1"></a>null_data <span class="op">=</span> df[df.isnull().<span class="bu">any</span>(axis <span class="op">=</span> <span class="dv">1</span>)] <span class="co"># this will only select the rows that contain at least one missing-value</span></span>
<span id="cb124-2"><a href="python-mustercodes.html#cb124-2"></a>null_data <span class="co"># check, if it worked?</span></span></code></pre></div>
</div>
</div>
<div id="selection-with-accessor-operators-iloc-loc" class="section level2">
<h2><span class="header-section-number">11.9</span> ## <a id="sel-loc-iloc" style="color:black; text-decoration: none;">Selection with “accessor operators” <code>iloc</code> &amp; <code>loc</code></a></h2>
<p>Das Package <code>Pandas</code> erlaubt die Verwendung von sogenannten <code>accessor operators</code>, um Dataframes einfacher zu filtrieren. Dabei unterscheidet man zwischen:</p>
<ul>
<li><code>iloc</code> (= based on the <u><strong>Postition</strong></u> (= Nummer) des Index innerhalb der Spalten &amp; Reihen im ddset),
<ul>
<li><u>Beachte</u>: Reihenfolge der inputs within <code>iloc</code> == 1) ‘rows’, then 2) ‘columns’</li>
</ul></li>
<li><code>loc</code> (= based on the <u><strong>Index-Namen</strong></u> of the Spalten &amp; Zeilen im ddset).
<ul>
<li><u>Beachte</u>: Reihenfolge der inputs within <code>loc</code> == 1) ‘rows’, then 2) ‘columns’</li>
</ul></li>
</ul>
<div id="selection-of-the-entry-situated-in-the-1st-row-and-5th-column-only-with-iloc" class="section level3">
<h3><span class="header-section-number">11.9.1</span> <a id="example-iloc-sel" style="color:black; text-decoration: none;"><u>Selection of the <code>entry</code> situated in the 1st row and 5th column only with <code>iloc</code></u></a></h3>
<p>To be able to use <code>iloc</code>, the <strong>key</strong> is to know <em>the position</em> of the row- &amp; column-labels (= index of columns &amp; rows).</p>
<ul>
<li><u>Note</u>: <code>iloc</code> &amp; <code>loc</code> are often used to print a particular <em>entry</em> WITHIN a dataframe. However, <code>loc</code> and <code>iloc</code> also are able to print <u>entire</u> rows // observations and not just one specific value within a row, as we will see.</li>
</ul>
<div class="sourceCode" id="cb125"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb125-1"><a href="python-mustercodes.html#cb125-1"></a>test <span class="op">=</span> dd.iloc[<span class="dv">0</span>,<span class="dv">4</span>] <span class="co"># Reihenfolge der inputs == 1) &#39;rows&#39; (--&gt; &quot;0&quot; == 1st row), then 2) &#39;columns&#39; (--&gt; &quot;4&quot; == 5th column)</span></span>
<span id="cb125-2"><a href="python-mustercodes.html#cb125-2"></a><span class="bu">print</span>(test) <span class="co"># check if it worked? --&gt; should print the value &#39;65&#39;</span></span></code></pre></div>
<p>65.0</p>
</div>
<div id="selection-of-the-entry-situated-in-the-1st-row-and-5th-column-only-with-loc" class="section level3">
<h3><span class="header-section-number">11.9.2</span> <a id="example-loc-sel" style="color:black; text-decoration: none;"><u>Selection of the <code>entry</code> situated in the 1st row and 5th column only with <code>loc</code></u></a></h3>
<p>The <strong>key</strong> to use <code>loc</code> is that you know <em>the names</em> of the columns &amp; rows.</p>
<ul>
<li><u>Wichtige Bemerkung</u>: Der <strong>Default-<u>Name</u></strong> (= Standard-Name) der <code>rows</code> innerhalb eines Dataframes ist einfach die Zahlenabfolge von <code>0,1,2...,10,11,12,...</code>. Lustigerweise ist der <strong>row-label // <u>index</u> von rows</strong> auch standardmässig die Zahlenabfolge <code>0,1,2,...,10,11,12,...</code>. Deshalb kommt es sehr oft vor, dass <code>loc</code> und <code>iloc</code> <strong><em>denselben</em></strong> ersten Input haben! xD</li>
</ul>
<div class="sourceCode" id="cb126"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb126-1"><a href="python-mustercodes.html#cb126-1"></a>test <span class="op">=</span> dd.loc[<span class="dv">0</span>,<span class="st">&#39;order_total&#39;</span>] <span class="co"># Reihenfolge der inputs == 1) &#39;rows&#39; (--&gt; &quot;0&quot; == NAME der 1st row), then 2) &#39;columns&#39; (--&gt; &quot;order_total&quot; == NAME der gewünschten 5th column)</span></span>
<span id="cb126-2"><a href="python-mustercodes.html#cb126-2"></a><span class="bu">print</span>(test) <span class="co"># check if it worked? --&gt; should print the value &#39;65&#39;</span></span></code></pre></div>
<p>65.0</p>
</div>
<div id="apply-a-threshold-filter-using-loc-on-each-row" class="section level3">
<h3><span class="header-section-number">11.9.3</span> <a id="example-sel-with-threshold-loc" style="color:black; text-decoration: none;"><u>Apply a Threshold-Filter using <code>loc</code> on each row</u></a>:</h3>
<p>This can be useful, when you want to replace some values in certain columns → see ‘Outliers’-chapter</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb127-1"><a href="python-mustercodes.html#cb127-1"></a><span class="co"># Only display all rows, where the &#39;pressure&#39;-column is &gt; than the threshold of 1051 bar</span></span>
<span id="cb127-2"><a href="python-mustercodes.html#cb127-2"></a></span>
<span id="cb127-3"><a href="python-mustercodes.html#cb127-3"></a>df_weather.loc[df_weather.pressure <span class="op">&gt;</span> <span class="dv">1051</span>, <span class="st">&#39;pressure&#39;</span>]</span></code></pre></div>
</div>
<div id="selection-of-an-entire-row-record-observation-from-a-ddset-with-iloc" class="section level3">
<h3><span class="header-section-number">11.9.4</span> <a id="example-sel-entire-row-with-iloc" style="color:black; text-decoration: none;"><u>Selection of an ENTIRE row // record // observation from a ddset with <code>iloc</code></u></a>:</h3>
<div class="sourceCode" id="cb128"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb128-1"><a href="python-mustercodes.html#cb128-1"></a><span class="co">#####</span></span>
<span id="cb128-2"><a href="python-mustercodes.html#cb128-2"></a><span class="co">## Möglichkeit 1: selection of only 1 row</span></span>
<span id="cb128-3"><a href="python-mustercodes.html#cb128-3"></a></span>
<span id="cb128-4"><a href="python-mustercodes.html#cb128-4"></a>test_row1 <span class="op">=</span> dd.iloc[<span class="dv">0</span>,] <span class="co"># Important: 1) rows, then 2) columns --&gt; we want the entire 1st row, which includes ALL columns</span></span>
<span id="cb128-5"><a href="python-mustercodes.html#cb128-5"></a>                        <span class="co"># Note: das Komma NACH dem &quot;0&quot; zeigt an, dass wir ALLE columns selektieren wollen!</span></span>
<span id="cb128-6"><a href="python-mustercodes.html#cb128-6"></a></span>
<span id="cb128-7"><a href="python-mustercodes.html#cb128-7"></a><span class="co">#####</span></span>
<span id="cb128-8"><a href="python-mustercodes.html#cb128-8"></a><span class="co">## Möglichkeit 2: selection of &gt; 1 row --&gt; notice the additional wrap with [...] WITHIN iloc[]!</span></span>
<span id="cb128-9"><a href="python-mustercodes.html#cb128-9"></a></span>
<span id="cb128-10"><a href="python-mustercodes.html#cb128-10"></a>test_multiRow <span class="op">=</span> dd.iloc[[<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">8</span>],] <span class="co"># &#39;[0,1,2,3,5,8]&#39; will select the &#39;1st, 2nd, 3rd, 4th, 6th and 9th&#39; row</span></span>
<span id="cb128-11"><a href="python-mustercodes.html#cb128-11"></a>                                            <span class="co"># while also selecting ALL columns simultaneously</span></span>
<span id="cb128-12"><a href="python-mustercodes.html#cb128-12"></a></span>
<span id="cb128-13"><a href="python-mustercodes.html#cb128-13"></a><span class="co">#####   </span></span>
<span id="cb128-14"><a href="python-mustercodes.html#cb128-14"></a><span class="co">## check if it worked? --&gt; yes!</span></span>
<span id="cb128-15"><a href="python-mustercodes.html#cb128-15"></a><span class="bu">print</span>(test_row1) <span class="co"># should print only 1 row BUT with ALL the column --&gt; weird output, because the columns sind abgebildet als rows xD</span></span>
<span id="cb128-16"><a href="python-mustercodes.html#cb128-16"></a><span class="bu">print</span>(test_multiRow)</span></code></pre></div>
<p>order_id 1000
order_date 12/1/17
customer_id 1
items_ordered 3
order_total 65
Name: 0, dtype: object
order_id order_date customer_id items_ordered order_total
0 1000 12/1/17 1 3 65.00
1 1001 12/1/17 3 2 25.75
2 1002 12/1/17 6 1 20.75
3 1003 12/1/17 8 6 86.00
5 1005 12/2/17 1 1 20.00
8 1008 12/2/17 9 1 20.75</p>
</div>
<div id="selection-of-an-entire-row-record-observation-from-a-ddset-with-loc" class="section level3">
<h3><span class="header-section-number">11.9.5</span> <a id="example-sel-entire-row-with-loc" style="color:black; text-decoration: none;"><u>Selection of an ENTIRE row // record // observation from a ddset with <code>loc</code></u></a>:</h3>
<p><u><strong>Tipp</strong></u>: Von der Eleganz &amp; Effizienz her, empfehle ich dir undbedingt <strong>Möglichkeit 3</strong> im unteren Code-Beispiel!!</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb129-1"><a href="python-mustercodes.html#cb129-1"></a><span class="co">#####</span></span>
<span id="cb129-2"><a href="python-mustercodes.html#cb129-2"></a><span class="co">## Möglichkeit 1: selection of only 1 row</span></span>
<span id="cb129-3"><a href="python-mustercodes.html#cb129-3"></a></span>
<span id="cb129-4"><a href="python-mustercodes.html#cb129-4"></a>test_row1 <span class="op">=</span> dd.loc[<span class="dv">0</span>,] <span class="co"># das Komma NACH dem &quot;0&quot; zeigt an, dass wir ALLE columns selektieren wollen!</span></span>
<span id="cb129-5"><a href="python-mustercodes.html#cb129-5"></a></span>
<span id="cb129-6"><a href="python-mustercodes.html#cb129-6"></a><span class="co">#####</span></span>
<span id="cb129-7"><a href="python-mustercodes.html#cb129-7"></a><span class="co">## Möglichkeit 2: selection of &gt; 1 row --&gt; notice the additional wrap [...] WITHIN loc[]!</span></span>
<span id="cb129-8"><a href="python-mustercodes.html#cb129-8"></a></span>
<span id="cb129-9"><a href="python-mustercodes.html#cb129-9"></a>test_multiRow <span class="op">=</span> dd.loc[[<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">8</span>],] <span class="co"># Weil - per default - die &#39;row-labels&#39; (= name des Indexes </span></span>
<span id="cb129-10"><a href="python-mustercodes.html#cb129-10"></a>                                            <span class="co"># der Zeilen) dieselben sind, wie die Position, ist der Code </span></span>
<span id="cb129-11"><a href="python-mustercodes.html#cb129-11"></a>                                            <span class="co"># für &#39;loc&#39; derselbe, wie für &#39;iloc&#39; hier...</span></span>
<span id="cb129-12"><a href="python-mustercodes.html#cb129-12"></a>        </span>
<span id="cb129-13"><a href="python-mustercodes.html#cb129-13"></a><span class="co">#####</span></span>
<span id="cb129-14"><a href="python-mustercodes.html#cb129-14"></a><span class="co">## Möglichkeit 3: Beste &amp; schönste Solution (meiner Meinung nach!)</span></span>
<span id="cb129-15"><a href="python-mustercodes.html#cb129-15"></a>rows <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">0</span>,<span class="dv">16</span>)) <span class="co"># will create a list that goes from 0 to 99 --&gt; this will be for the row-labels</span></span>
<span id="cb129-16"><a href="python-mustercodes.html#cb129-16"></a>columns <span class="op">=</span> [<span class="st">&#39;order_id&#39;</span>, <span class="st">&#39;order_date&#39;</span>, <span class="st">&#39;order_total&#39;</span>] <span class="co"># this will be for the column-labels</span></span>
<span id="cb129-17"><a href="python-mustercodes.html#cb129-17"></a>                                                    <span class="co"># Pro-Tipp: columns = list(data.columns)</span></span>
<span id="cb129-18"><a href="python-mustercodes.html#cb129-18"></a>df <span class="op">=</span> dd.loc[rows, columns]</span>
<span id="cb129-19"><a href="python-mustercodes.html#cb129-19"></a>        </span>
<span id="cb129-20"><a href="python-mustercodes.html#cb129-20"></a>        </span>
<span id="cb129-21"><a href="python-mustercodes.html#cb129-21"></a><span class="co">#####   </span></span>
<span id="cb129-22"><a href="python-mustercodes.html#cb129-22"></a><span class="co">## check if it worked? --&gt; yes!</span></span>
<span id="cb129-23"><a href="python-mustercodes.html#cb129-23"></a><span class="bu">print</span>(test_row1) <span class="co"># should print only 1 row BUT with ALL the column --&gt; weird output, because the columns sind abgebildet als rows xD</span></span>
<span id="cb129-24"><a href="python-mustercodes.html#cb129-24"></a><span class="bu">print</span>(test_multiRow)</span>
<span id="cb129-25"><a href="python-mustercodes.html#cb129-25"></a><span class="bu">print</span>(df)</span></code></pre></div>
<p>order_id 1000
order_date 12/1/17
customer_id 1
items_ordered 3
order_total 65
Name: 0, dtype: object
order_id order_date customer_id items_ordered order_total
0 1000 12/1/17 1 3 65.00
1 1001 12/1/17 3 2 25.75
2 1002 12/1/17 6 1 20.75
3 1003 12/1/17 8 6 86.00
5 1005 12/2/17 1 1 20.00
8 1008 12/2/17 9 1 20.75
order_id order_date order_total
0 1000 12/1/17 65.00
1 1001 12/1/17 25.75
2 1002 12/1/17 20.75
3 1003 12/1/17 86.00
4 1004 12/1/17 30.00
5 1005 12/2/17 20.00
6 1006 12/2/17 21.00
7 1007 12/2/17 26.25
8 1008 12/2/17 20.75
9 1009 12/3/17 15.75
10 1010 12/3/17 45.00
11 1011 12/3/17 30.00
12 1012 12/3/17 15.00
13 1013 12/3/17 85.00
14 1014 12/3/17 25.00
15 1015 12/3/17 15.00</p>
</div>
<div id="replace-values-within-a-column-with-some-new-values" class="section level3">
<h3><span class="header-section-number">11.9.6</span> <a id="replace-values-within-rows" style="color:black; text-decoration: none;"><u>Replace values within a Column with some new Values</u></a>:</h3>
<div class="sourceCode" id="cb130"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb130-1"><a href="python-mustercodes.html#cb130-1"></a>df.loc[df.ungewichtet <span class="op">&gt;</span> <span class="dv">1</span>, <span class="st">&#39;ungewichtet&#39;</span>] <span class="op">=</span> <span class="dv">1</span> <span class="co"># hier werde ich alle Werte der Spalte &quot;ungewichtet&quot; &gt; 1 mit dem Wert &quot;1&quot; ersetzen!</span></span></code></pre></div>
</div>
<div id="different-slicing-when-using-iloc-vs.-loc" class="section level3">
<h3><span class="header-section-number">11.9.7</span> <a id="different-slicing-loc-and-iloc" style="color:black; text-decoration: none;"><u>Different Slicing when using <code>iloc</code> VS. <code>loc</code></u></a>:</h3>
<p>When using <code>iloc</code>, <strong>the range 0:5</strong> will select entries <code>0,...,4</code> that is: it indexes EXCLUSIVELY. On the other hand, <code>loc</code>, meanwhile, indexes <em>INCLUSIVELY</em>. So <strong>the <u>same</u> range 0:5</strong> will select entries <code>0,...,5</code>!!!</p>
<p><em>Hence, if you want the SAME output with <code>loc</code> and <code>iloc</code>, you simply need to slightly change the <code>range()</code>-function.</em></p>
<p><u>Example</u>:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb131-1"><a href="python-mustercodes.html#cb131-1"></a><span class="co">## Möglichkeit 1: with &#39;iloc&#39;</span></span>
<span id="cb131-2"><a href="python-mustercodes.html#cb131-2"></a>iloc_test <span class="op">=</span> dd.iloc[<span class="dv">0</span>:<span class="dv">5</span>,<span class="dv">0</span>] <span class="co"># row-position == 0:5 --&gt; first 5 rows; EXCLUDES &#39;5&#39; from the range &quot;0,1,2,3,4,5&quot; </span></span>
<span id="cb131-3"><a href="python-mustercodes.html#cb131-3"></a>                                          <span class="co"># --&gt; hence range(0:5) results in --&gt; &quot;0,1,2,3,4&quot;</span></span>
<span id="cb131-4"><a href="python-mustercodes.html#cb131-4"></a>                                          <span class="co"># column-position == 0 --&gt; 1st row --&gt; remember: indexing in </span></span>
<span id="cb131-5"><a href="python-mustercodes.html#cb131-5"></a>                                          <span class="co"># Python starts at &#39;0&#39;!</span></span>
<span id="cb131-6"><a href="python-mustercodes.html#cb131-6"></a></span>
<span id="cb131-7"><a href="python-mustercodes.html#cb131-7"></a>    <span class="co"># IMPORTANT: &#39;iloc&#39; uses the &#39;Python stdlib&#39; indexing scheme, where the first element of the range is </span></span>
<span id="cb131-8"><a href="python-mustercodes.html#cb131-8"></a>    <span class="co"># included and the last one excluded. So 0:5 will select entries 0,...,4 (= these are the first *5* </span></span>
<span id="cb131-9"><a href="python-mustercodes.html#cb131-9"></a>    <span class="co"># entries!!).</span></span>
<span id="cb131-10"><a href="python-mustercodes.html#cb131-10"></a></span>
<span id="cb131-11"><a href="python-mustercodes.html#cb131-11"></a><span class="co">## Möglichkeit 2: to get the SAME output with &#39;loc&#39;, we need a slightly DIFFERENT range!</span></span>
<span id="cb131-12"><a href="python-mustercodes.html#cb131-12"></a>loc_test <span class="op">=</span> dd.loc[<span class="dv">0</span>:<span class="dv">4</span>,<span class="st">&#39;order_id&#39;</span>] <span class="co"># row-position == 0:4 --&gt; first 5 rows; INCLUDES &#39;4&#39; </span></span>
<span id="cb131-13"><a href="python-mustercodes.html#cb131-13"></a>                                  <span class="co"># --&gt; hence range(0:4) results in --&gt; &quot;0,1,2,3,4&quot;</span></span>
<span id="cb131-14"><a href="python-mustercodes.html#cb131-14"></a></span>
<span id="cb131-15"><a href="python-mustercodes.html#cb131-15"></a><span class="co">## check if the output are the same, even though &quot;range()&quot; has slightly different inputs? --&gt; yes!</span></span>
<span id="cb131-16"><a href="python-mustercodes.html#cb131-16"></a><span class="bu">print</span>(iloc_test)</span>
<span id="cb131-17"><a href="python-mustercodes.html#cb131-17"></a><span class="bu">print</span>(loc_test)</span></code></pre></div>
<p>0 1000
1 1001
2 1002
3 1003
4 1004
Name: order_id, dtype: int64
0 1000
1 1001
2 1002
3 1003
4 1004
Name: order_id, dtype: int64</p>
</div>
</div>
<div id="sorting-filtering" class="section level2">
<h2><span class="header-section-number">11.10</span> ## <a id="sort-and-filt" style="color:black; text-decoration: none;">Sorting &amp; Filtering</a></h2>
<div id="how-to-sort-a-data-frame-column-hier-pearson-correlation-matrix-from-most-important-to-least-important" class="section level3">
<h3><span class="header-section-number">11.10.1</span> <u><a id="sort-pearson-corr-from-most-imp-to-least-imp" style="color:black; text-decoration: none;">How to sort a Data-Frame Column (hier: Pearson-Correlation Matrix) from ‘<em>most important</em>’ to ‘<em>least important</em>’?</a></u>:</h3>
<div class="sourceCode" id="cb132"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb132-1"><a href="python-mustercodes.html#cb132-1"></a><span class="co">### Find the correlations&#39; ranking for the day-ahead electricity price and the rest of the features:</span></span>
<span id="cb132-2"><a href="python-mustercodes.html#cb132-2"></a></span>
<span id="cb132-3"><a href="python-mustercodes.html#cb132-3"></a><span class="co"># Step 1: Create a Pearson-Korrelation Matrix out of your dataframe:</span></span>
<span id="cb132-4"><a href="python-mustercodes.html#cb132-4"></a>correlations <span class="op">=</span> df.corr(method<span class="op">=</span><span class="st">&#39;pearson&#39;</span>) <span class="co"># the variable &#39;correlations&#39; is a dataframe!</span></span>
<span id="cb132-5"><a href="python-mustercodes.html#cb132-5"></a></span>
<span id="cb132-6"><a href="python-mustercodes.html#cb132-6"></a><span class="co"># Step 2: use &#39;sort_values&#39; to sort the column from &quot;most important&quot; (highest value) to &quot;least important&quot;:</span></span>
<span id="cb132-7"><a href="python-mustercodes.html#cb132-7"></a><span class="bu">print</span>(correlations[<span class="st">&#39;pricesCH&#39;</span>].sort_values(ascending<span class="op">=</span><span class="va">False</span>).to_string())</span></code></pre></div>
</div>
<div id="filter-the-whole-dataframe-after-a-condition-hier-correlations-0.75-select-only-all-observations-that-fullfill-the-condition-stack-them-and-sort-them-left-in-your-data-frame" class="section level3">
<h3><span class="header-section-number">11.10.2</span> <a id="example-of-sort-corr" style="color:black; text-decoration: none;"><u>Filter the WHOLE Dataframe after a condition (hier: Correlations &gt; 0.75), select ONLY all observations that fullfill the condition (= ‘stack them’) and sort them left in your Data Frame</u></a>:</h3>
<ul>
<li>Dieser Code beruht auf den Abschnitt: <a href="#pearson"><em>How to sort a Data-Frame Column (hier: Pearson-Correlation Matrix) from ‘most imporant’ to ‘least important’</em></a>.</li>
</ul>
<div class="sourceCode" id="cb133"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb133-1"><a href="python-mustercodes.html#cb133-1"></a>highly_correlated <span class="op">=</span> correlations[correlations <span class="op">&gt;</span> <span class="fl">0.75</span>]</span>
<span id="cb133-2"><a href="python-mustercodes.html#cb133-2"></a><span class="bu">print</span>(highly_correlated[highly_correlated <span class="op">&lt;</span> <span class="fl">1.0</span>].stack().to_string())</span></code></pre></div>
</div>
</div>
<div id="data-cleaning-missings" class="section level2">
<h2><span class="header-section-number">11.11</span> ## <a id="dealing-with-missings" style="color:black; text-decoration: none;">Data-Cleaning: Missings</a></h2>
<div id="number-of-missing-values-across-the-whole-data-frame" class="section level3">
<h3><span class="header-section-number">11.11.1</span> <a id="count-total-missings-ddset" style="color:black; text-decoration: none;"><u>Number of Missing Values across the WHOLE Data-Frame</u></a>:</h3>
<div class="sourceCode" id="cb134"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb134-1"><a href="python-mustercodes.html#cb134-1"></a><span class="bu">print</span>(<span class="st">&#39;There are </span><span class="sc">{}</span><span class="st"> missing values or NaNs in df_energy.&#39;</span></span>
<span id="cb134-2"><a href="python-mustercodes.html#cb134-2"></a>      .<span class="bu">format</span>(df_energy.isnull().values.<span class="bu">sum</span>()))</span></code></pre></div>
</div>
<div id="count-the-total-number-of-missings-in-each-column" class="section level3">
<h3><span class="header-section-number">11.11.2</span> <a id="count-missings-per-columns" style="color:black; text-decoration: none;"><u>Count the TOTAL number of Missings in each column</u></a>:</h3>
<div class="sourceCode" id="cb135"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb135-1"><a href="python-mustercodes.html#cb135-1"></a>df_energy.isnull().<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">0</span>) <span class="co"># outputs the number of NaNs for each column</span></span></code></pre></div>
</div>
<div id="count-the-non-missings-and-non-zero-values-in-each-column" class="section level3">
<h3><span class="header-section-number">11.11.3</span> <a id="count-non-missings-only-if-no-0" style="color:black; text-decoration: none;"><u>Count the non-missings (and non-zero values) in each column</u></a>:</h3>
<p><strong><u>Achtung</u></strong>: the “Code-Trick” below only works, if your columns don’t contain values, that are ‘0’! This is because the number ‘0’ - as a <code>boolean</code> - will be printed out to <code>False</code>, and hence, we will get the “wrong” number of missing values.</p>
<p><em>Verwende den unteren Code also nur, wenn du zuerst abgecheckt hast, dass du keine <code>0</code> in den einzlenen Spalten hast!</em></p>
<div class="sourceCode" id="cb136"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb136-1"><a href="python-mustercodes.html#cb136-1"></a><span class="co"># Display the number of non-missing values in each column</span></span>
<span id="cb136-2"><a href="python-mustercodes.html#cb136-2"></a></span>
<span id="cb136-3"><a href="python-mustercodes.html#cb136-3"></a><span class="bu">print</span>(<span class="st">&#39;Non-zero values in each column:</span><span class="ch">\n</span><span class="st">&#39;</span>, df_energy.astype(<span class="bu">bool</span>).<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">0</span>), sep<span class="op">=</span><span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span></code></pre></div>
<p>Since the above cell only gives out the “correct” number of non-missing values, if you have no <code>0</code> in your columns, here is code to count how many <code>0</code> you have in each column:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb137-1"><a href="python-mustercodes.html#cb137-1"></a>(df_energy <span class="op">==</span> <span class="dv">0</span>).astype(<span class="bu">int</span>).<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">0</span>) <span class="co"># count the numbers of &#39;0s&#39; in each column [axis = 0, for columns...]</span></span></code></pre></div>
</div>
<div id="display-each-row-with-a-missing-value" class="section level3">
<h3><span class="header-section-number">11.11.4</span> <a id="show-only-rows-with-missings" style="color:black; text-decoration: none;"><u>Display each row with a Missing-Value</u></a>:</h3>
<div class="sourceCode" id="cb138"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb138-1"><a href="python-mustercodes.html#cb138-1"></a><span class="co"># Display the rows with null // missing values:</span></span>
<span id="cb138-2"><a href="python-mustercodes.html#cb138-2"></a></span>
<span id="cb138-3"><a href="python-mustercodes.html#cb138-3"></a>df_energy[df_energy.isnull().<span class="bu">any</span>(axis<span class="op">=</span><span class="dv">1</span>)].tail()</span></code></pre></div>
</div>
<div id="replace-all-missings-in-a-column-with-0s" class="section level3">
<h3><span class="header-section-number">11.11.5</span> <a id="replace-missings-with-0" style="color:black; text-decoration: none;"><u>Replace all Missings in a Column with 0s</u></a>:</h3>
<div class="sourceCode" id="cb139"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb139-1"><a href="python-mustercodes.html#cb139-1"></a>df[<span class="st">&#39;ColumnWithMissings&#39;</span>] <span class="op">=</span> df_tot[<span class="st">&#39;ColumnWithMissings&#39;</span>].fillna(<span class="dv">0</span>) <span class="co"># replaces all missing-values within the column with 0s. </span></span></code></pre></div>
</div>
<div id="replace-all-values-in-a-column-with-missings" class="section level3">
<h3><span class="header-section-number">11.11.6</span> <u>Replace all Values in a Column with <code>Missings</code></u>:</h3>
<p><em>Assume that we have a time-series that has a row-index with time-stamps</em>!</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb140-1"><a href="python-mustercodes.html#cb140-1"></a><span class="co">### Step 1: define the range in which you want to replace values</span></span>
<span id="cb140-2"><a href="python-mustercodes.html#cb140-2"></a>start <span class="op">=</span> <span class="st">&#39;2020-01-01&#39;</span> <span class="co"># 01. Januar 2020 --&gt; ab hier wollen wir die values der Time-Series mit Missings ersetzen</span></span>
<span id="cb140-3"><a href="python-mustercodes.html#cb140-3"></a>stop <span class="op">=</span> <span class="st">&#39;2020-08-01&#39;</span> <span class="co"># 01. August 2020 --&gt; bis zu diesem Datum sollen die Missings eingefügt werden</span></span>
<span id="cb140-4"><a href="python-mustercodes.html#cb140-4"></a></span>
<span id="cb140-5"><a href="python-mustercodes.html#cb140-5"></a><span class="co">### Step 2: replace the values with missings via the &quot;.loc[row-indexer, column-indexer]&quot;</span></span>
<span id="cb140-6"><a href="python-mustercodes.html#cb140-6"></a>df.loc[start:stop, <span class="st">&#39;y_hat&#39;</span>] <span class="op">=</span> <span class="va">None</span> <span class="co"># This will replace all the values within the &#39;y_hat&#39;-column - in the range from </span></span>
<span id="cb140-7"><a href="python-mustercodes.html#cb140-7"></a>                                   <span class="co"># 01.01.2020-01.08.2020 with Missing-values (instead of &quot;normal&quot;-values)</span></span></code></pre></div>
</div>
</div>
<div id="missing-imputation" class="section level2">
<h2><span class="header-section-number">11.12</span> ## <a id="missing-imputations" style="color:black; text-decoration: none;">Missing Imputation</a></h2>
<p>This list will grow with time, the more I stumble onto various codes:</p>
<div id="missing-interpolation" class="section level3">
<h3><span class="header-section-number">11.12.1</span> <u>Missing Interpolation</u>:</h3>
<div id="for-a-time-series" class="section level4">
<h4><span class="header-section-number">11.12.1.1</span> <a id="interpolation-for-time-series" style="color:black; text-decoration: none;"><u>For a Time Series</u></a>:</h4>
<div class="sourceCode" id="cb141"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb141-1"><a href="python-mustercodes.html#cb141-1"></a><span class="co"># Fill null values using interpolation:</span></span>
<span id="cb141-2"><a href="python-mustercodes.html#cb141-2"></a></span>
<span id="cb141-3"><a href="python-mustercodes.html#cb141-3"></a>df_energy.interpolate(method<span class="op">=</span><span class="st">&#39;linear&#39;</span>, limit_direction<span class="op">=</span><span class="st">&#39;forward&#39;</span>, inplace<span class="op">=</span><span class="va">True</span>, axis<span class="op">=</span><span class="dv">0</span>) <span class="co"># since we have </span></span></code></pre></div>
</div>
</div>
</div>
<div id="data-cleaning-duplicates" class="section level2">
<h2><span class="header-section-number">11.13</span> ## <a id="data-duplicates" style="color:black; text-decoration: none;">Data-Cleaning: Duplicates</a></h2>
<div id="number-of-duplicates-across-the-whole-data-frame" class="section level3">
<h3><span class="header-section-number">11.13.1</span> <a id="count-all-duplicates" style="color:black; text-decoration: none;"><u>Number of Duplicates across the WHOLE Data-Frame</u></a>:</h3>
<div class="sourceCode" id="cb142"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb142-1"><a href="python-mustercodes.html#cb142-1"></a>temp_energy <span class="op">=</span> df_energy.duplicated(keep<span class="op">=</span><span class="st">&#39;first&#39;</span>).<span class="bu">sum</span>()</span>
<span id="cb142-2"><a href="python-mustercodes.html#cb142-2"></a></span>
<span id="cb142-3"><a href="python-mustercodes.html#cb142-3"></a><span class="bu">print</span>(<span class="st">&#39;There are </span><span class="sc">{}</span><span class="st"> duplicate rows in df_energy based on all columns.&#39;</span></span>
<span id="cb142-4"><a href="python-mustercodes.html#cb142-4"></a>      .<span class="bu">format</span>(temp_energy))</span></code></pre></div>
</div>
<div id="drop-duplicate-values" class="section level3">
<h3><span class="header-section-number">11.13.2</span> <a id="drop-duplicates" style="color:black; text-decoration: none;"><u>Drop Duplicate values</u></a>:</h3>
<div class="sourceCode" id="cb143"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb143-1"><a href="python-mustercodes.html#cb143-1"></a><span class="co"># Variante 1: mit reset_index &amp; neuer set_index</span></span>
<span id="cb143-2"><a href="python-mustercodes.html#cb143-2"></a>df_weather_2 <span class="op">=</span> df_weather.reset_index().drop_duplicates(subset<span class="op">=</span>[<span class="st">&#39;time&#39;</span>, <span class="st">&#39;city_name&#39;</span>], <span class="co"># Drop the duplicate, if all the rows are the same // have the same values (Achtung: we only look at the duplicates in the &#39;time&#39; &amp; &#39;city_name&#39;-column from this analysis!).</span></span>
<span id="cb143-3"><a href="python-mustercodes.html#cb143-3"></a>                                                        keep<span class="op">=</span><span class="st">&#39;last&#39;</span>).set_index(<span class="st">&#39;time&#39;</span>) <span class="co"># if you have duplicate, keep only the last of the duplicated-rows.</span></span></code></pre></div>
<div class="sourceCode" id="cb144"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb144-1"><a href="python-mustercodes.html#cb144-1"></a><span class="co"># Variante 2: man dropt den &quot;alten&quot; Index (VOR merge) und neuem set_index </span></span>
<span id="cb144-2"><a href="python-mustercodes.html#cb144-2"></a>df_unique_dates <span class="op">=</span> df_ferien.drop_duplicates(subset<span class="op">=</span><span class="st">&#39;datum&#39;</span>, <span class="co"># only consider the column &quot;datum&quot; [= column that has duplicates] when dropping the duplicates </span></span>
<span id="cb144-3"><a href="python-mustercodes.html#cb144-3"></a>                                    keep<span class="op">=</span><span class="st">&#39;first&#39;</span>).reset_index(drop<span class="op">=</span><span class="va">True</span>) <span class="co"># reset the index, otherwise you get weird indizes (mit 10&#39;000 für manche)</span></span>
<span id="cb144-4"><a href="python-mustercodes.html#cb144-4"></a>                                                                         <span class="co"># &#39;drop = True&#39; means that we do not keep the &quot;old&quot; index as a separate &#39;column&#39;</span></span>
<span id="cb144-5"><a href="python-mustercodes.html#cb144-5"></a>df_unique_dates</span></code></pre></div>
</div>
</div>
<div id="data-cleaning-outliers" class="section level2">
<h2><span class="header-section-number">11.14</span> ## <a id="outliers" style="color:black; text-decoration: none;">Data-Cleaning: Outliers</a></h2>
<div id="draw-a-boxplot-for-a-specific-column" class="section level3">
<h3><span class="header-section-number">11.14.1</span> <a id="draw-boxplot" style="color:black; text-decoration: none;"><u>Draw a Boxplot for a specific column</u></a>:</h3>
<div class="sourceCode" id="cb145"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb145-1"><a href="python-mustercodes.html#cb145-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb145-2"><a href="python-mustercodes.html#cb145-2"></a></span>
<span id="cb145-3"><a href="python-mustercodes.html#cb145-3"></a>sns.boxplot(x<span class="op">=</span>df_weather[<span class="st">&#39;pressure&#39;</span>])</span>
<span id="cb145-4"><a href="python-mustercodes.html#cb145-4"></a>plt.show()</span></code></pre></div>
<ul>
<li>
<strong><u>Key-Question</u></strong>:
<h2>
<em>
<center>
Are there Outliers? → Yes / No
</center>
</em>
</h2>
</li>
<br>
<ul>
<li>
<strong><u>“Trick” to answer the question</u></strong>: If you deal with temperature for example, google for “highest Temperature on earth” and look it up in Wikipedia to dertermine whether your value is an outlier.
</li>
</ul>
</ul>
<ul>
<li><u>Example</u>: <img src="bilder/outlier-example.jpg" alt="Outlier Examples" /> Even a pressure of approximately 100,000 HPa or 10 MPa, which is clearly visible in the above figure, corresponds to a quantity greater than the atmospheric pressure of Venus. In order to be sure, we will set as <code>NaN</code>s every value in the <code>pressure</code>-column which is <strong>higher than 1051 hPa</strong>, which is just above the highest air pressure ever recorded in the Iberian peninsula. While outliers on the low side are not visible in the boxplot above, it is a good idea to also replace the values which are <strong>lower than 931 hPa</strong>, i.e. the lowest air pressure ever recorded in the Iberian peninsula.</li>
</ul>
<strong><u>Step 2</u></strong>:<br>
<h3>
<em>If the answer to the above question is ‘yes’, then set the value above values to <code>NaN</code>s, which are above a certain “unprobable” threshold.</em>
</h3>
<div class="sourceCode" id="cb146"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb146-1"><a href="python-mustercodes.html#cb146-1"></a><span class="co"># Replace outliers in the `Set_Name_of_Column_with_the_Outlier_hier`-column with `NaN`s</span></span>
<span id="cb146-2"><a href="python-mustercodes.html#cb146-2"></a></span>
<span id="cb146-3"><a href="python-mustercodes.html#cb146-3"></a>df_weather.loc[df_weather.pressure <span class="op">&gt;</span> <span class="dv">1051</span>, <span class="st">&#39;pressure&#39;</span>] <span class="op">=</span> np.nan</span>
<span id="cb146-4"><a href="python-mustercodes.html#cb146-4"></a>df_weather.loc[df_weather.pressure <span class="op">&lt;</span> <span class="dv">931</span>, <span class="st">&#39;pressure&#39;</span>] <span class="op">=</span> np.nan</span></code></pre></div>
</div>
</div>
<div id="merging-splitting" class="section level2">
<h2><span class="header-section-number">11.15</span> ## <a id="merging-and-splitting" style="color:black; text-decoration: none;">Merging &amp; Splitting</a></h2>
<ul>
<li><u><strong>Important note before you start</strong></u>: If you want to merge 2 dataframes, where <em>one is smaller than the other</em>, then you <mark>CANNOT make the bigger dataset become <em>smaller</em> with <code>merge()</code></mark>. I did spend alot of time, but without success. However, there is <strong>another solution</strong>: you just need to drop the duplicates of the bigger dataframe (<a href="#duplicates-chapter">see chapter <code>Duplicates</code></a> in order to be able to make the dataset smaller! =)</li>
</ul>
<div id="splitting-a-dataset-into-smaller-parts-by-using-categories-to-split-it-up" class="section level3">
<h3><span class="header-section-number">11.15.1</span> <a id="split-big-ddset-by-categories" style="color:black; text-decoration: none;"><u>Splitting a Dataset into smaller parts, by using categories to split it up</u></a>:</h3>
<div class="sourceCode" id="cb147"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb147-1"><a href="python-mustercodes.html#cb147-1"></a><span class="co"># Split the df_weather into 5 dataframes (one for each of the 5 cities):</span></span>
<span id="cb147-2"><a href="python-mustercodes.html#cb147-2"></a></span>
<span id="cb147-3"><a href="python-mustercodes.html#cb147-3"></a>df_1, df_2, df_3, df_4, df_5 <span class="op">=</span> [x <span class="cf">for</span> _, x <span class="kw">in</span> df_weather.groupby(<span class="st">&#39;city_name&#39;</span>)]</span>
<span id="cb147-4"><a href="python-mustercodes.html#cb147-4"></a>dfs <span class="op">=</span> [df_1, df_2, df_3, df_4, df_5]</span></code></pre></div>
<div class="sourceCode" id="cb148"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb148-1"><a href="python-mustercodes.html#cb148-1"></a><span class="bu">str</span>(planets).replace(<span class="st">&quot;&#39;&quot;</span>, <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p>‘[Mercury, Venus, Earth, Mars, Jupiter, Saturn, Uranus, Neptune]’</p>
</div>
<div id="merge-2-separate-data-sets-together-via-their-row-index-row-label" class="section level3">
<h3><span class="header-section-number">11.15.2</span> <a id="merging-by-idx" style="color:black; text-decoration: none;"><u>Merge 2 separate Data Sets together via their row-index (= row-label)</u></a>:</h3>
<p>Damit du dieses Merging erfolgreich durchführen kannst, müssen beide Datensätze denselben Zeilen-Index besitzen.</p>
<ul>
<li><strong><u>Ziel</u></strong>: <em>Dadurch kannst du zum Beispiel <strong>neue Spalten von einem <u>anderen</u> Datensatz hinzufügen</strong> (passiert sehr oft in der Praxis)</em>.</li>
</ul>
<div class="sourceCode" id="cb149"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb149-1"><a href="python-mustercodes.html#cb149-1"></a><span class="co"># Let&#39;s merge all the y- &amp; X-Variables from the training-set together:</span></span>
<span id="cb149-2"><a href="python-mustercodes.html#cb149-2"></a>test <span class="op">=</span> pd.merge(</span>
<span id="cb149-3"><a href="python-mustercodes.html#cb149-3"></a>    y_train, <span class="co"># der Trainingsdatensatz für die y-Variable</span></span>
<span id="cb149-4"><a href="python-mustercodes.html#cb149-4"></a>    x_train, <span class="co"># der Trainingsdatensatz für alle X-Variablen</span></span>
<span id="cb149-5"><a href="python-mustercodes.html#cb149-5"></a>    how<span class="op">=</span><span class="st">&quot;outer&quot;</span>,</span>
<span id="cb149-6"><a href="python-mustercodes.html#cb149-6"></a>    left_on<span class="op">=</span>y_train.index, <span class="co"># merging via index // row-label des DataFrames der y-Variable</span></span>
<span id="cb149-7"><a href="python-mustercodes.html#cb149-7"></a>    right_on<span class="op">=</span>x_train.index, <span class="co"># merging via index // row-label des DataFrames der x-Variablen</span></span>
<span id="cb149-8"><a href="python-mustercodes.html#cb149-8"></a>).set_index(<span class="st">&#39;key_0&#39;</span>) <span class="co"># optional: da wir hier eine Zeitreihe haben, dessen Row-Index den Column-Name &#39;key_0&#39; animmt beim Merging, wird hier als neuer Row-Index für den gemerged Dataframe gesetzt</span></span>
<span id="cb149-9"><a href="python-mustercodes.html#cb149-9"></a>test <span class="co"># check if it worked</span></span></code></pre></div>
</div>
<div id="merge-different-datasets-simultaneously-together" class="section level3">
<h3><span class="header-section-number">11.15.3</span> <a id="merge-multiple-ddset" style="color:black; text-decoration: none;"><u>Merge different datasets simultaneously together</u></a>:</h3>
<p><strong><u>Ausgangssituation</u></strong>: Assume that - initially - we have 2 datasets, 1 is for the weather and 1 is for the Energy-Prices. Furthermore, they those two datasets are <strong>time-series</strong>. Hence, they have the same time-index (= row-label), formatted in <strong>UTC</strong>.</p>
<p><strong><u>Step 1</u></strong>: Split up the weather-dataset, sorted by cities</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb150-1"><a href="python-mustercodes.html#cb150-1"></a><span class="co"># Split the df_weather into 5 dataframes (one for each of the 5 cities):</span></span>
<span id="cb150-2"><a href="python-mustercodes.html#cb150-2"></a></span>
<span id="cb150-3"><a href="python-mustercodes.html#cb150-3"></a>df_1, df_2, df_3, df_4, df_5 <span class="op">=</span> [x <span class="cf">for</span> _, x <span class="kw">in</span> df_weather.groupby(<span class="st">&#39;city_name&#39;</span>)]</span>
<span id="cb150-4"><a href="python-mustercodes.html#cb150-4"></a>dfs <span class="op">=</span> [df_1, df_2, df_3, df_4, df_5]</span></code></pre></div>
<p><strong><u>Step 2</u></strong>: Merge the 5 sub-datasets with the Energy-Price Dataset</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb151-1"><a href="python-mustercodes.html#cb151-1"></a><span class="co"># Step 1: save a copy, in case you do a wrong merging!</span></span>
<span id="cb151-2"><a href="python-mustercodes.html#cb151-2"></a>df_final <span class="op">=</span> df_energy </span>
<span id="cb151-3"><a href="python-mustercodes.html#cb151-3"></a></span>
<span id="cb151-4"><a href="python-mustercodes.html#cb151-4"></a><span class="co"># Step 2: make a for-loop, to merge all the 6 datasets simultaneously</span></span>
<span id="cb151-5"><a href="python-mustercodes.html#cb151-5"></a><span class="cf">for</span> df <span class="kw">in</span> dfs: <span class="co"># here, we loop through every city-group of our list of data frames (see step 1)</span></span>
<span id="cb151-6"><a href="python-mustercodes.html#cb151-6"></a>    city <span class="op">=</span> df[<span class="st">&#39;city_name&#39;</span>].unique() <span class="co"># we store the names of the 5 cities - as a list - in a variable</span></span>
<span id="cb151-7"><a href="python-mustercodes.html#cb151-7"></a>    city_str <span class="op">=</span> <span class="bu">str</span>(city).replace(<span class="st">&quot;&#39;&quot;</span>, <span class="st">&quot;&quot;</span>).replace(<span class="st">&#39;[&#39;</span>, <span class="st">&#39;&#39;</span>).replace(<span class="st">&#39;]&#39;</span>, <span class="st">&#39;&#39;</span>).replace(<span class="st">&#39; &#39;</span>, <span class="st">&#39;&#39;</span>) <span class="co"># we perform some string-manipulation to eliminate all the characters that are not necessary</span></span>
<span id="cb151-8"><a href="python-mustercodes.html#cb151-8"></a>    df <span class="op">=</span> df.add_suffix(<span class="st">&#39;_</span><span class="sc">{}</span><span class="st">&#39;</span>.<span class="bu">format</span>(city_str)) <span class="co"># we re-name the columns, by adding the name of the city to each column</span></span>
<span id="cb151-9"><a href="python-mustercodes.html#cb151-9"></a>    df_final <span class="op">=</span> df_final.merge(df, <span class="co"># this is the merging-part!</span></span>
<span id="cb151-10"><a href="python-mustercodes.html#cb151-10"></a>                              on<span class="op">=</span>[<span class="st">&#39;time&#39;</span>], <span class="co"># we want to merge via the index // row-label of both datasets --&gt; since they are both in UTC-time, this will work!</span></span>
<span id="cb151-11"><a href="python-mustercodes.html#cb151-11"></a>                              how<span class="op">=</span><span class="st">&#39;outer&#39;</span>) <span class="co"># &#39;outer&#39; means: we want the &#39;union&#39; --&gt; see this youtube-video for a good explanation: https://www.youtube.com/watch?v=h4hOPGo4UVU</span></span>
<span id="cb151-12"><a href="python-mustercodes.html#cb151-12"></a>    df_final <span class="op">=</span> df_final.drop(<span class="st">&#39;city_name_</span><span class="sc">{}</span><span class="st">&#39;</span>.<span class="bu">format</span>(city_str), axis<span class="op">=</span><span class="dv">1</span>) <span class="co"># let&#39;s drop some columns that we don&#39;t need anymore</span></span>
<span id="cb151-13"><a href="python-mustercodes.html#cb151-13"></a>    </span>
<span id="cb151-14"><a href="python-mustercodes.html#cb151-14"></a><span class="co"># Step 3: &quot;final results&quot;-check</span></span>
<span id="cb151-15"><a href="python-mustercodes.html#cb151-15"></a>df_final.columns <span class="co"># show the merging-results, by displaying all the column-names --&gt; DONE! =)</span></span></code></pre></div>
<p><u><strong>Step 3</strong></u>: Make some final-checks</p>
<ul>
<li>
<strong><u>Key-Question</u></strong>:
<h2>
<em>
<center>
Did the merging really worked? → Yes / No
</center>
</em>
</h2>
</li>
<br>
<ul>
<li>
<strong><u>“Trick” to answer the question</u></strong>: Look at Missings &amp; Duplicates.
</li>
</ul>
</ul>
<div class="sourceCode" id="cb152"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb152-1"><a href="python-mustercodes.html#cb152-1"></a><span class="co"># Display the number of NaNs and duplicates in the final dataframe</span></span>
<span id="cb152-2"><a href="python-mustercodes.html#cb152-2"></a></span>
<span id="cb152-3"><a href="python-mustercodes.html#cb152-3"></a><span class="bu">print</span>(<span class="st">&#39;There are </span><span class="sc">{}</span><span class="st"> missing values or NaNs in df_final.&#39;</span></span>
<span id="cb152-4"><a href="python-mustercodes.html#cb152-4"></a>      .<span class="bu">format</span>(df_final.isnull().values.<span class="bu">sum</span>()))</span>
<span id="cb152-5"><a href="python-mustercodes.html#cb152-5"></a></span>
<span id="cb152-6"><a href="python-mustercodes.html#cb152-6"></a>temp_final <span class="op">=</span> df_final.duplicated(keep<span class="op">=</span><span class="st">&#39;first&#39;</span>).<span class="bu">sum</span>()</span>
<span id="cb152-7"><a href="python-mustercodes.html#cb152-7"></a></span>
<span id="cb152-8"><a href="python-mustercodes.html#cb152-8"></a><span class="bu">print</span>(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">There are </span><span class="sc">{}</span><span class="st"> duplicate rows in df_energy based on all columns.&#39;</span></span>
<span id="cb152-9"><a href="python-mustercodes.html#cb152-9"></a>      .<span class="bu">format</span>(temp_final))</span></code></pre></div>
<h3>
<em>If the answer is ‘yes’, then merging should have worked, if you have no missings and no duplicates. <br><br>
If the answer to the above question is ‘no’, then you need to go back to step 2 and try to figure out what you did wrong when merging the datasets together.</em>
</h3>
</div>
</div>
<div id="advanced-exploration-of-your-data" class="section level2">
<h2><span class="header-section-number">11.16</span> ## <a id="advanced-exploration" style="color:black; text-decoration: none;">Advanced Exploration of your data</a></h2>
<div id="how-to-create-plot-a-pearson-correlation-matrix-out-of-a-dataframe" class="section level3">
<h3><span class="header-section-number">11.16.1</span> <a id="create-correlation-matrix" style="color:black; text-decoration: none;"><u>How to create &amp; plot a <code>Pearson Correlation Matrix</code> out of a Dataframe?</u></a>:</h3>
<div class="sourceCode" id="cb153"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb153-1"><a href="python-mustercodes.html#cb153-1"></a><span class="co"># Step 1: construct a &#39;Pearson Correlation Matrix&#39; as a Dataframe:</span></span>
<span id="cb153-2"><a href="python-mustercodes.html#cb153-2"></a>correlations <span class="op">=</span> df.corr(method<span class="op">=</span><span class="st">&#39;pearson&#39;</span>)</span>
<span id="cb153-3"><a href="python-mustercodes.html#cb153-3"></a></span>
<span id="cb153-4"><a href="python-mustercodes.html#cb153-4"></a><span class="co"># Step 2: Load Libraries &amp; plot Pearson correlation matrix:</span></span>
<span id="cb153-5"><a href="python-mustercodes.html#cb153-5"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb153-6"><a href="python-mustercodes.html#cb153-6"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb153-7"><a href="python-mustercodes.html#cb153-7"></a></span>
<span id="cb153-8"><a href="python-mustercodes.html#cb153-8"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">24</span>, <span class="dv">24</span>)) <span class="co">#</span></span>
<span id="cb153-9"><a href="python-mustercodes.html#cb153-9"></a>sns.heatmap(correlations, annot<span class="op">=</span><span class="va">True</span>, fmt<span class="op">=</span><span class="st">&#39;.2f&#39;</span>) <span class="co"># import seaborn as sns</span></span>
<span id="cb153-10"><a href="python-mustercodes.html#cb153-10"></a>plt.title(<span class="st">&#39;Pearson Correlation Matrix&#39;</span>)</span>
<span id="cb153-11"><a href="python-mustercodes.html#cb153-11"></a>plt.show()</span></code></pre></div>
</div>
</div>
<div id="time-series-exploration-visualizations" class="section level2">
<h2><span class="header-section-number">11.17</span> ## <a id="time-series-exploration" style="color:black; text-decoration: none;">Time-Series: Exploration &amp; Visualizations</a></h2>
<div id="plotting-a-time-series" class="section level3">
<h3><span class="header-section-number">11.17.1</span> <a id="plot-time-series" style="color:black; text-decoration: none;"><u>Plotting a Time Series</u></a>:</h3>
<p><strong><u>Step 1</u></strong>: Transform the <code>date</code>-column into a <code>date-time</code>-column.</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb154-1"><a href="python-mustercodes.html#cb154-1"></a><span class="im">from</span> datetime <span class="im">import</span> datetime <span class="im">as</span> dt <span class="co"># this is the package we need to convert a column into a &#39;date-time&#39;</span></span>
<span id="cb154-2"><a href="python-mustercodes.html#cb154-2"></a></span>
<span id="cb154-3"><a href="python-mustercodes.html#cb154-3"></a><span class="co"># Step 1: Define a function that is reading the date-column correctly</span></span>
<span id="cb154-4"><a href="python-mustercodes.html#cb154-4"></a></span>
<span id="cb154-5"><a href="python-mustercodes.html#cb154-5"></a><span class="kw">def</span> parse_date(date):</span>
<span id="cb154-6"><a href="python-mustercodes.html#cb154-6"></a>    data<span class="op">=</span><span class="bu">str</span>(date)</span>
<span id="cb154-7"><a href="python-mustercodes.html#cb154-7"></a>    <span class="cf">if</span> date<span class="op">==</span><span class="st">&quot;&quot;</span>: <span class="co"># this condition will never be true, since the column &#39;Date-Time&#39; NEVER has an empty string; </span><span class="al">###</span><span class="co"> raise exception</span></span>
<span id="cb154-8"><a href="python-mustercodes.html#cb154-8"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb154-9"><a href="python-mustercodes.html#cb154-9"></a>    <span class="cf">else</span>:</span>
<span id="cb154-10"><a href="python-mustercodes.html#cb154-10"></a>        <span class="cf">return</span> pd.to_datetime(date, <span class="bu">format</span><span class="op">=</span><span class="st">&#39;%Y-%m-</span><span class="sc">%d</span><span class="st"> %H:%M:%S&#39;</span>, yearfirst <span class="op">=</span> <span class="va">True</span>, utc <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb154-11"><a href="python-mustercodes.html#cb154-11"></a></span>
<span id="cb154-12"><a href="python-mustercodes.html#cb154-12"></a><span class="co"># Step 2: apply the above function on the Column &#39;Date-Time&#39; to transform the column into a &#39;date-time&#39;-type</span></span>
<span id="cb154-13"><a href="python-mustercodes.html#cb154-13"></a>raw_dd[<span class="st">&quot;Date-Time&quot;</span>] <span class="op">=</span> raw_dd[<span class="st">&quot;Date-Time&quot;</span>].<span class="bu">apply</span>(parse_date)</span></code></pre></div>
<p><strong><u>Step 2</u></strong>: Set the ‘time’-column as the index (= row-label), otherwise the plotting won’t work</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb155-1"><a href="python-mustercodes.html#cb155-1"></a><span class="co"># set the date-column as our row-label:</span></span>
<span id="cb155-2"><a href="python-mustercodes.html#cb155-2"></a>raw_dd <span class="op">=</span> raw_dd.set_index(<span class="st">&quot;Date-Time&quot;</span>)</span></code></pre></div>
<p><u><strong>Step 3</strong></u>: Visualize the Time-Series</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb156-1"><a href="python-mustercodes.html#cb156-1"></a><span class="im">from</span> sktime.utils.plotting <span class="im">import</span> plot_series <span class="co"># use sktime and the &#39;plot_series&#39;-module for this task</span></span>
<span id="cb156-2"><a href="python-mustercodes.html#cb156-2"></a></span>
<span id="cb156-3"><a href="python-mustercodes.html#cb156-3"></a><span class="co"># Define our y-variable (= DA-Prices in CH):</span></span>
<span id="cb156-4"><a href="python-mustercodes.html#cb156-4"></a>y <span class="op">=</span> raw_dd[<span class="st">&quot;pricesCH&quot;</span>] </span>
<span id="cb156-5"><a href="python-mustercodes.html#cb156-5"></a></span>
<span id="cb156-6"><a href="python-mustercodes.html#cb156-6"></a>plot_series(y) <span class="co"># visual check if it worked? --&gt; yes!</span></span></code></pre></div>
</div>
<div id="plot-auto-correlation-partial-auto-correlation-functions" class="section level3">
<h3><span class="header-section-number">11.17.2</span> <a id="auto-and-partial-auto-corr" style="color:black; text-decoration: none;"><u>Plot Auto-Correlation &amp; Partial-Auto-Correlation Functions</u></a>:</h3>
<p>The partial autocorrelation plot of the eletricity price time series shows that the direct relationship between an observation at a given hour (t) is strongest with the observations at t-1, t-2, t-24 and t-25 time-steps and diminishes afterwards. <strong>Thus, we are going to use the 25 previous values of each time series which will constitute a feature for our models</strong>.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb157-1"><a href="python-mustercodes.html#cb157-1"></a><span class="co"># Step 1: load library</span></span>
<span id="cb157-2"><a href="python-mustercodes.html#cb157-2"></a><span class="im">from</span> statsmodels.graphics.tsaplots <span class="im">import</span> plot_acf, plot_pacf <span class="co"># to plot </span></span>
<span id="cb157-3"><a href="python-mustercodes.html#cb157-3"></a></span>
<span id="cb157-4"><a href="python-mustercodes.html#cb157-4"></a><span class="co"># Step 2: Plot autocorrelation and partial autocorrelation plots</span></span>
<span id="cb157-5"><a href="python-mustercodes.html#cb157-5"></a>fig, (ax1, ax2) <span class="op">=</span> plt.subplots(nrows<span class="op">=</span><span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb157-6"><a href="python-mustercodes.html#cb157-6"></a>plot_acf(df_energy[<span class="st">&#39;pricesCH&#39;</span>], lags<span class="op">=</span><span class="dv">50</span>, ax<span class="op">=</span>ax1)</span>
<span id="cb157-7"><a href="python-mustercodes.html#cb157-7"></a>plot_pacf(df_energy[<span class="st">&#39;pricesCH&#39;</span>], lags<span class="op">=</span><span class="dv">50</span>, ax<span class="op">=</span>ax2)</span>
<span id="cb157-8"><a href="python-mustercodes.html#cb157-8"></a>plt.tight_layout()</span>
<span id="cb157-9"><a href="python-mustercodes.html#cb157-9"></a>plt.show()</span></code></pre></div>
</div>
<div id="plot-the-cross-correlationyt-xt---k" class="section level3">
<h3><span class="header-section-number">11.17.3</span> <a id="cross-corr" style="color:black; text-decoration: none;"><u>Plot the Cross-Correlation(Y<sub>t</sub>, X<sub>t - k</sub>)</u></a>:</h3>
<p>It would quite definitely be <strong>more beneficial if we only chose to use specific past values (observations at certain time-lags) of a given feature, based on the cross-correlation between the electricity price and each one of the features in the dataset</strong>. For example, below we can see the cross-correlation between the electricity price and the Renewable Generation from Switzerland. We see that there are many time-lags with a correlation which is close to zero and could be ommited.</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb158-1"><a href="python-mustercodes.html#cb158-1"></a><span class="im">from</span> statsmodels.tsa.stattools <span class="im">import</span> ccf <span class="co"># to plot the cross-correlation function</span></span>
<span id="cb158-2"><a href="python-mustercodes.html#cb158-2"></a></span>
<span id="cb158-3"><a href="python-mustercodes.html#cb158-3"></a><span class="co"># Step 2: plot the cross-correlation between the day-ahead price &quot;today&quot; and with each of the first 50-lags of the column &#39;RenGen&#39; </span></span>
<span id="cb158-4"><a href="python-mustercodes.html#cb158-4"></a>cross_corr <span class="op">=</span> ccf(df_energy[<span class="st">&#39;RenGenCH&#39;</span>], df_energy[<span class="st">&#39;pricesCH&#39;</span>])</span>
<span id="cb158-5"><a href="python-mustercodes.html#cb158-5"></a>plt.plot(cross_corr[<span class="dv">0</span>:<span class="dv">50</span>])</span>
<span id="cb158-6"><a href="python-mustercodes.html#cb158-6"></a>plt.show()</span></code></pre></div>
</div>
</div>
<div id="feature-engineering-for-time-series" class="section level2">
<h2><span class="header-section-number">11.18</span> ## <a id="feature-engineering-time-series" style="color:black; text-decoration: none;">Feature Engineering for Time-Series</a></h2>
<p>Wenn du mit Variablen arbeitest, welche mit “Zeit” zu tun haben, brauchst du einige “Tricks”, um Data Cleaning betreiben zu können mit sogenannten <code>Date-Time Objects</code> in Python.</p>
<div id="creating-an-index-for-time-series" class="section level3">
<h3><span class="header-section-number">11.18.1</span> <a id="time-stamps-as-index" style="color:black; text-decoration: none;"><u>Creating an index for Time-Series</u></a>:</h3>
<div class="sourceCode" id="cb159"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb159-1"><a href="python-mustercodes.html#cb159-1"></a>start <span class="op">=</span> <span class="st">&#39;2020-01-01&#39;</span></span>
<span id="cb159-2"><a href="python-mustercodes.html#cb159-2"></a>stop <span class="op">=</span> <span class="st">&#39;2021-01-01&#39;</span> <span class="co"># ACHTUNG: wird am 31.12.2020 enden</span></span>
<span id="cb159-3"><a href="python-mustercodes.html#cb159-3"></a>ts_index <span class="op">=</span> pd.date_range(start, stop, freq <span class="op">=</span> <span class="st">&#39;h&#39;</span>, closed <span class="op">=</span> <span class="st">&#39;left&#39;</span>, tz <span class="op">=</span> <span class="st">&#39;UTC&#39;</span>)</span>
<span id="cb159-4"><a href="python-mustercodes.html#cb159-4"></a>ts_index</span></code></pre></div>
<p>DatetimeIndex([‘2020-01-01 00:00:00+00:00’, ‘2020-01-01 01:00:00+00:00’,
‘2020-01-01 02:00:00+00:00’, ‘2020-01-01 03:00:00+00:00’,
‘2020-01-01 04:00:00+00:00’, ‘2020-01-01 05:00:00+00:00’,
‘2020-01-01 06:00:00+00:00’, ‘2020-01-01 07:00:00+00:00’,
‘2020-01-01 08:00:00+00:00’, ‘2020-01-01 09:00:00+00:00’,
…
‘2020-12-31 14:00:00+00:00’, ‘2020-12-31 15:00:00+00:00’,
‘2020-12-31 16:00:00+00:00’, ‘2020-12-31 17:00:00+00:00’,
‘2020-12-31 18:00:00+00:00’, ‘2020-12-31 19:00:00+00:00’,
‘2020-12-31 20:00:00+00:00’, ‘2020-12-31 21:00:00+00:00’,
‘2020-12-31 22:00:00+00:00’, ‘2020-12-31 23:00:00+00:00’],
dtype=‘datetime64[ns, UTC]’, length=8784, freq=‘H’)</p>
<div id="optionale-erweiterung-index-slicing" class="section level4">
<h4><span class="header-section-number">11.18.1.1</span> <u>(Optionale) Erweiterung</u>: Index-Slicing</h4>
<p>Der <strong>Nachteil</strong> am obigen Index ist, dass er immer erst <strong>ab 0:00 Uhr beginnt</strong>. Das <strong>Problem</strong> dabei ist, dass <em>du nicht immer einen Index benötigen wirst, welcher punktgenau um 0:00 Uhr beginnt, sondern vielleicht einmal um 23:00 Uhr</em>.</p>
<ul>
<li><u>Lösung</u>: <strong>Verwende <code>Slicing</code>, um ab der ersten Beobachtung vom Jahr 2020, um 00:00 zu starten, beispielsweise so: <code>DF2 = DF1.loc[:'2019-05-26 13:00:00+00:00']</code> für einen DataFrame, beziehungsweise so: <code>ts_index[4:]</code> für eine Pandas-Series</strong>.</li>
</ul>
</div>
</div>
<div id="make-a-copy-of-the-index-as-a-column-of-a-dataframe" class="section level3">
<h3><span class="header-section-number">11.18.2</span> <a id="copy-index-as-columns" style="color:black; text-decoration: none;"><u>Make a copy of the index as a Column of a DataFrame</u></a>:</h3>
<div class="sourceCode" id="cb160"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb160-1"><a href="python-mustercodes.html#cb160-1"></a>p_train <span class="op">=</span> p_train.reset_index()</span>
<span id="cb160-2"><a href="python-mustercodes.html#cb160-2"></a>p_train[<span class="st">&#39;date&#39;</span>] <span class="op">=</span> p_train[<span class="st">&#39;Date-Time&#39;</span>]</span>
<span id="cb160-3"><a href="python-mustercodes.html#cb160-3"></a>p_train.set_index(<span class="st">&#39;Date-Time&#39;</span>)</span></code></pre></div>
</div>
<div id="converting-a-time-column-into-a-datetime-column-and-set-it-as-an-index-row-label" class="section level3">
<h3><span class="header-section-number">11.18.3</span> <a id="make-datetime-and-set-index" style="color:black; text-decoration: none;"><u>Converting a Time-Column into a Datetime-Column and set it as an Index (= row label)</u></a>:</h3>
<p><strong>If you work with time-series</strong>, it will oftentimes be the case that you will need to convert your date-column - which <strong>oftentimes are strings</strong> - into an actual <code>date-type</code> column!</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb161-1"><a href="python-mustercodes.html#cb161-1"></a>df_energy[<span class="st">&#39;Date-Time&#39;</span>] <span class="op">=</span> pd.to_datetime(df_energy[<span class="st">&#39;Date-Time&#39;</span>], utc<span class="op">=</span><span class="va">True</span>, infer_datetime_format<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb161-2"><a href="python-mustercodes.html#cb161-2"></a>df_energy <span class="op">=</span> df_energy.set_index(<span class="st">&#39;Date-Time&#39;</span>) <span class="co"># set the &#39;Date-Time&#39;-Column as the index // row-label of our data-frame</span></span></code></pre></div>
<div id="if-you-want-to-set-the-format-by-yourself" class="section level5">
<h5><span class="header-section-number">11.18.3.0.1</span> <u>If you want to set the format by yourself</u>:</h5>
<div class="sourceCode" id="cb162"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb162-1"><a href="python-mustercodes.html#cb162-1"></a><span class="co">#convert Delivery day to a date time column</span></span>
<span id="cb162-2"><a href="python-mustercodes.html#cb162-2"></a>epex_df[<span class="st">&#39;Delivery day&#39;</span>] <span class="op">=</span> pd.to_datetime(epex_df[<span class="st">&#39;Delivery day&#39;</span>], <span class="bu">format</span> <span class="op">=</span> <span class="st">&#39;%Y%m</span><span class="sc">%d</span><span class="st">&#39;</span>)</span></code></pre></div>
</div>
</div>
<div id="creating-a-range-of-dates-in-python" class="section level3">
<h3><span class="header-section-number">11.18.4</span> <a id="create-range-of-dates" style="color:black; text-decoration: none;"><u>Creating a range of dates in Python</u></a>:</h3>
<p>Specify start and end, with the default daily frequency.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb163-1"><a href="python-mustercodes.html#cb163-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb163-2"><a href="python-mustercodes.html#cb163-2"></a></span>
<span id="cb163-3"><a href="python-mustercodes.html#cb163-3"></a>pd.date_range(start<span class="op">=</span><span class="st">&#39;1/1/2018&#39;</span>, end<span class="op">=</span><span class="st">&#39;1/08/2018&#39;</span>)</span></code></pre></div>
<p>DatetimeIndex([‘2018-01-01’, ‘2018-01-02’, ‘2018-01-03’, ‘2018-01-04’,
‘2018-01-05’, ‘2018-01-06’, ‘2018-01-07’, ‘2018-01-08’],
dtype=‘datetime64[ns]’, freq=‘D’)</p>
</div>
</div>
<div id="rechnen-mit-date-time-objects-addition-und-subtraktion-von-zeiten" class="section level2">
<h2><span class="header-section-number">11.19</span> ## <a id="rechnen-mit-date-time-objects" style="color:black; text-decoration: none;">Rechnen mit Date-Time Objects: Addition und Subtraktion von Zeiten</a></h2>
<p>Oftmals wirst du Zeitpunkte in der Zukunft oder Vergangenheit definieren müssen. Deshalb ist es essentiell, dass du lernst, wie man mit <code>Date-Time Objekten</code> rechnet:</p>
<div id="finde-den-genauen-zeitpunkt-jetzt-heute-heraus" class="section level3">
<h3><span class="header-section-number">11.19.1</span> <a id="today" style="color:black; text-decoration: none;"><u>Finde den genauen Zeitpunkt “jetzt” // “heute” heraus</u></a>:</h3>
<div class="sourceCode" id="cb164"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb164-1"><a href="python-mustercodes.html#cb164-1"></a><span class="im">import</span> datetime <span class="co"># Da wir mit &quot;Zeit&quot; arbeiten, brauche ich das Package &quot;datetime&quot;</span></span>
<span id="cb164-2"><a href="python-mustercodes.html#cb164-2"></a></span>
<span id="cb164-3"><a href="python-mustercodes.html#cb164-3"></a>jetzt <span class="op">=</span> datetime.datetime.now() <span class="co"># current time</span></span>
<span id="cb164-4"><a href="python-mustercodes.html#cb164-4"></a></span>
<span id="cb164-5"><a href="python-mustercodes.html#cb164-5"></a><span class="bu">print</span>(jetzt) <span class="co"># check: should output the current time</span></span></code></pre></div>
<p>2021-07-01 13:54:53.425398</p>
</div>
<div id="zukunftszeitpunkt-mit-dem-jetzt-als-referenzpunkt-startpunkt" class="section level3">
<h3><span class="header-section-number">11.19.2</span> <a id="zukunft-relativ-zu-jetzt" style="color:black; text-decoration: none;"><u>Zukunftszeitpunkt mit dem “jetzt” als Referenzpunkt // Startpunkt</u></a>:</h3>
<div class="sourceCode" id="cb165"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb165-1"><a href="python-mustercodes.html#cb165-1"></a><span class="im">import</span> datetime <span class="co"># Da wir mit &quot;Zeit&quot; arbeiten, brauche ich das Package &quot;datetime&quot;</span></span>
<span id="cb165-2"><a href="python-mustercodes.html#cb165-2"></a></span>
<span id="cb165-3"><a href="python-mustercodes.html#cb165-3"></a>jetzt <span class="op">=</span> datetime.datetime.now() <span class="co"># current time</span></span>
<span id="cb165-4"><a href="python-mustercodes.html#cb165-4"></a>added_time <span class="op">=</span> datetime.timedelta(hours<span class="op">=</span> <span class="dv">1</span>, minutes<span class="op">=</span> <span class="dv">1</span>) <span class="co"># anzahl an Stunden &amp; Minuten, die du dazu addieren willst</span></span>
<span id="cb165-5"><a href="python-mustercodes.html#cb165-5"></a>ende <span class="op">=</span> jetzt <span class="op">+</span> added_time</span>
<span id="cb165-6"><a href="python-mustercodes.html#cb165-6"></a></span>
<span id="cb165-7"><a href="python-mustercodes.html#cb165-7"></a><span class="bu">print</span>(ende) <span class="co"># check: should output &quot;current time + 5h 2 min&quot;</span></span></code></pre></div>
<p>2021-07-01 15:00:59.045610</p>
</div>
<div id="rechnen-mit-datum-subtraktion-mit-fixed-time-point-als-referenzpunkt-startpunkt" class="section level3">
<h3><span class="header-section-number">11.19.3</span> <a id="subtraktion-von-zeitpunkt" style="color:black; text-decoration: none;"><u>Rechnen mit Datum: Subtraktion mit <code>fixed time-point</code> als Referenzpunkt // Startpunkt</u></a>:</h3>
<div class="sourceCode" id="cb166"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb166-1"><a href="python-mustercodes.html#cb166-1"></a><span class="im">import</span> datetime <span class="co"># Da wir mit &quot;Zeit&quot; arbeiten, brauche ich das Package &quot;datetime&quot;</span></span>
<span id="cb166-2"><a href="python-mustercodes.html#cb166-2"></a></span>
<span id="cb166-3"><a href="python-mustercodes.html#cb166-3"></a>fixe_zeit <span class="op">=</span> datetime.datetime(<span class="dv">2021</span>, <span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">12</span>) <span class="co"># datetime(year, month, day, hour, minute, second, microsecond), </span></span>
<span id="cb166-4"><a href="python-mustercodes.html#cb166-4"></a><span class="co"># wobei die ersten 3 Argumente (Jahr, Monat, Tag) OBLIGATORISCH sind! --&gt; hier interessiert uns die letzten 2 Inputs, </span></span>
<span id="cb166-5"><a href="python-mustercodes.html#cb166-5"></a><span class="co"># nämlich die &quot;8&quot; und die &quot;12&quot; --&gt; diese wiederspiegeln meine fixe 8h 12 min Arbeitszeit bei der SBB</span></span>
<span id="cb166-6"><a href="python-mustercodes.html#cb166-6"></a>added_time <span class="op">=</span> datetime.timedelta(hours<span class="op">=</span> <span class="dv">1</span>, minutes<span class="op">=</span> <span class="dv">1</span>) <span class="co"># anzahl an Stunden, die du noch arbeiten musst</span></span>
<span id="cb166-7"><a href="python-mustercodes.html#cb166-7"></a>wie_lange_noch <span class="op">=</span> fixe_arbeitszeit <span class="op">-</span> added_time</span>
<span id="cb166-8"><a href="python-mustercodes.html#cb166-8"></a></span>
<span id="cb166-9"><a href="python-mustercodes.html#cb166-9"></a><span class="bu">print</span>(wie_lange_noch.strftime(<span class="st">&quot;%H%M&quot;</span>)) <span class="co"># check: should output 7h 11min --&gt; yes!</span></span></code></pre></div>
<p>0711</p>
</div>
<div id="day-of-the-week-given-a-date" class="section level3">
<h3><span class="header-section-number">11.19.4</span> <a id="wochentag-herausfinden" style="color:black; text-decoration: none;"><u>Day of the Week given a Date</u></a>:</h3>
<p>If you want to know - for example - which “Wochentag” z.B. the <code>21.03.2020</code> was, simply use this code:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb167-1"><a href="python-mustercodes.html#cb167-1"></a><span class="im">import</span> datetime</span>
<span id="cb167-2"><a href="python-mustercodes.html#cb167-2"></a></span>
<span id="cb167-3"><a href="python-mustercodes.html#cb167-3"></a>fixe_zeit <span class="op">=</span> datetime.datetime(<span class="dv">2020</span>, <span class="dv">12</span>, <span class="dv">12</span>) <span class="co"># datetime(year, month, day, hour, minute, second, microsecond)</span></span>
<span id="cb167-4"><a href="python-mustercodes.html#cb167-4"></a>fixe_zeit.weekday() </span>
<span id="cb167-5"><a href="python-mustercodes.html#cb167-5"></a></span>
<span id="cb167-6"><a href="python-mustercodes.html#cb167-6"></a><span class="co"># --- Gemäss Documentation</span></span>
<span id="cb167-7"><a href="python-mustercodes.html#cb167-7"></a></span>
<span id="cb167-8"><a href="python-mustercodes.html#cb167-8"></a><span class="co"># 0 = Monday</span></span>
<span id="cb167-9"><a href="python-mustercodes.html#cb167-9"></a><span class="co"># 1 = Tuesday </span></span>
<span id="cb167-10"><a href="python-mustercodes.html#cb167-10"></a><span class="co"># 2 = Wednesday</span></span>
<span id="cb167-11"><a href="python-mustercodes.html#cb167-11"></a><span class="co"># 3 = Thursday</span></span>
<span id="cb167-12"><a href="python-mustercodes.html#cb167-12"></a><span class="co"># 4 = Friday</span></span>
<span id="cb167-13"><a href="python-mustercodes.html#cb167-13"></a><span class="co"># 5 = Saturday</span></span>
<span id="cb167-14"><a href="python-mustercodes.html#cb167-14"></a><span class="co"># 6 = Sunday</span></span></code></pre></div>
<p>5</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb168-1"><a href="python-mustercodes.html#cb168-1"></a>addierte_anzahl_tage <span class="op">=</span> datetime.timedelta(days <span class="op">=</span> <span class="dv">28</span>)</span>
<span id="cb168-2"><a href="python-mustercodes.html#cb168-2"></a>next_day <span class="op">=</span> fixe_zeit <span class="op">+</span> addierte_anzahl_tage</span>
<span id="cb168-3"><a href="python-mustercodes.html#cb168-3"></a>next_next_day <span class="op">=</span> next_day <span class="op">+</span> addierte_anzahl_tage</span>
<span id="cb168-4"><a href="python-mustercodes.html#cb168-4"></a>next_next_next_day <span class="op">=</span> next_next_day <span class="op">+</span> addierte_anzahl_tage</span>
<span id="cb168-5"><a href="python-mustercodes.html#cb168-5"></a>next_next_next_next_day <span class="op">=</span> next_next_next_day <span class="op">+</span> addierte_anzahl_tage</span>
<span id="cb168-6"><a href="python-mustercodes.html#cb168-6"></a>next_next_next_next_day</span></code></pre></div>
<p>datetime.datetime(2021, 3, 22, 0, 0)</p>
<p>We see that the <code>21.03.2020</code> was a <strong>Saturday</strong>. I checked it with the calendar: it’s correct =)</p>
</div>
</div>
<div id="dummy-variables-1" class="section level2">
<h2><span class="header-section-number">11.20</span> ## Dummy-Variables</h2>
<div id="create-a-normal-dummy" class="section level3">
<h3><span class="header-section-number">11.20.1</span> <a id="create-normal-dummies" style="color:black; text-decoration: none;"><u>Create a “normal” Dummy</u></a>:</h3>
<p>In Python, you need the <code>where</code>-method to create a dummy on a single condition.</p>
<p>This is equivalent to the <code>ifelse()</code>-Function in <code>R</code>:</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb169-1"><a href="python-mustercodes.html#cb169-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb169-2"><a href="python-mustercodes.html#cb169-2"></a></span>
<span id="cb169-3"><a href="python-mustercodes.html#cb169-3"></a>np.where(maupayment[<span class="st">&#39;log_month&#39;</span>] <span class="op">==</span> maupayment[<span class="st">&#39;install_month&#39;</span>], <span class="st">&#39;install&#39;</span>, <span class="st">&#39;existing&#39;</span>)</span></code></pre></div>
</div>
<div id="create-a-dummy-by-merging-flagging" class="section level3">
<h3><span class="header-section-number">11.20.2</span> <a id="flagg-dummy-by-merging" style="color:black; text-decoration: none;"><u>Create a Dummy by <code>merging</code> &amp; <code>flagging</code></u></a>:</h3>
<p>This can be useful, when you need to track which of the variable was part of the “left” and which one was part of the “right” dataset. You literally create a dummy-variable when you do this and it is called the <code>_merge</code>-column.</p>
<ul>
<li><u>Andwendungsfall 1</u>: als ich bei der SBB versucht habe, einen “Ferien-Dummy” zu kreieren.</li>
</ul>
<div class="sourceCode" id="cb170"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb170-1"><a href="python-mustercodes.html#cb170-1"></a>df2 <span class="op">=</span> df.merge(df_year_2019, </span>
<span id="cb170-2"><a href="python-mustercodes.html#cb170-2"></a>                 on<span class="op">=</span><span class="st">&#39;date&#39;</span>, <span class="co"># in this case, we merge over the &quot;date&quot;-column; note that &#39;df&#39; has 365 rows, while &#39;df_year_2019&#39; only 270 rows</span></span>
<span id="cb170-3"><a href="python-mustercodes.html#cb170-3"></a>                 how<span class="op">=</span><span class="st">&#39;outer&#39;</span>, <span class="co"># we need to set</span></span>
<span id="cb170-4"><a href="python-mustercodes.html#cb170-4"></a>                 indicator<span class="op">=</span><span class="va">True</span>) <span class="co"># the flag is &quot;indicator&quot;</span></span>
<span id="cb170-5"><a href="python-mustercodes.html#cb170-5"></a>df2 <span class="co"># we get a ddset with 360 rows. On the outside, the &#39;testo&#39;-ddset seems NOT to be different form the &#39;df&#39;, however, the purpose of the merge was to create a new dummy-variable to see from which dataset it came from</span></span></code></pre></div>
<div class="sourceCode" id="cb171"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb171-1"><a href="python-mustercodes.html#cb171-1"></a><span class="co"># step 2: we want some more meaningful values within the &#39;merge&#39;-column --&gt; apply an if-statement onto the (string-) column</span></span>
<span id="cb171-2"><a href="python-mustercodes.html#cb171-2"></a></span>
<span id="cb171-3"><a href="python-mustercodes.html#cb171-3"></a>df2.loc[df2[<span class="st">&#39;_merge&#39;</span>] <span class="op">==</span> <span class="st">&#39;both&#39;</span>, <span class="st">&#39;ferien&#39;</span>] <span class="op">=</span> <span class="dv">1</span> <span class="co"># Here, we create a column &#39;Ferien&#39;, which will be equal to &quot;1&quot;, if the value in the &#39;_merge&#39;-column is equal to the string &quot;both&quot;</span></span>
<span id="cb171-4"><a href="python-mustercodes.html#cb171-4"></a>df2.loc[df2[<span class="st">&#39;_merge&#39;</span>] <span class="op">!=</span> <span class="st">&#39;both&#39;</span>, <span class="st">&#39;ferien&#39;</span>] <span class="op">=</span> <span class="st">&#39;False&#39;</span> <span class="co"># Ferien-Dummy equals zero otherwise</span></span></code></pre></div>
</div>
</div>
<div id="dummy-variables-create-columns-for-specific-hours-seasons-of-the-year-etc" class="section level2">
<h2><span class="header-section-number">11.21</span> ## <a id="dummy-variables-for-time-variables" style="color:black; text-decoration: none;">Dummy-Variables: Create Columns for specific hours, seasons of the year etc…</a></h2>
<p>In the following, I will use a column called <code>Date-Time</code> to create <em>new</em> columns to extract some ‘time-information’ (hours, quarters etc…) needed.</p>
<div id="extract-hours-and-put-it-into-a-separate-column" class="section level3">
<h3><span class="header-section-number">11.21.1</span> <a id="dummy-for-hours" style="color:black; text-decoration: none;"><u>Extract <code>hours</code> and put it into a separate column</u></a>:</h3>
<div class="sourceCode" id="cb172"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb172-1"><a href="python-mustercodes.html#cb172-1"></a>raw_dd[<span class="st">&#39;Hour&#39;</span>] <span class="op">=</span> raw_dd[<span class="st">&#39;Date-Time&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.hour) <span class="co"># Werte von 0 [= Stunde 0:00-1:00] bis 23 [= Stunde 23:00-24:00]</span></span></code></pre></div>
</div>
<div id="extract-seasons-qarters-and-put-it-into-a-separate-column" class="section level3">
<h3><span class="header-section-number">11.21.2</span> <a id="dummy-for-quarters" style="color:black; text-decoration: none;"><u>Extract <code>Seasons</code> (= “qarters”) and put it into a separate column</u></a>:</h3>
<div class="sourceCode" id="cb173"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb173-1"><a href="python-mustercodes.html#cb173-1"></a>raw_dd[<span class="st">&#39;Quarter&#39;</span>] <span class="op">=</span> raw_dd[<span class="st">&#39;Date-Time&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.quarter) <span class="co"># Werte von 1 [Januar bis März] bis 4 [Oktober bis Dezember]</span></span></code></pre></div>
</div>
<div id="extract-days-and-put-it-into-a-separate-column" class="section level3">
<h3><span class="header-section-number">11.21.3</span> <a id="dummy-for-days" style="color:black; text-decoration: none;"><u>Extract <code>Days</code> and put it into a separate column</u></a>:</h3>
<div class="sourceCode" id="cb174"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb174-1"><a href="python-mustercodes.html#cb174-1"></a>raw_dd[<span class="st">&#39;day_of_week&#39;</span>] <span class="op">=</span> raw_dd[<span class="st">&#39;Date-Time&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.weekday()) <span class="co"># Werte von 0 [= Montag] bis 6 [= Sonntag]</span></span></code></pre></div>
</div>
</div>
<div id="scaling-variables" class="section level2">
<h2><span class="header-section-number">11.22</span> ## <a id="scaling-variables" style="color:black; text-decoration: none;">Scaling Variables</a></h2>
<p>When applying machine learning, one condition to use those fancy models will be to scale our variables first.</p>
<p>The main <strong>methods for scaling can be seen in <a href="https://stats.stackexchange.com/questions/70553/what-does-normalization-mean-and-how-to-verify-that-a-sample-or-a-distribution">this Stack-Exchange Post</a></strong>.</p>
<div id="normalization" class="section level3">
<h3><span class="header-section-number">11.22.1</span> <a id="normalization-scaling" style="color:black; text-decoration: none;"><u>Normalization</u></a>:</h3>
<p>If you normalize variables, then it means that the RANGE of possible values (= Definitionsbereich), is set between 0 and 1.</p>
<div id="scale-all-x-variables-and-your-y-variable" class="section level4">
<h4><span class="header-section-number">11.22.1.1</span> <u>Scale <em>all</em> X-Variables and your Y-variable</u>:</h4>
<div class="sourceCode" id="cb175"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb175-1"><a href="python-mustercodes.html#cb175-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> MinMaxScaler <span class="co"># Der Name der Klasse für Normalisierung = &#39;MinMaxScaler&#39; (--&gt; mega weird xDD)</span></span>
<span id="cb175-2"><a href="python-mustercodes.html#cb175-2"></a></span>
<span id="cb175-3"><a href="python-mustercodes.html#cb175-3"></a><span class="co"># step 1: initialize the Class</span></span>
<span id="cb175-4"><a href="python-mustercodes.html#cb175-4"></a>scaler_X <span class="op">=</span> MinMaxScaler(feature_range<span class="op">=</span>(<span class="dv">0</span>, <span class="dv">1</span>))</span>
<span id="cb175-5"><a href="python-mustercodes.html#cb175-5"></a>scaler_y <span class="op">=</span> MinMaxScaler(feature_range<span class="op">=</span>(<span class="dv">0</span>, <span class="dv">1</span>))</span></code></pre></div>
<div class="sourceCode" id="cb176"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb176-1"><a href="python-mustercodes.html#cb176-1"></a><span class="co"># step 2: wende den Scaler uf die X- &amp; Y-Variablen (dabei nur auf das Training-Set) an (Achtung: funktioniert nur auf numy-arrays, </span></span>
<span id="cb176-2"><a href="python-mustercodes.html#cb176-2"></a><span class="co"># aber nicht auf Series // Data-Frame Columns!)</span></span>
<span id="cb176-3"><a href="python-mustercodes.html#cb176-3"></a>scaler_X.fit(X_compl_df[:train_end_idx]) <span class="co"># alternativ: scaler_y.fit(X_train.to_numpy().reshape(-1, 1))</span></span>
<span id="cb176-4"><a href="python-mustercodes.html#cb176-4"></a>scaler_y.fit(y_compl_df[:train_end_idx]) <span class="co"># alternativ: scaler_y.fit(y_train.to_numpy().reshape(-1, 1))</span></span></code></pre></div>
<div class="sourceCode" id="cb177"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb177-1"><a href="python-mustercodes.html#cb177-1"></a><span class="co"># step 3: nach dem &quot;fit&quot; haben wir die Werte noch nicht als &quot;DataFrame&quot;-Typ gespeichert, weshalb wir nun noch &#39;transform&#39; anwenden</span></span>
<span id="cb177-2"><a href="python-mustercodes.html#cb177-2"></a>X_norm <span class="op">=</span> scaler_X.transform(X_compl_df)</span>
<span id="cb177-3"><a href="python-mustercodes.html#cb177-3"></a>y_norm <span class="op">=</span> scaler_y.transform(y_compl_df)</span></code></pre></div>
</div>
</div>
</div>
<div id="umwandlungen" class="section level2">
<h2><span class="header-section-number">11.23</span> ## <a id="umwandlungen" style="color:black; text-decoration: none;">Umwandlungen</a></h2>
<div id="convert-a-series-into-an-array" class="section level3">
<h3><span class="header-section-number">11.23.1</span> <a id="series-to-array" style="color:black; text-decoration: none;"><u>Convert a Series into an array</u></a>:</h3>
<div class="sourceCode" id="cb178"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb178-1"><a href="python-mustercodes.html#cb178-1"></a>Series.to_numpy() <span class="co"># this also works on a column of a dataframe =)</span></span></code></pre></div>
<div class="sourceCode" id="cb179"><pre class="sourceCode python"><code class="sourceCode python"></code></pre></div>
</div>
</div>
<div id="apply-if-conditions-on-a-dataframe" class="section level2">
<h2><span class="header-section-number">11.24</span> ## Apply If-Conditions on a DataFrame</h2>
<ul>
<li>Here is a really good reference: <a href="https://datatofish.com/if-condition-in-pandas-dataframe/" class="uri">https://datatofish.com/if-condition-in-pandas-dataframe/</a></li>
</ul>
</div>
<div id="visualization-of-the-data" class="section level2">
<h2><span class="header-section-number">11.25</span> ## <a id="data-viz" style="color:black; text-decoration: none;">Visualization of the Data</a></h2>
<div id="plot-save-an-image" class="section level3">
<h3><span class="header-section-number">11.25.1</span> <a id="plot-and-save-image" style="color:black; text-decoration: none;"><u>Plot &amp; Save an Image</u></a>:</h3>
<div class="sourceCode" id="cb180"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb180-1"><a href="python-mustercodes.html#cb180-1"></a><span class="co"># Step 1: import the library matplotlib for visualization</span></span>
<span id="cb180-2"><a href="python-mustercodes.html#cb180-2"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt <span class="co"># for the settings of the graph, such as title, windows-size etc...</span></span>
<span id="cb180-3"><a href="python-mustercodes.html#cb180-3"></a></span>
<span id="cb180-4"><a href="python-mustercodes.html#cb180-4"></a><span class="co"># Step 2: make the plot</span></span>
<span id="cb180-5"><a href="python-mustercodes.html#cb180-5"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">14</span>,<span class="dv">6</span>))</span>
<span id="cb180-6"><a href="python-mustercodes.html#cb180-6"></a>fig, ax <span class="op">=</span> plot_series(y_train[<span class="dv">10290</span>:<span class="dv">10320</span>], <span class="co"># only take the last 30 observations from the trainings-set</span></span>
<span id="cb180-7"><a href="python-mustercodes.html#cb180-7"></a>            y_test, </span>
<span id="cb180-8"><a href="python-mustercodes.html#cb180-8"></a>            y_pred, </span>
<span id="cb180-9"><a href="python-mustercodes.html#cb180-9"></a>            labels<span class="op">=</span>[<span class="st">&quot;y_train&quot;</span>, <span class="st">&quot;y_test&quot;</span>, <span class="st">&quot;y_pred&quot;</span>])</span>
<span id="cb180-10"><a href="python-mustercodes.html#cb180-10"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>) <span class="co"># rotates Beschriftung der X-Achse um 90-Grad, damit man überhaupt die X-Achse lesen kann</span></span>
<span id="cb180-11"><a href="python-mustercodes.html#cb180-11"></a></span>
<span id="cb180-12"><a href="python-mustercodes.html#cb180-12"></a><span class="co"># Step 3: save the plot</span></span>
<span id="cb180-13"><a href="python-mustercodes.html#cb180-13"></a>fig.savefig(<span class="st">&quot;monochrome-2-test.png&quot;</span>) <span class="co"># save the graph</span></span></code></pre></div>
</div>
<div id="for-loops-to-iterate-over-lots-of-variables-and-save-them" class="section level3">
<h3><span class="header-section-number">11.25.2</span> <a id="multi-plots-for-loop" style="color:black; text-decoration: none;"><u>For-Loops to iterate over lots of variables and save them</u></a>:</h3>
<div class="sourceCode" id="cb181"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb181-1"><a href="python-mustercodes.html#cb181-1"></a><span class="co"># step 1: create a list of all the columns, you want to iterate through</span></span>
<span id="cb181-2"><a href="python-mustercodes.html#cb181-2"></a></span>
<span id="cb181-3"><a href="python-mustercodes.html#cb181-3"></a>cov_list <span class="op">=</span> X_train.columns <span class="co"># I select all columns in my dataframe &#39;X_train&#39;</span></span></code></pre></div>
<div class="sourceCode" id="cb182"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb182-1"><a href="python-mustercodes.html#cb182-1"></a><span class="co"># step 2:</span></span>
<span id="cb182-2"><a href="python-mustercodes.html#cb182-2"></a></span>
<span id="cb182-3"><a href="python-mustercodes.html#cb182-3"></a><span class="cf">for</span> i <span class="kw">in</span> cov_list:</span>
<span id="cb182-4"><a href="python-mustercodes.html#cb182-4"></a>    <span class="bu">print</span>(i) <span class="co"># just as a check, to see how the loop progresses</span></span>
<span id="cb182-5"><a href="python-mustercodes.html#cb182-5"></a>    covariate_name <span class="op">=</span> i <span class="co"># everytime I iterate over a new variable, I store it into this variable --&gt; I will use this variable later to save each </span></span>
<span id="cb182-6"><a href="python-mustercodes.html#cb182-6"></a>    covariate <span class="op">=</span> X_train[i] <span class="co"># I need each variable to be of type &quot;Series&quot; when creating a plot</span></span>
<span id="cb182-7"><a href="python-mustercodes.html#cb182-7"></a>    x <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">720</span>, <span class="dv">24</span>)) <span class="co"># this will put a tick-mark after each day</span></span>
<span id="cb182-8"><a href="python-mustercodes.html#cb182-8"></a>    x.append(<span class="dv">719</span>) <span class="co"># I also add &#39;719&#39;, since the range()-function does not include this number</span></span>
<span id="cb182-9"><a href="python-mustercodes.html#cb182-9"></a>    fig, ax <span class="op">=</span> plot_series(covariate[<span class="op">-</span><span class="dv">720</span>:]) <span class="co"># this plots the last month</span></span>
<span id="cb182-10"><a href="python-mustercodes.html#cb182-10"></a>    plt.xticks(x)<span class="op">;</span> <span class="co"># to only display some dates</span></span>
<span id="cb182-11"><a href="python-mustercodes.html#cb182-11"></a>    plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>)<span class="op">;</span> <span class="co"># we need to rotate the x-axis, otherwise you cannot read it</span></span>
<span id="cb182-12"><a href="python-mustercodes.html#cb182-12"></a>    fig.savefig(<span class="st">&quot;visualisation_30_days-</span><span class="sc">{}</span><span class="st">.png&quot;</span>.<span class="bu">format</span>(covariate_name)) <span class="co"># save the graph for each column. The &quot;trick&quot; here is, that we can use </span></span>
<span id="cb182-13"><a href="python-mustercodes.html#cb182-13"></a>    <span class="co"># f-strings to create a unique name for each file =)</span></span></code></pre></div>
</div>
</div>
<div id="python-magic-commands" class="section level2">
<h2><span class="header-section-number">11.26</span> ## <a id="magic-commands" style="color:black; text-decoration: none;">Python Magic Commands</a></h2>
</div>
<div id="show-all-columns-of-a-dataframes" class="section level2">
<h2><span class="header-section-number">11.27</span> <u><a id="view-all-columns" style="color:black; text-decoration: none;">Show ALL Columns of a DataFrames</a></u></h2>
<p>Wenn grosse Datensätze geprinted werden, ist beim Output oftmals ein Teil der Spalten maskiert, da schlichtweg der Platz fehlt, um alle Spalten anzuzeigen. Allerdings gibt es einen Weg, die Einstellungen via <code>Pandas</code> zu ändern:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb183-1"><a href="python-mustercodes.html#cb183-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb183-2"><a href="python-mustercodes.html#cb183-2"></a></span>
<span id="cb183-3"><a href="python-mustercodes.html#cb183-3"></a>pd.set_option(<span class="st">&#39;display.max_rows&#39;</span>, <span class="dv">500</span>)</span>
<span id="cb183-4"><a href="python-mustercodes.html#cb183-4"></a></span>
<span id="cb183-5"><a href="python-mustercodes.html#cb183-5"></a>pd.set_option(<span class="st">&quot;display.max.columns&quot;</span>, <span class="va">None</span>) <span class="co"># this will tell Python: &quot;show me ALL the columns!&quot;</span></span>
<span id="cb183-6"><a href="python-mustercodes.html#cb183-6"></a>pd.set_option(<span class="st">&#39;display.max_columns&#39;</span>, <span class="dv">500</span>)</span>
<span id="cb183-7"><a href="python-mustercodes.html#cb183-7"></a></span>
<span id="cb183-8"><a href="python-mustercodes.html#cb183-8"></a>pd.set_option(<span class="st">&#39;display.width&#39;</span>, <span class="dv">1000</span>)</span></code></pre></div>
</div>
<div id="working-with-html-within-jupyter-notebooks" class="section level2">
<h2><span class="header-section-number">11.28</span> <a id="html-with-jupyter-notebooks" style="color:black; text-decoration: none;"><u>Working with HTML within Jupyter-Notebooks</u></a></h2>
<div id="how-to-use-anchor-tags-to-make-references-within-your-jupyter-notebook" class="section level3">
<h3><span class="header-section-number">11.28.1</span> <u>How to use anchor-tags to make references within your Jupyter-Notebook</u>?</h3>
<p><a href="python-mustercodes.html#top">Klick here to move to the very top of this Jupyter-Notebook</a>. This is achieved by using the <code>&lt;a&gt;</code>-HTML-Tag, and some unique ID-name &amp; <code>CSS</code>-styling on the <code>&lt;a&gt;</code>-Tag.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb184-1"><a href="python-mustercodes.html#cb184-1"></a><span class="kw">&lt;a</span><span class="ot"> id=</span><span class="st">&quot;gebe-hier-passenden-id-namen&quot;</span><span class="ot"> style=</span><span class="st">&quot;color:black; text-decoration: none;&quot;</span><span class="kw">&gt;</span>Hier kommt der Text, auf welchem du zeigen willst...<span class="kw">&lt;/a&gt;</span></span></code></pre></div>
<div class="sourceCode" id="cb185"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb185-1"><a href="python-mustercodes.html#cb185-1"></a><span class="ot">[Und das ist der Text, welcher dich weiterleitet](#top)</span></span></code></pre></div>
</div>
</div>
<div id="share-variables-between-notebooks" class="section level2">
<h2><span class="header-section-number">11.29</span> <a id="share-variables-between-notebooks" style="color:black; text-decoration: none;"><u>Share Variables between Notebooks</u></a></h2>
<p>This <code>Magic Commands</code> allows you to share any variable between different Jupyter Notebooks. You need to pass the original variable with the magic command. To retrieve the variable, you need to pass the same command with the <code>-r</code> parameter.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb186-1"><a href="python-mustercodes.html#cb186-1"></a>myData <span class="op">=</span> <span class="st">&quot;The World Makes Sense&quot;</span></span>
<span id="cb186-2"><a href="python-mustercodes.html#cb186-2"></a><span class="op">%</span>store myData</span></code></pre></div>
<p>Stored ‘myData’ (str)</p>
<p>Now that you ‘saved’ the variable <code>myData</code> with the <code>Magic Commands</code>, <strong>go and open another of your Jupyter Notebooks</strong> and type in the following:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb187-1"><a href="python-mustercodes.html#cb187-1"></a><span class="op">%</span>store <span class="op">-</span>r myData <span class="co"># step one: run this line in the first cell</span></span>
<span id="cb187-2"><a href="python-mustercodes.html#cb187-2"></a>myData <span class="co"># step 2: run this line in the secons cell</span></span></code></pre></div>
</div>
<div id="useful-tricks-i-stumbled-upon" class="section level2">
<h2><span class="header-section-number">11.30</span> ## <a id="useful-tricks" style="color:black; text-decoration: none;">Useful “Tricks” I stumbled upon</a></h2>
<div id="reshape-1-1" class="section level3">
<h3><span class="header-section-number">11.30.1</span> <a id="reshape-1-1" style="color:black; text-decoration: none;"><u>Reshape(-1, 1)</u></a>:</h3>
<blockquote>
<p>What does <code>reshape(-1,1)</code> do?</p>
</blockquote>
<p>If you have an array or list, like this: <code>[1,2,3,4,5]</code>…</p>
<p>Using <code>reshape(-1,1)</code> on it, will create a new <strong>list of lists, with only 1 element in each sub-list</strong>, e.g. the output will be <code>[[1], [2], [3], [4], [5]]</code>.</p>
<p><em>See also <a href="https://stackoverflow.com/questions/18691084/what-does-1-mean-in-numpy-reshape">this Stack-Overflow answer</a></em>.</p>
</div>
</div>
<div id="math-tricks-for-hacks" class="section level2">
<h2><span class="header-section-number">11.31</span> ## <a id="math-tricks" style="color:black; text-decoration: none;">Math Tricks for Hacks</a></h2>
<div id="how-to-always-round-downwards" class="section level3">
<h3><span class="header-section-number">11.31.1</span> <a id="round-downwards" style="color:black; text-decoration: none;"><u>How to <em>always</em> round downwards</u></a>?:</h3>
<p>Mit der Funktion <code>round</code>, kann man auf- oder abwärts runden, wie wir es gewohnt sind:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb188-1"><a href="python-mustercodes.html#cb188-1"></a><span class="bu">round</span>(<span class="dv">47</span><span class="op">/</span><span class="dv">24</span>, ndigits <span class="op">=</span> <span class="dv">2</span>) <span class="co"># runde auf 2 Nachkommastellen</span></span></code></pre></div>
<p>1.96</p>
<p><strong>Mit der <code>floor</code>-Funktion, kann allerdings stets abwärts gerundet werden, wie das Beispiel zeigt</strong>:</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb189-1"><a href="python-mustercodes.html#cb189-1"></a><span class="im">import</span> math <span class="co"># um &#39;floo&#39;</span></span>
<span id="cb189-2"><a href="python-mustercodes.html#cb189-2"></a></span>
<span id="cb189-3"><a href="python-mustercodes.html#cb189-3"></a>math.floor(<span class="dv">47</span><span class="op">/</span><span class="dv">24</span>)</span></code></pre></div>
<p>1</p>
</div>
<div id="calculate-the-median" class="section level3">
<h3><span class="header-section-number">11.31.2</span> <a id="calc-median" style="color:black; text-decoration: none;"><u>Calculate the Median?</u></a></h3>
<p>Since there is no built-in function for the median, you can write a function which will be able to calculate the median:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb190-1"><a href="python-mustercodes.html#cb190-1"></a><span class="co"># Step 1: make a function for the case &quot;median calculation for an ODD (= ungerade) list of numbers&quot;</span></span>
<span id="cb190-2"><a href="python-mustercodes.html#cb190-2"></a></span>
<span id="cb190-3"><a href="python-mustercodes.html#cb190-3"></a><span class="kw">def</span> _median_odd(xs) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb190-4"><a href="python-mustercodes.html#cb190-4"></a>    <span class="cf">return</span> <span class="bu">sorted</span>(xs)[<span class="bu">len</span>(xs) <span class="op">//</span> <span class="dv">2</span>]</span></code></pre></div>
<div class="sourceCode" id="cb191"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb191-1"><a href="python-mustercodes.html#cb191-1"></a><span class="co"># Step 2: make a function for the case &quot;median calculation for an EVEN (= gerade) list of numbers&quot;</span></span>
<span id="cb191-2"><a href="python-mustercodes.html#cb191-2"></a></span>
<span id="cb191-3"><a href="python-mustercodes.html#cb191-3"></a><span class="kw">def</span> _median_even(xs) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb191-4"><a href="python-mustercodes.html#cb191-4"></a>    sorted_xs <span class="op">=</span> <span class="bu">sorted</span>(xs)</span>
<span id="cb191-5"><a href="python-mustercodes.html#cb191-5"></a>    hi_midpoint <span class="op">=</span> <span class="bu">len</span>(xs) <span class="op">//</span> <span class="dv">2</span></span>
<span id="cb191-6"><a href="python-mustercodes.html#cb191-6"></a>    <span class="cf">return</span> (sorted_xs[hi_midpoint <span class="op">-</span> <span class="dv">1</span>] <span class="op">+</span> sorted_xs[hi_midpoint]) <span class="op">/</span> <span class="dv">2</span></span></code></pre></div>
<div class="sourceCode" id="cb192"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb192-1"><a href="python-mustercodes.html#cb192-1"></a><span class="co"># Step 3: Use the 2 above functions to finally be able to build the median-function</span></span>
<span id="cb192-2"><a href="python-mustercodes.html#cb192-2"></a></span>
<span id="cb192-3"><a href="python-mustercodes.html#cb192-3"></a><span class="kw">def</span> median(v) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb192-4"><a href="python-mustercodes.html#cb192-4"></a>    <span class="cf">return</span> _median_even(v) <span class="cf">if</span> <span class="bu">len</span>(v) <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span> <span class="cf">else</span> _median_odd(v)</span></code></pre></div>
<div class="sourceCode" id="cb193"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb193-1"><a href="python-mustercodes.html#cb193-1"></a><span class="cf">assert</span> median([<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">2</span>, <span class="dv">9</span>, <span class="dv">5</span>]) <span class="op">==</span> <span class="dv">5</span> <span class="co"># check if the above function was written correctly (you can change the number &#39;5&#39; and see</span></span>
<span id="cb193-2"><a href="python-mustercodes.html#cb193-2"></a><span class="co"># what happens, if this expression becomes incorrect)</span></span></code></pre></div>
</div>
</div>
<div id="fun" class="section level2">
<h2><span class="header-section-number">11.32</span> ## Fun</h2>
<p>In this section, I will just put some important concepts &amp; some of my “inventions” that I found useful.</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb194-1"><a href="python-mustercodes.html#cb194-1"></a><span class="im">import</span> random </span>
<span id="cb194-2"><a href="python-mustercodes.html#cb194-2"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb194-3"><a href="python-mustercodes.html#cb194-3"></a></span>
<span id="cb194-4"><a href="python-mustercodes.html#cb194-4"></a>df <span class="op">=</span> pd.DataFrame(np.random.randn(<span class="dv">10</span>, <span class="dv">2</span>),</span>
<span id="cb194-5"><a href="python-mustercodes.html#cb194-5"></a>                  columns<span class="op">=</span>[<span class="st">&#39;Col1&#39;</span>, <span class="st">&#39;Col2&#39;</span>])</span>
<span id="cb194-6"><a href="python-mustercodes.html#cb194-6"></a>df[<span class="st">&#39;X&#39;</span>] <span class="op">=</span> pd.Series([<span class="st">&#39;A&#39;</span>, <span class="st">&#39;A&#39;</span>, <span class="st">&#39;A&#39;</span>, <span class="st">&#39;A&#39;</span>, <span class="st">&#39;A&#39;</span>,</span>
<span id="cb194-7"><a href="python-mustercodes.html#cb194-7"></a>                     <span class="st">&#39;B&#39;</span>, <span class="st">&#39;B&#39;</span>, <span class="st">&#39;B&#39;</span>, <span class="st">&#39;B&#39;</span>, <span class="st">&#39;B&#39;</span>])</span></code></pre></div>
<div class="sourceCode" id="cb195"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb195-1"><a href="python-mustercodes.html#cb195-1"></a>df</span></code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th>
</th>
<th>
Col1
</th>
<th>
Col2
</th>
<th>
X
</th>
</tr>
</thead>
<tbody>
<tr>
<th>
0
</th>
<td>
1.616909
</td>
<td>
-0.998962
</td>
<td>
A
</td>
</tr>
<tr>
<th>
1
</th>
<td>
0.036902
</td>
<td>
-0.991193
</td>
<td>
A
</td>
</tr>
<tr>
<th>
2
</th>
<td>
-1.418524
</td>
<td>
-0.070984
</td>
<td>
A
</td>
</tr>
<tr>
<th>
3
</th>
<td>
1.207328
</td>
<td>
1.896855
</td>
<td>
A
</td>
</tr>
<tr>
<th>
4
</th>
<td>
1.376757
</td>
<td>
-0.333235
</td>
<td>
A
</td>
</tr>
<tr>
<th>
5
</th>
<td>
0.295216
</td>
<td>
1.488426
</td>
<td>
B
</td>
</tr>
<tr>
<th>
6
</th>
<td>
1.226809
</td>
<td>
-1.351006
</td>
<td>
B
</td>
</tr>
<tr>
<th>
7
</th>
<td>
0.476242
</td>
<td>
-0.431204
</td>
<td>
B
</td>
</tr>
<tr>
<th>
8
</th>
<td>
-1.565872
</td>
<td>
1.174200
</td>
<td>
B
</td>
</tr>
<tr>
<th>
9
</th>
<td>
-0.469251
</td>
<td>
-0.353409
</td>
<td>
B
</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb196"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb196-1"><a href="python-mustercodes.html#cb196-1"></a><span class="cf">for</span> i,el <span class="kw">in</span> <span class="bu">enumerate</span>(<span class="bu">list</span>(df.columns.values)[:<span class="op">-</span><span class="dv">1</span>]):</span>
<span id="cb196-2"><a href="python-mustercodes.html#cb196-2"></a>    a <span class="op">=</span> df.boxplot(el, by <span class="op">=</span><span class="st">&#39;type&#39;</span>)</span></code></pre></div>
<div class="figure">
<img src="output_252_0.png" alt="" />
<p class="caption">png</p>
</div>
<div class="figure">
<img src="output_252_1.png" alt="" />
<p class="caption">png</p>
</div>
<div class="figure">
<img src="output_252_2.png" alt="" />
<p class="caption">png</p>
</div>
<div id="arbeitszeit-left-to-work-berechnung" class="section level3">
<h3><span class="header-section-number">11.32.1</span> <u>Arbeitszeit (left to work…) Berechnung</u>:</h3>
<p>Um zu sehen, <strong>wie viele Stunden &amp; Minuten ich heute noch arbeiten muss</strong>, habe ich - als Übung - eine Funktion <code>hours_to_go</code> selbst erfasst, welche mir die Anzahl an noch zu verbleibenden Arbeitsstunden am Tag berechnet:</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb197-1"><a href="python-mustercodes.html#cb197-1"></a><span class="dv">4</span><span class="op">*</span><span class="dv">30</span><span class="op">*</span><span class="dv">24</span></span></code></pre></div>
<p>2880</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb198-1"><a href="python-mustercodes.html#cb198-1"></a><span class="im">import</span> datetime <span class="co"># Da wir mit &quot;Zeit&quot; arbeiten, brauche ich das Package &quot;datetime&quot;</span></span>
<span id="cb198-2"><a href="python-mustercodes.html#cb198-2"></a></span>
<span id="cb198-3"><a href="python-mustercodes.html#cb198-3"></a></span>
<span id="cb198-4"><a href="python-mustercodes.html#cb198-4"></a><span class="kw">def</span> hours_to_go(Stunden, Minuten): <span class="co"># Input: wie viele Stunden &amp; Minuten hast du heute bereits gearbeitet?</span></span>
<span id="cb198-5"><a href="python-mustercodes.html#cb198-5"></a>    <span class="co">&quot;&quot;&quot;gibt an, wie lange ich noch heute &quot;Schaffen&quot; muss --&gt; gebe dafür bloss die Anzahl stunden &amp; minuten ein, die du &quot;heute&quot; </span></span>
<span id="cb198-6"><a href="python-mustercodes.html#cb198-6"></a><span class="co">    bereits gearbeitet hast</span></span>
<span id="cb198-7"><a href="python-mustercodes.html#cb198-7"></a><span class="co">    &gt; hours_to_go(3,5) --&gt; 0507 </span></span>
<span id="cb198-8"><a href="python-mustercodes.html#cb198-8"></a><span class="co">    interpretation: ich habe fix 8h 12min zu arbeiten. Davon ziehe ich nun 3h 5 min ab --&gt; 0507 heisst, ich habe noch 5h 7min </span></span>
<span id="cb198-9"><a href="python-mustercodes.html#cb198-9"></a><span class="co">    zu arbeiten, was stimmt!&quot;&quot;&quot;</span></span>
<span id="cb198-10"><a href="python-mustercodes.html#cb198-10"></a>    </span>
<span id="cb198-11"><a href="python-mustercodes.html#cb198-11"></a>    fixe_arbeitszeit <span class="op">=</span> datetime.datetime(<span class="dv">2021</span>, <span class="dv">7</span>, <span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">12</span>) <span class="co"># datetime(year, month, day, hour, minute, second, microsecond), </span></span>
<span id="cb198-12"><a href="python-mustercodes.html#cb198-12"></a>    <span class="co"># wobei die ersten 3 Argumente (Jahr, Monat, Tag) OBLIGATORISCH sind! --&gt; hier interessiert uns die letzten 2 Inputs, </span></span>
<span id="cb198-13"><a href="python-mustercodes.html#cb198-13"></a>    <span class="co"># nämlich die &quot;8&quot; und die &quot;12&quot; --&gt; diese wiederspiegeln meine fixe 8h 12 min Arbeitszeit bei der SBB</span></span>
<span id="cb198-14"><a href="python-mustercodes.html#cb198-14"></a>    gearbeitet <span class="op">=</span> datetime.timedelta(hours<span class="op">=</span> Stunden, minutes<span class="op">=</span> Minuten) <span class="co"># anzahl an Stunden, die du noch arbeiten musst</span></span>
<span id="cb198-15"><a href="python-mustercodes.html#cb198-15"></a>    wie_lange_noch <span class="op">=</span> fixe_arbeitszeit <span class="op">-</span> gearbeitet</span>
<span id="cb198-16"><a href="python-mustercodes.html#cb198-16"></a>    <span class="bu">print</span>(wie_lange_noch.strftime(<span class="st">&quot;%H%M&quot;</span>))</span>
<span id="cb198-17"><a href="python-mustercodes.html#cb198-17"></a>    </span>
<span id="cb198-18"><a href="python-mustercodes.html#cb198-18"></a>hours_to_go(<span class="dv">0</span>,<span class="dv">5</span>) <span class="co"># call the function to output, how many hours are left to work</span></span></code></pre></div>
<p>0807</p>
<p>Um zu sehen, <strong>um welche Uhrzeit ich heute Feierabend machen darf</strong>, habe ich - als Übung - eine Funktion <code>arbeit_ende</code> selbst erfasst:</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb199-1"><a href="python-mustercodes.html#cb199-1"></a><span class="im">import</span> datetime <span class="co"># Da wir mit &quot;Zeit&quot; arbeiten, brauche ich das Package &quot;datetime&quot;</span></span>
<span id="cb199-2"><a href="python-mustercodes.html#cb199-2"></a></span>
<span id="cb199-3"><a href="python-mustercodes.html#cb199-3"></a><span class="kw">def</span> arbeit_ende(Stunden, Minuten): </span>
<span id="cb199-4"><a href="python-mustercodes.html#cb199-4"></a>    <span class="co">&quot;&quot;&quot;gibt an, wann ich heute mit &quot;Schaffen&quot; fertig bin --&gt; gebe dafür bloss die Anzahl stunden &amp; minuten ein, die du &quot;heute&quot; </span></span>
<span id="cb199-5"><a href="python-mustercodes.html#cb199-5"></a><span class="co">    noch arbeiten musst, zum Beispiel arbeite ich heute noch &#39;4h 44 min&#39;:</span></span>
<span id="cb199-6"><a href="python-mustercodes.html#cb199-6"></a><span class="co">    &gt; arbeit_ende(4, 44) --&gt; 2021-07-01 17:53:02.907698 &quot;&quot;&quot;</span></span>
<span id="cb199-7"><a href="python-mustercodes.html#cb199-7"></a>    </span>
<span id="cb199-8"><a href="python-mustercodes.html#cb199-8"></a>    jetzt <span class="op">=</span> datetime.datetime.now() <span class="co"># current time</span></span>
<span id="cb199-9"><a href="python-mustercodes.html#cb199-9"></a>    added_time <span class="op">=</span> datetime.timedelta(hours<span class="op">=</span> Stunden, minutes<span class="op">=</span> Minuten) <span class="co"># anzahl an Stunden, die du noch arbeiten musst</span></span>
<span id="cb199-10"><a href="python-mustercodes.html#cb199-10"></a>    ende <span class="op">=</span> jetzt <span class="op">+</span> added_time</span>
<span id="cb199-11"><a href="python-mustercodes.html#cb199-11"></a>    <span class="bu">print</span>(ende)</span>
<span id="cb199-12"><a href="python-mustercodes.html#cb199-12"></a>    </span>
<span id="cb199-13"><a href="python-mustercodes.html#cb199-13"></a>    </span>
<span id="cb199-14"><a href="python-mustercodes.html#cb199-14"></a>arbeit_ende(<span class="dv">8</span>,<span class="dv">7</span>) <span class="co"># call the function to output, until when I need to work today </span></span></code></pre></div>
<p>2021-07-29 15:53:13.919695</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="mengenlehre.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="openai.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/joffreymayer/ds-from-scratch/edit/master/98-python-mustercodes.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/joffreymayer/ds-from-scratch/blob/master/98-python-mustercodes.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
